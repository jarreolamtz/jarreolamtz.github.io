var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},s=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=s.prototype.render},a=1e-10,o=i._internals,h=o.isSelector,l=o.isArray,u=s.prototype=i.to({},.1,{}),c=[];s.version="1.19.1",u.constructor=s,u.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(t,e){var n,r=this.ratio,s=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var o,h=1/(1-r),l=this._firstPT;l;)o=l.s+l.c,l.c*=h,l.s=o-l.c,l=l._next;return this},u.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,s,h,l,u,c,f,_=this._dirty?this.totalDuration():this._totalDuration,d=this._time,p=this._totalTime,g=this._cycle,m=this._duration,v=this._rawPrevTime;if(t>=_-1e-7&&t>=0?(this._totalTime=_,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=m,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===m&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>v||0>=t&&t>=-1e-7||v===a&&"isPause"!==this.data)&&v!==t&&(i=!0,v>a&&(r="onReverseComplete")),this._rawPrevTime=f=!e||t||v===t?t:a)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===m&&v>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===m&&(this._initted||!this.vars.lazy||i)&&(v>=0&&(i=!0),this._rawPrevTime=f=!e||t||v===t?t:a)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=m+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&t>=p&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?this._time=m:this._time<0&&(this._time=0)),this._easeType?(l=this._time/m,u=this._easeType,c=this._easePower,(1===u||3===u&&l>=.5)&&(l=1-l),3===u&&(l*=2),1===c?l*=l:2===c?l*=l*l:3===c?l*=l*l*l:4===c&&(l*=l*l*l*l),1===u?this.ratio=1-l:2===u?this.ratio=l:this._time/m<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/m)),d===this._time&&!i&&g===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=p,this._rawPrevTime=v,this._cycle=g,o.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/m):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===p&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===m)&&(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==p||r)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===m&&this._rawPrevTime===a&&f!==a&&(this._rawPrevTime=0))},s.to=function(t,e,i){return new s(t,e,i)},s.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(t,e,i)},s.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(t,e,n)},s.staggerTo=s.allTo=function(t,e,a,o,u,f,_){o=o||0;var d,p,g,m,v=0,y=[],x=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),u.apply(_||a.callbackScope||this,f||c)},w=a.cycle,b=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),h(t)&&(t=n(t))),t=t||[],0>o&&(t=n(t),t.reverse(),o*=-1),d=t.length-1,g=0;d>=g;g++){p={};for(m in a)p[m]=a[m];if(w&&(r(p,t,g),null!=p.duration&&(e=p.duration,delete p.duration)),b){b=p.startAt={};for(m in a.startAt)b[m]=a.startAt[m];r(p.startAt,t,g)}p.delay=v+(p.delay||0),g===d&&u&&(p.onComplete=x),y[g]=new s(t[g],e,p),v+=o}return y},s.staggerFrom=s.allFrom=function(t,e,i,n,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(t,e,i,n,r,a,o)},s.staggerFromTo=s.allFromTo=function(t,e,i,n,r,a,o,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(t,e,n,r,a,o,h)},s.delayedCall=function(t,e,i,n,r){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var f=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),n=n.concat(f(s,e)),r=n.length),s=s._next;return n},_=s.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};s.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,a,o,h=_(0!=r),l=h.length,u=i&&n&&r;for(o=0;l>o;o++)a=h[o],(u||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var r,a,u,c,f,_=o.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),h(t)&&(t=n(t)),l(t))for(c=t.length;--c>-1;)s.killChildTweensOf(t[c],e);else{r=[];for(u in _)for(a=_[u].target.parentNode;a;)a===t&&(r=r.concat(_[u].tweens)),a=a.parentNode;for(f=r.length,c=0;f>c;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var d=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,a,o=_(r),h=i&&n&&r,l=o.length;--l>-1;)a=o[l],(h||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&a.paused(t)};return s.pauseAll=function(t,e,i){d(!0,t,e,i)},s.resumeAll=function(t,e,i){d(!1,t,e,i)},s.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||a,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals,a=n._internals={},o=s.isSelector,h=s.isArray,l=s.lazyTweens,u=s.lazyRender,c=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},_=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},d=a.pauseCallback=function(){},p=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.19.1",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,r){var s=n.repeat&&c.TweenMax||i;return e?this.add(new s(t,e,n),r):this.set(t,n,r)},g.from=function(t,e,n,r){return this.add((n.repeat&&c.TweenMax||i).from(t,e,n),r)},g.fromTo=function(t,e,n,r,s){var a=r.repeat&&c.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),s):this.set(t,r,s)},g.staggerTo=function(t,e,r,s,a,h,l,u){var c,d,g=new n({onComplete:h,onCompleteParams:l,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),m=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=p(t)),s=s||0,0>s&&(t=p(t),t.reverse(),s*=-1),d=0;d<t.length;d++)c=f(r),c.startAt&&(c.startAt=f(c.startAt),c.startAt.cycle&&_(c.startAt,t,d)),m&&(_(c,t,d),null!=c.duration&&(e=c.duration,delete c.duration)),g.to(t[d],e,c,d*s);return this.add(g,a)},g.staggerFrom=function(t,e,i,n,r,s,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,a,o)},g.staggerFromTo=function(t,e,i,n,r,s,a,o,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,a,o,h)},g.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,a=new n(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)s=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=s;return o.add(a,0),a},g.add=function(r,s,a,o){var l,u,c,f,_,d;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&h(r)){for(a=a||"normal",o=o||0,l=s,u=r.length,c=0;u>c;c++)h(f=r[c])&&(f=new n({tweens:f})),this.add(f,l),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?l=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),l+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(_=this,d=_.rawTime()>r._startTime;_._timeline;)d&&_._timeline.smoothChildTiming?_.totalTime(_._totalTime,!0):_._gc&&_._enabled(!0,!1),_=_._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&h(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,r){var s=i.delayedCall(0,d,n,r||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,r){var s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,a,o,h,c,f,_=this._dirty?this.totalDuration():this._totalDuration,d=this._time,p=this._startTime,g=this._timeScale,m=this._paused;if(t>=_-1e-7&&t>=0)this._totalTime=this._time=_,this._reversed||this._hasPausedChild()||(s=!0,o="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=_+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",s=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=s=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(h=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!c;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(c=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!c;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(c=n),n=n._prev;c&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||h||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),f=this._time,f>=d)for(n=this._first;n&&(a=n._next,f===this._time&&(!this._paused||m));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(c===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,f===this._time&&(!this._paused||m));){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(c===n){for(c=n._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(l.length&&u(),this._callback("onUpdate"))),o&&(this._gc||(p===this._startTime||g!==this._timeScale)&&(0===this._time||_>=this.totalDuration())&&(s&&(l.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],a=this._first,o=0;a;)a._startTime<r||(a instanceof i?e!==!1&&(s[o++]=a):(n!==!1&&(s[o++]=a),t!==!1&&(s=s.concat(a.getChildren(!0,e,n)),o=s.length))),a=a._next;return s},g.getTweensOf=function(t,e){var n,r,s=this._gc,a=[],o=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[o++]=n[r]);return s&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=e._internals,a=s.lazyTweens,o=s.lazyRender,h=_gsScope._gsDefine.globals,l=new i(null,null,1,0),u=n.prototype=new t;return u.constructor=n,u.kill()._gc=!1,n.version="1.19.1",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,i){i=i||{};var n,r,s,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1},o=i.repeat&&h.TweenMax||e;for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,s=new o(this,n,a),a.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&n===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||s,i.onStartParams||[])},s},u.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,h,l,u,c,f,_,d=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,g=this._time,m=this._totalTime,v=this._startTime,y=this._timeScale,x=this._rawPrevTime,w=this._paused,b=this._cycle;if(t>=d-1e-7&&t>=0)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||0>x||x===r)&&x!==t&&this._first&&(u=!0,x>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=p,t=p+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===p&&x!==r&&(x>0||0>t&&x>=0)&&!this._locked)&&(l="onReverseComplete",s=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=s=!0,l="onReverseComplete"):x>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=p||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(u=!0)}else if(0===p&&0>x&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=p+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&t>=m&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,t=p+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e&&p>t){if(t=this._time,t>=g||this._repeat&&b!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==b&&!this._locked){var S=this._yoyo&&0!==(1&b),T=S===(this._yoyo&&0!==(1&this._cycle)),C=this._totalTime,P=this._cycle,k=this._rawPrevTime,O=this._time;if(this._totalTime=b*p,this._cycle<b?S=!S:this._totalTime+=p,this._time=g,this._rawPrevTime=0===p?x-1e-4:x,this._cycle=b,this._locked=!0,g=S?0:p,this.render(g,e,0===p),e||this._gc||this.vars.onRepeat&&(this._cycle=P,this._locked=!1,this._callback("onRepeat")),g!==this._time)return;if(T&&(this._cycle=b,this._locked=!0,g=S?p+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=O,this._totalTime=C,this._cycle=P,this._rawPrevTime=k}if(!(this._time!==g&&this._first||i||u||f))return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),_=this._time,_>=g)for(n=this._first;n&&(h=n._next,_===this._time&&(!this._paused||w));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(f===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=h;else for(n=this._last;n&&(h=n._prev,_===this._time&&(!this._paused||w));){if(n._active||n._startTime<=g&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,i),f=f._prev;f=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=h}this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),l&&(this._locked||this._gc||(v===this._startTime||y!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(s&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},u.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],a=this.getChildren(t,e,i),o=0,h=a.length;for(n=0;h>n;n++)r=a[n],r.isActive()&&(s[o++]=r);return s},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},u.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},s=_gsScope._gsDefine.globals,a=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(t,e,i,n){var r={a:t},s={},a={},o={c:n},h=(t+e)/2,l=(e+i)/2,u=(i+n)/2,c=(h+l)/2,f=(l+u)/2,_=(f-c)/8;return r.b=h+(t-h)/4,s.b=c+_,r.c=s.a=(r.b+s.b)/2,s.c=a.a=(c+f)/2,a.b=f-_,o.b=u+(n-u)/4,a.c=o.a=(a.b+o.b)/2,[r,s,a,o]},l=function(t,r,s,a,o){var l,u,c,f,_,d,p,g,m,v,y,x,w,b=t.length-1,S=0,T=t[0].a;for(l=0;b>l;l++)_=t[S],u=_.a,c=_.d,f=t[S+1].d,o?(y=e[l],x=i[l],w=(x+y)*r*.25/(a?.5:n[l]||.5),d=c-(c-u)*(a?.5*r:0!==y?w/y:0),p=c+(f-c)*(a?.5*r:0!==x?w/x:0),g=c-(d+((p-d)*(3*y/(y+x)+.5)/4||0))):(d=c-(c-u)*r*.5,p=c+(f-c)*r*.5,g=c-(d+p)/2),d+=g,p+=g,_.c=m=d,0!==l?_.b=T:_.b=T=_.a+.6*(_.c-_.a),_.da=c-u,_.ca=m-u,_.ba=T-u,s?(v=h(u,T,m,c),t.splice(S,1,v[0],v[1],v[2],v[3]),S+=4):S++,T=p;_=t[S],_.b=T,_.c=T+.4*(_.d-T),_.da=_.d-_.a,_.ca=_.c-_.a,_.ba=T-_.a,s&&(v=h(_.a,T,_.c,_.d),t.splice(S,1,v[0],v[1],v[2],v[3]))},u=function(t,n,r,s){var o,h,l,u,c,f,_=[];if(s)for(t=[s].concat(t),h=t.length;--h>-1;)"string"==typeof(f=t[h][n])&&"="===f.charAt(1)&&(t[h][n]=s[n]+Number(f.charAt(0)+f.substr(2)));if(o=t.length-2,0>o)return _[0]=new a(t[0][n],0,0,t[-1>o?0:1][n]),_;for(h=0;o>h;h++)l=t[h][n],u=t[h+1][n],_[h]=new a(l,0,0,u),r&&(c=t[h+2][n],e[h]=(e[h]||0)+(u-l)*(u-l),i[h]=(i[h]||0)+(c-u)*(c-u));return _[h]=new a(t[h][n],0,0,t[h+1][n]),_},c=function(t,s,a,h,c,f){var _,d,p,g,m,v,y,x,w={},b=[],S=f||t[0];c="string"==typeof c?","+c+",":o,null==s&&(s=1);for(d in t[0])b.push(d);if(t.length>1){for(x=t[t.length-1],y=!0,_=b.length;--_>-1;)if(d=b[_],Math.abs(S[d]-x[d])>.05){y=!1;break}y&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=i.length=n.length=0,_=b.length;--_>-1;)d=b[_],r[d]=-1!==c.indexOf(","+d+","),w[d]=u(t,d,r[d],f);for(_=e.length;--_>-1;)e[_]=Math.sqrt(e[_]),i[_]=Math.sqrt(i[_]);if(!h){for(_=b.length;--_>-1;)if(r[d])for(p=w[b[_]],v=p.length-1,g=0;v>g;g++)m=p[g+1].da/i[g]+p[g].da/e[g]||0,n[g]=(n[g]||0)+m*m;for(_=n.length;--_>-1;)n[_]=Math.sqrt(n[_])}for(_=b.length,g=a?4:1;--_>-1;)d=b[_],p=w[d],l(p,s,a,h,r[d]),y&&(p.splice(0,g),p.splice(p.length-g,g));return w},f=function(t,e,i){e=e||"soft";var n,r,s,o,h,l,u,c,f,_,d,p={},g="cubic"===e?3:2,m="soft"===e,v=[];if(m&&i&&(t=[i].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(f in t[0])v.push(f);for(l=v.length;--l>-1;){for(f=v[l],p[f]=h=[],_=0,c=t.length,u=0;c>u;u++)n=null==i?t[u][f]:"string"==typeof(d=t[u][f])&&"="===d.charAt(1)?i[f]+Number(d.charAt(0)+d.substr(2)):Number(d),m&&u>1&&c-1>u&&(h[_++]=(n+h[_-2])/2),h[_++]=n;for(c=_-g+1,_=0,u=0;c>u;u+=g)n=h[u],r=h[u+1],s=h[u+2],o=2===g?0:h[u+3],h[_++]=d=3===g?new a(n,r,s,o):new a(n,(2*r+n)/3,(2*r+s)/3,s);h.length=_}return p},_=function(t,e,i){for(var n,r,s,a,o,h,l,u,c,f,_,d=1/i,p=t.length;--p>-1;)for(f=t[p],s=f.a,a=f.d-s,
o=f.c-s,h=f.b-s,n=r=0,u=1;i>=u;u++)l=d*u,c=1-l,n=r-(r=(l*l*a+3*c*(l*o+c*h))*l),_=p*i+u-1,e[_]=(e[_]||0)+n*n},d=function(t,e){e=e>>0||6;var i,n,r,s,a=[],o=[],h=0,l=0,u=e-1,c=[],f=[];for(i in t)_(t[i],a,e);for(r=a.length,n=0;r>n;n++)h+=Math.sqrt(a[n]),s=n%e,f[s]=h,s===u&&(l+=h,s=n/e>>0,c[s]=f,o[s]=l,h=0,f=[]);return{length:l,lengths:o,segments:c}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,a,o,h=e.values||[],l={},u=h[0],_=e.autoRotate||i.vars.orientToBezier;this._autoRotate=_?_ instanceof Array?_:[["x","y","rotation",_===!0?0:Number(_)||0]]:null;for(n in u)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],l[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),o||l[n]!==h[0][n]&&(o=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):f(h,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var p=d(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(_=this._autoRotate)for(this._initialRotations=[],_[0]instanceof Array||(this._autoRotate=_=[_]),s=_.length;--s>-1;){for(a=0;3>a;a++)n=_[s][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=_[s][2],this._initialRotations[s]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,a,o,h,l,u,c,f=this._segCount,_=this._func,d=this._target,p=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&f-1>r){for(l=f-1;l>r&&(this._l2=u[++r])<=e;);this._l1=u[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=u[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=u[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(l=c.length-1;l>r&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=0>e?0:e>=1?f-1:f*e>>0,o=(e-i*(1/f))*f;for(n=1-o,r=this._props.length;--r>-1;)s=this._props[r],a=this._beziers[s][i],h=(o*o*a.da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._mod[s]&&(h=this._mod[s](h,d)),_[s]?d[s](h):d[s]=h;if(this._autoRotate){var g,m,v,y,x,w,b,S=this._autoRotate;for(r=S.length;--r>-1;)s=S[r][2],w=S[r][3]||0,b=S[r][4]===!0?1:t,a=this._beziers[S[r][0]],g=this._beziers[S[r][1]],a&&g&&(a=a[i],g=g[i],m=a.a+(a.b-a.a)*o,y=a.b+(a.c-a.b)*o,m+=(y-m)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=g.a+(g.b-g.a)*o,x=g.b+(g.c-g.b)*o,v+=(x-v)*o,x+=(g.c+(g.d-g.c)*o-x)*o,h=p?Math.atan2(x-v,y-m)*b+w:this._initialRotations[r],this._mod[s]&&(h=this._mod[s](h,d)),_[s]?d[s](h):d[s]=h)}}}),g=p.prototype;p.bezierThrough=c,p.cubicToQuadratic=h,p._autoCSS=!0,p.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},p._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,a,o,h){e instanceof Array&&(e={values:e}),h=new p;var l,u,c,f=e.values,_=f.length-1,d=[],g={};if(0>_)return o;for(l=0;_>=l;l++)c=i(t,f[l],a,o,h,_!==l),d[l]=c.end;for(u in e)g[u]=e[u];return g.values=d,o=new r(t,"bezier",0,0,c.pt,2),o.data=c,o.plugin=h,o.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(l=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=c.end.left?[["left","top","rotation",l,!1]]:null!=c.end.x&&[["x","y","rotation",l,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),c.autoRotate=a._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0,a._overwriteProps.push("rotation")),h._onInitTween(c.proxy,g,a._tween),o}})}},g._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)e=t[i[n]],e&&"function"==typeof e&&(this._mod[i[n]]=e)},g._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,h={},l=a.prototype=new t("css");l.constructor=a,a.version="1.19.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,c,f,_,d,p,g,m,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,k=/([A-Z])/g,O=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,M=function(t,e){return e.toUpperCase()},I=/(?:Left|Right|Width)/i,z=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,N=/[\s,\(]/i,D=Math.PI/180,E=180/Math.PI,F={},B={style:{}},j=_gsScope.document||{createElement:function(){return B}},q=function(t,e){return j.createElementNS?j.createElementNS(e||"http://www.w3.org/1999/xhtml",t):j.createElement(t)},V=q("div"),U=q("img"),X=a._internals={_specialProps:h},H=(_gsScope.navigator||{}).userAgent||"",Z=function(){var t=H.indexOf("Android"),e=q("a");return f=-1!==H.indexOf("Safari")&&-1===H.indexOf("Chrome")&&(-1===t||parseFloat(H.substr(t+8,2))>3),d=f&&parseFloat(H.substr(H.indexOf("Version/")+8,2))<6,_=-1!==H.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(p=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),W=function(t){return S.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){_gsScope.console&&console.log(t)},G="",$="",J=function(t,e){e=e||V;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?($=3===n?"ms":i[n],G="-"+$.toLowerCase()+"-",$+t):null},Q=j.defaultView?j.defaultView.getComputedStyle:function(){},K=a.getStyle=function(t,e,i,n,r){var s;return Z||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||Q(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(k,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):W(t)},tt=X.convertToPixels=function(t,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,h,l,u=I.test(i),c=t,f=V.style,_=0>n,d=1===n;if(_&&(n=-n),d&&(n*=100),"%"===r&&-1!==i.indexOf("border"))o=n/100*(u?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+K(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[u?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||j.body,h=c._gsCache,l=e.ticker.frame,h&&u&&h.time===l)return h.width*n/100;f[u?"width":"height"]=n+r}c.appendChild(V),o=parseFloat(V[u?"offsetWidth":"offsetHeight"]),c.removeChild(V),u&&"%"===r&&a.cacheWidths!==!1&&(h=c._gsCache=c._gsCache||{},h.time=l,h.width=o/n*100),0!==o||s||(o=tt(t,i,n,r,!0))}return d&&(o/=100),_?-o:o},et=X.calculateOffset=function(t,e,i){if("absolute"!==K(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=K(t,"margin"+n,i);return t["offset"+n]-(tt(t,e,parseFloat(r),r.replace(b,""))||0)},it=function(t,e){var i,n,r,s={};if(e=e||Q(t,null))if(i=e.length)for(;--i>-1;)r=e[i],(-1===r.indexOf("-transform")||At===r)&&(s[r.replace(O,M)]=e.getPropertyValue(r));else for(i in e)(-1===i.indexOf("Transform")||Ot===i)&&(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(O,M)]=e[i]);return Z||(s.opacity=W(t)),n=Ut(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,It&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},nt=function(t,e,i,n,r){var s,a,o,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(s=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(h[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[a]||""===e[a].replace(w,"")?s:0:et(t,a),void 0!==l[a]&&(o=new vt(l,a,l[a],o)));if(n)for(a in n)"className"!==a&&(h[a]=n[a]);return{difs:h,firstMPT:o}},rt={width:["Left","Right"],height:["Top","Bottom"]},st=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Q(t))[e]||0;if(t.getCTM&&jt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=rt[e],s=r.length;for(i=i||Q(t,null);--s>-1;)n-=parseFloat(K(t,"padding"+r[s],i,!0))||0,n-=parseFloat(K(t,"border"+r[s]+"Width",i,!0))||0;return n},ot=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i,n=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(ot(n[i]));return t.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(w,"")),e.oy=parseFloat(s.replace(w,"")),e.v=t),e||t},ht=function(t,e){return"function"==typeof t&&(t=t(m,g)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},lt=function(t,e){return"function"==typeof t&&(t=t(m,g)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ut=function(t,e,i,n){var r,s,a,o,h,l=1e-6;return"function"==typeof t&&(t=t(m,g)),null==t?o=e:"number"==typeof t?o=t:(r=360,s=t.split("_"),h="="===t.charAt(1),a=(h?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:E)-(h?0:e),s.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(a/r|0)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),o=e+a),l>o&&o>-l&&(o=0),o},ct={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},_t=a.parseColor=function(t,e){var i,n,r,s,a,o,h,l,u,c,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ct[t])i=ct[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+n+n+r+r+s+s),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(v),e){if(-1!==t.indexOf("="))return t.match(y)}else a=Number(i[0])%360/360,o=Number(i[1])/100,h=Number(i[2])/100,r=.5>=h?h*(o+1):h+o-h*o,n=2*h-r,i.length>3&&(i[3]=Number(t[3])),i[0]=ft(a+1/3,n,r),i[1]=ft(a,n,r),i[2]=ft(a-1/3,n,r);else i=t.match(v)||ct.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ct.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,l=Math.max(n,r,s),u=Math.min(n,r,s),h=(l+u)/2,l===u?a=o=0:(c=l-u,o=h>.5?c/(2-l-u):c/(l+u),a=l===n?(r-s)/c+(s>r?6:0):l===r?(s-n)/c+2:(n-r)/c+4,a*=60),i[0]=a+.5|0,i[1]=100*o+.5|0,i[2]=100*h+.5|0),i},dt=function(t,e){var i,n,r,s=t.match(pt)||[],a=0,o=s.length?"":t;for(i=0;i<s.length;i++)n=s[i],r=t.substr(a,t.indexOf(n,a)-a),a+=r.length+n.length,n=_t(n,e),3===n.length&&n.push(1),o+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return o+t.substr(a)},pt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in ct)pt+="|"+l+"\\b";pt=new RegExp(pt+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];pt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=dt(t[0],e),t[1]=dt(t[1],e)),pt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var gt=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(pt)||[""])[0]:"",a=t.split(s).join("").match(x)||[],o=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",u=a.length,c=u>0?a[0].replace(v,""):"";return u?r=e?function(t){var e,f,_,d;if("number"==typeof t)t+=c;else if(n&&L.test(t)){for(d=t.replace(L,"|").split("|"),_=0;_<d.length;_++)d[_]=r(d[_]);return d.join(",")}if(e=(t.match(pt)||[s])[0],f=t.split(e).join("").match(x)||[],_=f.length,u>_--)for(;++_<u;)f[_]=i?f[(_-1)/2|0]:a[_];return o+f.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,f;if("number"==typeof t)t+=c;else if(n&&L.test(t)){for(s=t.replace(L,"|").split("|"),f=0;f<s.length;f++)s[f]=r(s[f]);return s.join(",")}if(e=t.match(x)||[],f=e.length,u>f--)for(;++f<u;)e[f]=i?e[(f-1)/2|0]:a[f];return o+e.join(l)+h}:function(t){return t}},mt=function(t){return t=t.split(","),function(e,i,n,r,s,a,o){var h,l=(i+"").split(" ");for(o={},h=0;4>h;h++)o[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return r.parse(e,o,s,a)}},vt=(X._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s,a=this.data,o=a.proxy,h=a.firstMPT,l=1e-6;h;)e=o[h.v],h.r?e=Math.round(e):l>e&&e>-l&&(e=0),h.t[h.p]=e,h=h._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(o.rotation,this.t):o.rotation),1===t||0===t)for(h=a.firstMPT,s=1===t?"e":"b";h;){if(i=h.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[s]=r}}else i[s]=i.s+i.xs0;h=h._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),yt=(X._parseToProxy=function(t,e,i,n,r,s){var a,o,h,l,u,c=n,f={},_={},d=i._transform,p=F;for(i._transform=null,F=e,n=u=i.parse(t,e,n,r),F=p,s&&(i._transform=d,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(o=n.p,_[o]=n.s+n.c,f[o]=n.s,s||(l=new vt(n,"s",o,l,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)h="xn"+a,o=n.p+"_"+h,_[o]=n.data[h],f[o]=n[h],s||(l=new vt(n,h,o,l,n.rxp[h]));n=n._next}return{proxy:f,end:_,firstMPT:l,pt:u}},X.CSSPropTween=function(t,e,n,r,a,o,h,l,u,c,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=h||e,t instanceof yt||s.push(this.n),this.r=l,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+r:f,a&&(this._next=a,a._prev=this)}),xt=function(t,e,i,n,r,s){var a=new yt(t,e,i,n-i,r,(-1),s);return a.b=i,a.e=a.xs0=n,a},wt=a.parseComplex=function(t,e,i,n,r,s,o,h,l,c){i=i||s||"","function"==typeof n&&(n=n(m,g)),o=new yt(t,e,0,0,o,c?2:1,null,(!1),h,i,n),n+="",r&&pt.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var f,_,d,p,x,w,b,S,T,C,P,k,O,A=i.split(", ").join(",").split(" "),M=n.split(", ").join(",").split(" "),I=A.length,z=u!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(A=A.join(" ").replace(L,", ").split(" "),M=M.join(" ").replace(L,", ").split(" "),I=A.length),I!==M.length&&(A=(s||"").split(" "),I=A.length),o.plugin=l,o.setRatio=c,pt.lastIndex=0,f=0;I>f;f++)if(p=A[f],x=M[f],S=parseFloat(p),S||0===S)o.appendXtra("",S,ht(x,S),x.replace(y,""),z&&-1!==x.indexOf("px"),!0);else if(r&&pt.test(p))k=x.indexOf(")")+1,k=")"+(k?x.substr(k):""),O=-1!==x.indexOf("hsl")&&Z,p=_t(p,O),x=_t(x,O),T=p.length+x.length>6,T&&!Z&&0===x[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(M[f]).join("transparent")):(Z||(T=!1),O?o.appendXtra(T?"hsla(":"hsl(",p[0],ht(x[0],p[0]),",",!1,!0).appendXtra("",p[1],ht(x[1],p[1]),"%,",!1).appendXtra("",p[2],ht(x[2],p[2]),T?"%,":"%"+k,!1):o.appendXtra(T?"rgba(":"rgb(",p[0],x[0]-p[0],",",!0,!0).appendXtra("",p[1],x[1]-p[1],",",!0).appendXtra("",p[2],x[2]-p[2],T?",":k,!0),T&&(p=p.length<4?1:p[3],o.appendXtra("",p,(x.length<4?1:x[3])-p,k,!1))),pt.lastIndex=0;else if(w=p.match(v)){if(b=x.match(y),!b||b.length!==w.length)return o;for(d=0,_=0;_<w.length;_++)P=w[_],C=p.indexOf(P,d),o.appendXtra(p.substr(d,C-d),Number(P),ht(b[_],P),"",z&&"px"===p.substr(C+P.length,2),0===_),d=C+P.length;o["xs"+o.l]+=p.substr(d)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+x:x;if(-1!==n.indexOf("=")&&o.data){for(k=o.xs0+o.data.s,f=1;f<o.l;f++)k+=o["xs"+f]+o.data["xn"+f];o.e=k+o["xs"+f]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},bt=9;for(l=yt.prototype,l.l=l.pr=0;--bt>0;)l["xn"+bt]=0,l["xs"+bt]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,n,r,s){var a=this,o=a.l;return a["xs"+o]+=s&&(o||a["xs"+o])?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new yt(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(n||""),a)};var St=function(t,e){e=e||{},this.p=e.prefix?J(t)||t:t,h[t]=h[this.p]=this,this.format=e.formatter||gt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=X._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,s=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,r=new St(s[n],e)},Ct=X._registerPluginProp=function(t){if(!h[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,i,n,r,s,a,l){var u=o.com.greensock.plugins[e];return u?(u._cssRegister(),h[n].parse(t,i,n,r,s,a,l)):(Y("Error: "+e+" js file not loaded."),s)}})}};l=St.prototype,l.parseComplex=function(t,e,i,n,r,s){var a,o,h,l,u,c,f=this.keyword;if(this.multi&&(L.test(i)||L.test(e)?(o=e.replace(L,"|").split("|"),h=i.replace(L,"|").split("|")):f&&(o=[e],h=[i])),h){for(l=h.length>o.length?h.length:o.length,a=0;l>a;a++)e=o[a]=o[a]||this.dflt,i=h[a]=h[a]||this.dflt,f&&(u=e.indexOf(f),c=i.indexOf(f),u!==c&&(-1===c?o[a]=o[a].split(f).join(""):-1===u&&(o[a]+=" "+f)));e=o.join(", "),i=h.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},l.parse=function(t,e,i,n,s,a,o){return this.parseComplex(t.style,this.format(K(t,this.p,r,!1,this.dflt)),this.format(e),s,a)},a.registerSpecialProp=function(t,e,i){Tt(t,{parser:function(t,n,r,s,a,o,h){var l=new yt(t,r,0,0,a,2,r,(!1),i);return l.plugin=o,l.setRatio=e(t,n,s._tween,r),l},priority:i})},a.useSVGTransformAttr=!0;var Pt,kt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ot=J("transform"),At=G+"transform",Mt=J("transformOrigin"),It=null!==J("perspective"),zt=X.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!It)&&(a.defaultForce3D||"auto")},Rt=_gsScope.SVGElement,Lt=function(t,e,i){var n,r=j.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Nt=j.documentElement||{},Dt=function(){var t,e,i,n=p||/Android/i.test(H)&&!_gsScope.chrome;return j.createElementNS&&!n&&(t=Lt("svg",Nt),e=Lt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Mt]="50% 50%",e.style[Ot]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(_&&It),Nt.removeChild(t)),n}(),Et=function(t,e,i,n,r,s){var o,h,l,u,c,f,_,d,p,g,m,v,y,x,w=t._gsTransform,b=Vt(t,!0);w&&(y=w.xOrigin,x=w.yOrigin),(!n||(o=n.split(" ")).length<2)&&(_=t.getBBox(),0===_.x&&0===_.y&&_.width+_.height===0&&(_={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=ot(e).split(" "),o=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*_.width:parseFloat(e[0]))+_.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*_.height:parseFloat(e[1]))+_.y]),i.xOrigin=u=parseFloat(o[0]),i.yOrigin=c=parseFloat(o[1]),n&&b!==qt&&(f=b[0],_=b[1],d=b[2],p=b[3],g=b[4],m=b[5],v=f*p-_*d,v&&(h=u*(p/v)+c*(-d/v)+(d*m-p*g)/v,l=u*(-_/v)+c*(f/v)-(f*m-_*g)/v,u=i.xOrigin=o[0]=h,c=i.yOrigin=o[1]=l)),w&&(s&&(i.xOffset=w.xOffset,i.yOffset=w.yOffset,w=i),r||r!==!1&&a.defaultSmoothOrigin!==!1?(h=u-y,l=c-x,w.xOffset+=h*b[0]+l*b[2]-h,w.yOffset+=h*b[1]+l*b[3]-l):w.xOffset=w.yOffset=0),s||t.setAttribute("data-svg-origin",o.join(" "))},Ft=function(t){var e,i=q("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Nt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ft}catch(a){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),Nt.removeChild(i),this.style.cssText=s,e},Bt=function(t){try{return t.getBBox()}catch(e){return Ft.call(t,!0)}},jt=function(t){return!(!(Rt&&t.getCTM&&Bt(t))||t.parentNode&&!t.ownerSVGElement)},qt=[1,0,0,1,0,0],Vt=function(t,e){var i,n,r,s,a,o,h=t._gsTransform||new zt,l=1e5,u=t.style;if(Ot?n=K(t,At,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(z),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),h.x||0,h.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,i&&Ot&&((o="none"===Q(t).display)||!t.parentNode)&&(o&&(s=u.display,u.display="block"),t.parentNode||(a=1,Nt.appendChild(t)),n=K(t,At,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?u.display=s:o&&Wt(u,"display"),a&&Nt.removeChild(t)),(h.svg||t.getCTM&&jt(t))&&(i&&-1!==(u[Ot]+"").indexOf("matrix")&&(n=u[Ot],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return qt;for(r=(n||"").match(v)||[],bt=r.length;--bt>-1;)s=Number(r[bt]),r[bt]=(a=s-(s|=0))?(a*l+(0>a?-.5:.5)|0)/l+s:s;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ut=X.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var s,o,h,l,u,c,f=n?t._gsTransform||new zt:new zt,_=f.scaleX<0,d=2e-5,p=1e5,g=It?parseFloat(K(t,Mt,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,m=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!jt(t)),f.svg&&(Et(t,K(t,Mt,i,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Pt=a.useSVGTransformAttr||Dt),s=Vt(t),s!==qt){if(16===s.length){var v,y,x,w,b,S=s[0],T=s[1],C=s[2],P=s[3],k=s[4],O=s[5],A=s[6],M=s[7],I=s[8],z=s[9],R=s[10],L=s[12],N=s[13],D=s[14],F=s[11],B=Math.atan2(A,R);f.zOrigin&&(D=-f.zOrigin,L=I*D-s[12],N=z*D-s[13],D=R*D+f.zOrigin-s[14]),f.rotationX=B*E,B&&(w=Math.cos(-B),b=Math.sin(-B),v=k*w+I*b,y=O*w+z*b,x=A*w+R*b,I=k*-b+I*w,z=O*-b+z*w,R=A*-b+R*w,F=M*-b+F*w,k=v,O=y,A=x),B=Math.atan2(-C,R),f.rotationY=B*E,B&&(w=Math.cos(-B),b=Math.sin(-B),v=S*w-I*b,y=T*w-z*b,x=C*w-R*b,z=T*b+z*w,R=C*b+R*w,F=P*b+F*w,S=v,T=y,C=x),B=Math.atan2(T,S),f.rotation=B*E,B&&(w=Math.cos(-B),b=Math.sin(-B),S=S*w+k*b,y=T*w+O*b,O=T*-b+O*w,A=C*-b+A*w,T=y),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),f.scaleX=(Math.sqrt(S*S+T*T)*p+.5|0)/p,f.scaleY=(Math.sqrt(O*O+z*z)*p+.5|0)/p,f.scaleZ=(Math.sqrt(A*A+R*R)*p+.5|0)/p,f.rotationX||f.rotationY?f.skewX=0:(f.skewX=k||O?Math.atan2(k,O)*E+f.rotation:f.skewX||0,Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(_?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180))),f.perspective=F?1/(0>F?-F:F):0,f.x=L,f.y=N,f.z=D,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*S-f.yOrigin*k),f.y-=f.yOrigin-(f.yOrigin*T-f.xOrigin*O))}else if(!It||r||!s.length||f.x!==s[4]||f.y!==s[5]||!f.rotationX&&!f.rotationY){var j=s.length>=6,q=j?s[0]:1,V=s[1]||0,U=s[2]||0,X=j?s[3]:1;f.x=s[4]||0,f.y=s[5]||0,h=Math.sqrt(q*q+V*V),l=Math.sqrt(X*X+U*U),u=q||V?Math.atan2(V,q)*E:f.rotation||0,c=U||X?Math.atan2(U,X)*E+u:f.skewX||0,Math.abs(c)>90&&Math.abs(c)<270&&(_?(h*=-1,c+=0>=u?180:-180,u+=0>=u?180:-180):(l*=-1,c+=0>=c?180:-180)),f.scaleX=h,f.scaleY=l,f.rotation=u,f.skewX=c,It&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*q+f.yOrigin*U),f.y-=f.yOrigin-(f.xOrigin*V+f.yOrigin*X))}f.zOrigin=g;for(o in f)f[o]<d&&f[o]>-d&&(f[o]=0)}return n&&(t._gsTransform=f,f.svg&&(Pt&&t.style[Ot]?e.delayedCall(.001,function(){Wt(t.style,Ot)}):!Pt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Xt=function(t){var e,i,n=this.data,r=-n.rotation*D,s=r+n.skewX*D,a=1e5,o=(Math.cos(r)*n.scaleX*a|0)/a,h=(Math.sin(r)*n.scaleX*a|0)/a,l=(Math.sin(s)*-n.scaleY*a|0)/a,u=(Math.cos(s)*n.scaleY*a|0)/a,c=this.t.style,f=this.t.currentStyle;if(f){i=h,h=-l,l=-i,e=f.filter,c.filter="";var _,d,g=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==f.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+h+", M21="+l+", M22="+u,x=n.x+g*n.xPercent/100,w=n.y+m*n.yPercent/100;if(null!=n.ox&&(_=(n.oxp?g*n.ox*.01:n.ox)-g/2,d=(n.oyp?m*n.oy*.01:n.oy)-m/2,x+=_-(_*o+d*h),w+=d-(_*l+d*u)),v?(_=g/2,d=m/2,y+=", Dx="+(_-(_*o+d*h)+x)+", Dy="+(d-(_*l+d*u)+w)+")"):y+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(R,y):c.filter=y+" "+e,(0===t||1===t)&&1===o&&0===h&&0===l&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||S.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var T,C,P,k=8>p?1:-1;for(_=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>o?-o:o)*g+(0>h?-h:h)*m))/2+x),n.ieOffsetY=Math.round((m-((0>u?-u:u)*m+(0>l?-l:l)*g))/2+w),bt=0;4>bt;bt++)C=st[bt],T=f[C],i=-1!==T.indexOf("px")?parseFloat(T):tt(this.t,C,parseFloat(T),T.replace(b,""))||0,P=i!==n[C]?2>bt?-n.ieOffsetX:-n.ieOffsetY:2>bt?_-n.ieOffsetX:d-n.ieOffsetY,c[C]=(n[C]=Math.round(i-P*(0===bt||2===bt?1:k)))+"px"}}},Ht=X.set3DTransformRatio=X.setTransformRatio=function(t){var e,i,n,r,s,a,o,h,l,u,c,f,d,p,g,m,v,y,x,w,b,S,T,C=this.data,P=this.t.style,k=C.rotation,O=C.rotationX,A=C.rotationY,M=C.scaleX,I=C.scaleY,z=C.scaleZ,R=C.x,L=C.y,N=C.z,E=C.svg,F=C.perspective,B=C.force3D,j=C.skewY,q=C.skewX;if(j&&(q+=j,k+=j),((1===t||0===t)&&"auto"===B&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!B)&&!N&&!F&&!A&&!O&&1===z||Pt&&E||!It)return void(k||q||E?(k*=D,S=q*D,T=1e5,i=Math.cos(k)*M,s=Math.sin(k)*M,n=Math.sin(k-S)*-I,a=Math.cos(k-S)*I,S&&"simple"===C.skewType&&(e=Math.tan(S-j*D),e=Math.sqrt(1+e*e),n*=e,a*=e,j&&(e=Math.tan(j*D),e=Math.sqrt(1+e*e),i*=e,s*=e)),E&&(R+=C.xOrigin-(C.xOrigin*i+C.yOrigin*n)+C.xOffset,L+=C.yOrigin-(C.xOrigin*s+C.yOrigin*a)+C.yOffset,Pt&&(C.xPercent||C.yPercent)&&(g=this.t.getBBox(),R+=.01*C.xPercent*g.width,L+=.01*C.yPercent*g.height),g=1e-6,g>R&&R>-g&&(R=0),g>L&&L>-g&&(L=0)),x=(i*T|0)/T+","+(s*T|0)/T+","+(n*T|0)/T+","+(a*T|0)/T+","+R+","+L+")",E&&Pt?this.t.setAttribute("transform","matrix("+x):P[Ot]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+x):P[Ot]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+M+",0,0,"+I+","+R+","+L+")");if(_&&(g=1e-4,g>M&&M>-g&&(M=z=2e-5),g>I&&I>-g&&(I=z=2e-5),!F||C.z||C.rotationX||C.rotationY||(F=0)),k||q)k*=D,m=i=Math.cos(k),v=s=Math.sin(k),q&&(k-=q*D,m=Math.cos(k),v=Math.sin(k),"simple"===C.skewType&&(e=Math.tan((q-j)*D),e=Math.sqrt(1+e*e),m*=e,v*=e,C.skewY&&(e=Math.tan(j*D),e=Math.sqrt(1+e*e),i*=e,s*=e))),n=-v,a=m;else{if(!(A||O||1!==z||F||E))return void(P[Ot]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+L+"px,"+N+"px)"+(1!==M||1!==I?" scale("+M+","+I+")":""));i=a=1,n=s=0}u=1,r=o=h=l=c=f=0,d=F?-1/F:0,p=C.zOrigin,g=1e-6,w=",",b="0",k=A*D,k&&(m=Math.cos(k),v=Math.sin(k),h=-v,c=d*-v,r=i*v,o=s*v,u=m,d*=m,i*=m,s*=m),k=O*D,k&&(m=Math.cos(k),v=Math.sin(k),e=n*m+r*v,y=a*m+o*v,l=u*v,f=d*v,r=n*-v+r*m,o=a*-v+o*m,u*=m,d*=m,n=e,a=y),1!==z&&(r*=z,o*=z,u*=z,d*=z),1!==I&&(n*=I,a*=I,l*=I,f*=I),1!==M&&(i*=M,s*=M,h*=M,c*=M),(p||E)&&(p&&(R+=r*-p,L+=o*-p,N+=u*-p+p),E&&(R+=C.xOrigin-(C.xOrigin*i+C.yOrigin*n)+C.xOffset,L+=C.yOrigin-(C.xOrigin*s+C.yOrigin*a)+C.yOffset),g>R&&R>-g&&(R=b),g>L&&L>-g&&(L=b),g>N&&N>-g&&(N=0)),x=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",x+=(g>i&&i>-g?b:i)+w+(g>s&&s>-g?b:s)+w+(g>h&&h>-g?b:h),x+=w+(g>c&&c>-g?b:c)+w+(g>n&&n>-g?b:n)+w+(g>a&&a>-g?b:a),O||A||1!==z?(x+=w+(g>l&&l>-g?b:l)+w+(g>f&&f>-g?b:f)+w+(g>r&&r>-g?b:r),x+=w+(g>o&&o>-g?b:o)+w+(g>u&&u>-g?b:u)+w+(g>d&&d>-g?b:d)+w):x+=",0,0,0,0,1,0,",x+=R+w+L+w+N+w+(F?1+-N/F:1)+")",P[Ot]=x};l=zt.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,s,o,h){if(n._lastParsedTransform===h)return s;n._lastParsedTransform=h;var l,u=h.scale&&"function"==typeof h.scale?h.scale:0;"function"==typeof h[i]&&(l=h[i],h[i]=e),u&&(h.scale=u(m,t));var c,f,_,d,p,v,y,x,w,b=t._gsTransform,S=t.style,T=1e-6,C=kt.length,P=h,k={},O="transformOrigin",A=Ut(t,r,!0,P.parseTransform),M=P.transform&&("function"==typeof P.transform?P.transform(m,g):P.transform);if(n._transform=A,M&&"string"==typeof M&&Ot)f=V.style,f[Ot]=M,f.display="block",f.position="absolute",j.body.appendChild(V),c=Ut(V,null,!1),A.svg&&(v=A.xOrigin,y=A.yOrigin,c.x-=A.xOffset,c.y-=A.yOffset,(P.transformOrigin||P.svgOrigin)&&(M={},Et(t,ot(P.transformOrigin),M,P.svgOrigin,P.smoothOrigin,!0),v=M.xOrigin,y=M.yOrigin,c.x-=M.xOffset-A.xOffset,c.y-=M.yOffset-A.yOffset),(v||y)&&(x=Vt(V,!0),c.x-=v-(v*x[0]+y*x[2]),c.y-=y-(v*x[1]+y*x[3]))),j.body.removeChild(V),c.perspective||(c.perspective=A.perspective),null!=P.xPercent&&(c.xPercent=lt(P.xPercent,A.xPercent)),null!=P.yPercent&&(c.yPercent=lt(P.yPercent,A.yPercent));else if("object"==typeof P){if(c={scaleX:lt(null!=P.scaleX?P.scaleX:P.scale,A.scaleX),scaleY:lt(null!=P.scaleY?P.scaleY:P.scale,A.scaleY),scaleZ:lt(P.scaleZ,A.scaleZ),x:lt(P.x,A.x),y:lt(P.y,A.y),z:lt(P.z,A.z),xPercent:lt(P.xPercent,A.xPercent),
yPercent:lt(P.yPercent,A.yPercent),perspective:lt(P.transformPerspective,A.perspective)},p=P.directionalRotation,null!=p)if("object"==typeof p)for(f in p)P[f]=p[f];else P.rotation=p;"string"==typeof P.x&&-1!==P.x.indexOf("%")&&(c.x=0,c.xPercent=lt(P.x,A.xPercent)),"string"==typeof P.y&&-1!==P.y.indexOf("%")&&(c.y=0,c.yPercent=lt(P.y,A.yPercent)),c.rotation=ut("rotation"in P?P.rotation:"shortRotation"in P?P.shortRotation+"_short":"rotationZ"in P?P.rotationZ:A.rotation,A.rotation,"rotation",k),It&&(c.rotationX=ut("rotationX"in P?P.rotationX:"shortRotationX"in P?P.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",k),c.rotationY=ut("rotationY"in P?P.rotationY:"shortRotationY"in P?P.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",k)),c.skewX=ut(P.skewX,A.skewX),c.skewY=ut(P.skewY,A.skewY)}for(It&&null!=P.force3D&&(A.force3D=P.force3D,d=!0),A.skewType=P.skewType||A.skewType||a.defaultSkewType,_=A.force3D||A.z||A.rotationX||A.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,_||null==P.scale||(c.scaleZ=1);--C>-1;)w=kt[C],M=c[w]-A[w],(M>T||-T>M||null!=P[w]||null!=F[w])&&(d=!0,s=new yt(A,w,A[w],M,s),w in k&&(s.e=k[w]),s.xs0=0,s.plugin=o,n._overwriteProps.push(s.n));return M=P.transformOrigin,A.svg&&(M||P.svgOrigin)&&(v=A.xOffset,y=A.yOffset,Et(t,ot(M),c,P.svgOrigin,P.smoothOrigin),s=xt(A,"xOrigin",(b?A:c).xOrigin,c.xOrigin,s,O),s=xt(A,"yOrigin",(b?A:c).yOrigin,c.yOrigin,s,O),(v!==A.xOffset||y!==A.yOffset)&&(s=xt(A,"xOffset",b?v:A.xOffset,A.xOffset,s,O),s=xt(A,"yOffset",b?y:A.yOffset,A.yOffset,s,O)),M="0px 0px"),(M||It&&_&&A.zOrigin)&&(Ot?(d=!0,w=Mt,M=(M||K(t,w,r,!1,"50% 50%"))+"",s=new yt(S,w,0,0,s,(-1),O),s.b=S[w],s.plugin=o,It?(f=A.zOrigin,M=M.split(" "),A.zOrigin=(M.length>2&&(0===f||"0px"!==M[2])?parseFloat(M[2]):f)||0,s.xs0=s.e=M[0]+" "+(M[1]||"50%")+" 0px",s=new yt(A,"zOrigin",0,0,s,(-1),s.n),s.b=f,s.xs0=s.e=A.zOrigin):s.xs0=s.e=M):ot(M+"",A)),d&&(n._transformType=A.svg&&Pt||!_&&3!==this._transformType?2:3),l&&(h[i]=l),u&&(h.scale=u),s},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,a,o){e=this.format(e);var h,l,u,c,f,_,d,p,g,m,v,y,x,w,b,S,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=t.style;for(g=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),h=e.split(" "),l=0;l<T.length;l++)this.p.indexOf("border")&&(T[l]=J(T[l])),f=c=K(t,T[l],r,!1,"0px"),-1!==f.indexOf(" ")&&(c=f.split(" "),f=c[0],c=c[1]),_=u=h[l],d=parseFloat(f),y=f.substr((d+"").length),x="="===_.charAt(1),x?(p=parseInt(_.charAt(0)+"1",10),_=_.substr(2),p*=parseFloat(_),v=_.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(_),v=_.substr((p+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=tt(t,"borderLeft",d,y),b=tt(t,"borderTop",d,y),"%"===v?(f=w/g*100+"%",c=b/m*100+"%"):"em"===v?(S=tt(t,"borderLeft",1,"em"),f=w/S+"em",c=b/S+"em"):(f=w+"px",c=b+"px"),x&&(_=parseFloat(f)+p+v,u=parseFloat(c)+p+v)),a=wt(C,T[l],f+" "+c,_+" "+u,!1,"0px",a);return a},prefix:!0,formatter:gt("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,a){return wt(t.style,i,this.format(K(t,i,r,!1,"0px 0px")),this.format(e),!1,"0px",s)},prefix:!0,formatter:gt("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,a){var o,h,l,u,c,f,_="background-position",d=r||Q(t,null),g=this.format((d?p?d.getPropertyValue(_+"-x")+" "+d.getPropertyValue(_+"-y"):d.getPropertyValue(_):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==g.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&(f=K(t,"backgroundImage").replace(A,""),f&&"none"!==f)){for(o=g.split(" "),h=m.split(" "),U.setAttribute("src",f),l=2;--l>-1;)g=o[l],u=-1!==g.indexOf("%"),u!==(-1!==h[l].indexOf("%"))&&(c=0===l?t.offsetWidth-U.width:t.offsetHeight-U.height,o[l]=u?parseFloat(g)/100*c+"px":parseFloat(g)/c*100+"%");g=o.join(" ")}return this.parseComplex(t.style,g,m,s,a)},formatter:ot}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",ot(-1===t.indexOf(" ")?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:mt("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:mt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,a){var o,h,l;return 9>p?(h=t.currentStyle,l=8>p?" ":",",o="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(o=this.format(K(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,s,a)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,a){var o=K(t,"borderTopWidth",r,!1,"0px"),h=this.format(e).split(" "),l=h[0].replace(b,"");return"px"!==l&&(o=parseFloat(o)/tt(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(o+" "+K(t,"borderTopStyle",r,!1,"solid")+" "+K(t,"borderTopColor",r,!1,"#000")),h.join(" "),s,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(pt)||["#000"])[0]}}),Tt("borderWidth",{parser:mt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,s){var a=t.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new yt(a,o,0,0,r,(-1),i,(!1),0,a[o],e)}});var Zt=function(t){var e,i=this.t,n=i.filter||K(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!K(this.data,"filter")):(i.filter=n.replace(C,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(S,"opacity="+r))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,a){var o=parseFloat(K(t,"opacity",r,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),l&&1===o&&"hidden"===K(t,"visibility",r)&&0!==e&&(o=0),Z?s=new yt(h,"opacity",o,e-o,s):(s=new yt(h,"opacity",100*o,100*(e-o),s),s.xn1=l?1:0,h.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=a,s.setRatio=Zt),l&&(s=new yt(h,"visibility",0,0,s,(-1),null,(!1),0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Wt=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(k,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Wt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(t,e,n,s,a,o,h){var l,u,c,f,_,d=t.getAttribute("class")||"",p=t.style.cssText;if(a=s._classNamePT=new yt(t,n,0,0,a,2),a.setRatio=Yt,a.pr=-11,i=!0,a.b=d,u=it(t,r),c=t._gsClassPT){for(f={},_=c.data;_;)f[_.p]=1,_=_._next;c.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=nt(t,u,it(t),h,f),t.setAttribute("class",d),a.data=l.firstMPT,t.style.cssText=p,a=a.xfirst=s.parse(t,l.difs,a,o)}});var Gt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s,a=this.t.style,o=h.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],h[i]&&(h[i].parse===o?r=!0:i="transformOrigin"===i?Mt:h[i].p),Wt(a,i);r&&(Wt(a,Ot),s=this.t._gsTransform,s&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(t,e,n,r,s){return s=new yt(t,n,0,0,s,2),s.setRatio=Gt,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),bt=l.length;bt--;)Ct(l[bt]);l=a.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(t,e,o,l){if(!t.nodeType)return!1;this._target=g=t,this._tween=o,this._vars=e,m=l,u=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,r=Q(t,""),s=this._overwriteProps;var _,p,v,y,x,w,b,S,C,P=t.style;if(c&&""===P.zIndex&&(_=K(t,"zIndex",r),("auto"===_||""===_)&&this._addLazySet(P,"zIndex",0)),"string"==typeof e&&(y=P.cssText,_=it(t,r),P.cssText=y+";"+e,_=nt(t,_,it(t)).difs,!Z&&T.test(e)&&(_.opacity=parseFloat(RegExp.$1)),e=_,P.cssText=y),e.className?this._firstPT=p=h.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(C=3===this._transformType,Ot?f&&(c=!0,""===P.zIndex&&(b=K(t,"zIndex",r),("auto"===b||""===b)&&this._addLazySet(P,"zIndex",0)),d&&this._addLazySet(P,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(C?"visible":"hidden"))):P.zoom=1,v=p;v&&v._next;)v=v._next;S=new yt(t,"transform",0,0,null,2),this._linkCSSP(S,null,v),S.setRatio=Ot?Ht:Xt,S.data=this._transform||Ut(t,r,!0),S.tween=o,S.pr=-1,s.pop()}if(i){for(;p;){for(w=p._next,v=y;v&&v.pr>p.pr;)v=v._next;(p._prev=v?v._prev:x)?p._prev._next=p:y=p,(p._next=v)?v._prev=p:x=p,p=w}this._firstPT=y}return!0},l.parse=function(t,e,i,s){var a,o,l,c,f,_,d,p,v,y,x=t.style;for(a in e)_=e[a],"function"==typeof _&&(_=_(m,g)),o=h[a],o?i=o.parse(t,_,a,this,i,s,e):(f=K(t,a,r)+"",v="string"==typeof _,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||v&&P.test(_)?(v||(_=_t(_),_=(_.length>3?"rgba(":"rgb(")+_.join(",")+")"),i=wt(x,a,f,_,!0,"transparent",i,0,s)):v&&N.test(_)?i=wt(x,a,f,_,!0,null,i,0,s):(l=parseFloat(f),d=l||0===l?f.substr((l+"").length):"",(""===f||"auto"===f)&&("width"===a||"height"===a?(l=at(t,a,r),d="px"):"left"===a||"top"===a?(l=et(t,a,r),d="px"):(l="opacity"!==a?0:1,d="")),y=v&&"="===_.charAt(1),y?(c=parseInt(_.charAt(0)+"1",10),_=_.substr(2),c*=parseFloat(_),p=_.replace(b,"")):(c=parseFloat(_),p=v?_.replace(b,""):""),""===p&&(p=a in n?n[a]:d),_=c||0===c?(y?c+l:c)+p:e[a],d!==p&&""!==p&&(c||0===c)&&l&&(l=tt(t,a,l,d),"%"===p?(l/=tt(t,a,100,"%")/100,e.strictUnits!==!0&&(f=l+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?l/=tt(t,a,1,p):"px"!==p&&(c=tt(t,a,c,p),p="px"),y&&(c||0===c)&&(_=c+l+p)),y&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==x[a]&&(_||_+""!="NaN"&&null!=_)?(i=new yt(x,a,c||l||0,0,i,(-1),a,(!1),0,f,_),i.xs0="none"!==_||"display"!==a&&-1===a.indexOf("Style")?_:f):Y("invalid "+a+" tween value: "+e[a]):(i=new yt(x,a,l,c-l,i,0,a,u!==!1&&("px"===p||"zIndex"===a),0,f,_),i.xs0=p))),s&&i&&!i.plugin&&(i.plugin=s);return i},l.setRatio=function(t){var e,i,n,r=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):s>e&&e>-s&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},l._enableTransforms=function(t){this._transform=this._transform||Ut(this._target,r,!0),this._transformType=this._transform.svg&&Pt||!t&&3!==this._transformType?2:3};var $t=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,i){var n=this._firstPT=new yt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=$t,n.data=this},l._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},l._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,s)};var Jt=function(t,e,i){var n,r,s,a;if(t.slice)for(r=t.length;--r>-1;)Jt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)s=n[r],a=s.type,s.style&&(e.push(it(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||Jt(s,e,i)};return a.cascadeTo=function(t,i,n){var r,s,a,o,h=e.to(t,i,n),l=[h],u=[],c=[],f=[],_=e._internals.reservedProps;for(t=h._targets||h.target,Jt(t,u,f),h.render(i,!0,!0),Jt(t,c),h.render(0,!0,!0),h._enabled(!0),r=f.length;--r>-1;)if(s=nt(f[r],u[r],c[r]),s.firstMPT){s=s.difs;for(a in n)_[a]&&(s[a]=n[a]);o={};for(a in s)o[a]=u[r][a];l.push(e.fromTo(f[r],i,o,s))}return l},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,n,r=this._tween,s=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=s.length,o={},h=r._propLookup.roundProps;--a>-1;)o[s[a]]=Math.round;for(a=s.length;--a>-1;)for(t=s[a],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(o):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=h)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,i,n){var r,s;if("function"!=typeof t.setAttribute)return!1;for(r in e)s=e[r],"function"==typeof s&&(s=s(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",s+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,s,a,o,h,l,u=e.useRadians===!0?2*Math.PI:360,c=1e-6;for(r in e)"useRadians"!==r&&(o=e[r],"function"==typeof o&&(o=o(n,t)),l=(o+"").split("_"),s=l[0],a=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),o=this.finals[r]="string"==typeof s&&"="===s.charAt(1)?a+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,h=o-a,l.length&&(s=l.join("_"),-1!==s.indexOf("short")&&(h%=u,h!==h%(u/2)&&(h=0>h?h+u:h-u)),-1!==s.indexOf("_cw")&&0>h?h=(h+9999999999*u)%u-(h/u|0)*u:-1!==s.indexOf("ccw")&&h>0&&(h=(h-9999999999*u)%u-(h/u|0)*u)),(h>c||-c>h)&&(this._addTween(t,r,a,a+h,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=_gsScope.GreenSockGlobals||_gsScope,s=r.com.greensock,a=2*Math.PI,o=Math.PI/2,h=s._class,l=function(e,i){var n=h("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},u=t.register||function(){},c=function(t,e,i,n,r){var s=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(s,t),s},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},_=function(e,i){var n=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},d=c("Back",_("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),_("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),_("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),p=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=p.prototype=new t;return g.constructor=p,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},p.ease=new p(.7,.7),g.config=p.config=function(t,e,i){return new p(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},i=h("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,a,o,h=e.taper||"none",l=[],u=0,c=0|(e.points||20),_=c,d=e.randomize!==!1,p=e.clamp===!0,g=e.template instanceof t?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--_>-1;)i=d?Math.random():1/c*_,n=g?g.getRatio(i):i,"none"===h?r=m:"out"===h?(s=1-i,r=s*s*m):"in"===h?r=i*i*m:.5>i?(s=2*i,r=s*s*.5*m):(s=2*(1-i),r=s*s*.5*m),d?n+=Math.random()*r-.5*r:_%2?n+=.5*r:n-=.5*r,p&&(n>1?n=1:0>n&&(n=0)),l[u++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),o=new f(1,1,null),_=c;--_>-1;)a=l[_],o=new f(a.x,a.y,o);this._prev=new f(0,0,0!==o.t?o:o.next)},!0),g=i.prototype=new t,g.constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,c("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),c("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",l("SineOut",function(t){return Math.sin(t*o)}),l("SineIn",function(t){return-Math.cos(t*o)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(r.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i={},n=t.document,r=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!r.TweenLite){var s,a,o,h,l,u=function(t){var e,i=t.split("."),n=r;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},c=u("com.greensock"),f=1e-10,_=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},d=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),g={},m=function(n,s,a,o){this.sc=g[n]?g[n].sc:[],g[n]=this,this.gsClass=null,this.func=a;var h=[];this.check=function(l){for(var c,f,_,d,p,v=s.length,y=v;--v>-1;)(c=g[s[v]]||new m(s[v],[])).gsClass?(h[v]=c.gsClass,y--):l&&c.sc.push(this);if(0===y&&a){if(f=("com.greensock."+n).split("."),_=f.pop(),d=u(f.join("."))[_]=this.gsClass=a.apply(a,h),o)if(r[_]=i[_]=d,p="undefined"!=typeof module&&module.exports,!p&&"function"==typeof define&&define.amd)define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return d});else if(p)if(n===e){module.exports=i[e]=d;for(v in i)d[v]=i[v]}else i[e]&&(i[e][_]=d);for(v=0;v<this.sc.length;v++)this.sc[v].check()}},this.check(!0)},v=t._gsDefine=function(t,e,i,n){return new m(t,e,i,n)},y=c._class=function(t,e,i){return e=e||function(){},v(t,[],function(){return e},i),e};v.globals=r;var x=[0,0,1,1],w=y("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?x.concat(e):x},!0),b=w.map={},S=w.register=function(t,e,i,n){for(var r,s,a,o,h=e.split(","),l=h.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=h[l],r=n?y("easing."+s,null,!0):c.easing[s]||{},a=u.length;--a>-1;)o=u[a],b[s+"."+o]=b[o+s]=r[o]=t.getRatio?t:t[o]||new t};for(o=w.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=s.length;--a>-1;)o=s[a]+",Power"+a,S(new w(null,null,1,a),o,"easeOut",!0),S(new w(null,null,2,a),o,"easeIn"+(0===a?",easeNone":"")),S(new w(null,null,3,a),o,"easeInOut");b.linear=c.easing.Linear.easeIn,b.swing=c.easing.Quad.easeInOut;var T=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=T.prototype,o.addEventListener=function(t,e,i,n,r){r=r||0;var s,a,o=this._listeners[t],u=0;for(this!==h||l||h.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;--a>-1;)s=o[a],s.c===e&&s.s===i?o.splice(a,1):0===u&&s.pr<r&&(u=a+1);o.splice(u,0,{c:e,s:i,up:n,pr:r})},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var C=t.requestAnimationFrame,P=t.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},O=k();for(s=["ms","moz","webkit","o"],a=s.length;--a>-1&&!C;)C=t[s[a]+"RequestAnimationFrame"],P=t[s[a]+"CancelAnimationFrame"]||t[s[a]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var i,r,s,a,o,u=this,c=k(),_=!(e===!1||!C)&&"auto",p=500,g=33,m="tick",v=function(t){var e,n,h=k()-O;h>p&&(c+=h-g),O+=h,u.time=(O-c)/1e3,e=u.time-o,(!i||e>0||t===!0)&&(u.frame++,o+=e+(e>=a?.004:a-e),n=!0),t!==!0&&(s=r(v)),n&&u.dispatchEvent(m)};T.call(u),u.time=u.frame=0,u.tick=function(){v(!0)},u.lagSmoothing=function(t,e){p=t||1/f,g=Math.min(e,p,0)},u.sleep=function(){null!=s&&(_&&P?P(s):clearTimeout(s),r=d,s=null,u===h&&(l=!1))},u.wake=function(t){null!==s?u.sleep():t?c+=-O+(O=k()):u.frame>10&&(O=k()-p+5),r=0===i?d:_&&C?C:function(t){return setTimeout(t,1e3*(o-u.time)+1|0)},u===h&&(l=!0),v(2)},u.fps=function(t){return arguments.length?(i=t,a=1/(i||60),o=this.time+a,void u.wake()):i},u.useRAF=function(t){return arguments.length?(u.sleep(),_=t,void u.fps(i)):_},u.fps(t),setTimeout(function(){"auto"===_&&u.frame<5&&"hidden"!==n.visibilityState&&u.useRAF(!1)},1500)}),o=c.Ticker.prototype=new c.events.EventDispatcher,o.constructor=c.Ticker;var A=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,Y){l||h.wake();var i=this.vars.useFrames?W:Y;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});h=A.ticker=new c.Ticker,o=A.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var M=function(){l&&k()-O>2e3&&h.wake(),setTimeout(M,2e3)};M(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale},o._enabled=function(t,e){return l||h.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,s=n?n.length:0;switch(s){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(l||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(N.length&&$(),this.render(t,e,!1),N.length&&$())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||f,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(l||t||h.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var I=y("core.SimpleTimeline",function(t){A.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=I.prototype=new A,o.constructor=I,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},o.rawTime=function(){return l||h.wake(),
this._totalTime};var z=y("TweenLite",function(e,i,n){if(A.call(this,i,n),this.render=z.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:z.selector(e)||e;var r,s,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?Z[z.defaultOverwrite]:"number"==typeof h?h>>0:Z[h],(o||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=a=_(e),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)s=a[r],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(_(s))):(this._siblings[r]=J(s,this,!1),1===h&&this._siblings[r].length>1&&K(s,this,null,1,this._siblings[r])):(s=a[r--]=z.selector(s),"string"==typeof s&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=J(e,this,!1),1===h&&this._siblings.length>1&&K(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-f,this.render(Math.min(0,-this._delay)))},!0),R=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},L=function(t,e){var i,n={};for(i in t)H[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!V[i]||V[i]&&V[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};o=z.prototype=new A,o.constructor=z,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,z.version="1.19.1",z.defaultEase=o._ease=new w(null,null,1,1),z.defaultOverwrite="auto",z.ticker=h,z.autoSleep=120,z.lagSmoothing=function(t,e){h.lagSmoothing(t,e)},z.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(z.selector=i,i(e)):"undefined"==typeof n?e:n.querySelectorAll?n.querySelectorAll(e):n.getElementById("#"===e.charAt(0)?e.substr(1):e)};var N=[],D={},E=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,F=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?1===t?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):n>e&&e>-n&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},B=function(t,e,i,n){var r,s,a,o,h,l,u,c=[],f=0,_="",d=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(E)||[],s=e.match(E)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),h=s.length,o=0;h>o;o++)u=s[o],l=e.substr(f,e.indexOf(u,f)-f),_+=l||!o?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),u===r[o]||r.length<=o?_+=u:(_&&(c.push(_),_=""),a=parseFloat(r[o]),c.push(a),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:d&&4>d?Math.round:0}),f+=u.length;return _+=e.substr(f),_&&c.push(_),c.setRatio=F,c},j=function(t,e,i,n,r,s,a,o,h){"function"==typeof n&&(n=n(h||0,t));var l,u=typeof t[e],c="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f="get"!==i?i:c?a?t[c](a):t[c]():t[e],_="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:f,f:"function"===u,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:_?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};return("number"!=typeof f||"number"!=typeof n&&!_)&&(a||isNaN(f)||!_&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(d.fp=a,l=B(f,_?d.s+d.c:n,o||z.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(d.s=parseFloat(f),_||(d.c=parseFloat(n)-d.s||0))),d.c?((d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d):void 0},q=z._internals={isArray:p,isSelector:R,lazyTweens:N,blobDif:B},V=z._plugins={},U=q.tweenLookup={},X=0,H=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},W=A._rootFramesTimeline=new I,Y=A._rootTimeline=new I,G=30,$=q.lazyRender=function(){var t,e=N.length;for(D={};--e>-1;)t=N[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);N.length=0};Y._startTime=h.time,W._startTime=h.frame,Y._active=W._active=!0,setTimeout($,1),A._updateRoot=z.render=function(){var t,e,i;if(N.length&&$(),Y.render((h.time-Y._startTime)*Y._timeScale,!1,!1),W.render((h.frame-W._startTime)*W._timeScale,!1,!1),N.length&&$(),h.frame>=G){G=h.frame+(parseInt(z.autoSleep,10)||120);for(i in U){for(e=U[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[i]}if(i=Y._first,(!i||i._paused)&&z.autoSleep&&!W._first&&1===h._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||h.sleep()}}},h.addEventListener("tick",A._updateRoot);var J=function(t,e,i){var n,r,s=t._gsTweenID;if(U[s||(t._gsTweenID=s="t"+X++)]||(U[s]={target:t,tweens:[]}),e&&(n=U[s].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return U[s].tweens},Q=function(t,e,i,n){var r,s,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,n)),a=z.onOverwrite,a&&(s=a(t,e,i,n)),r!==!1&&s!==!1},K=function(t,e,i,n,r){var s,a,o,h;if(1===n||n>=4){for(h=r.length,s=0;h>s;s++)if((o=r[s])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var l,u=e._startTime+f,c=[],_=0,d=0===e._duration;for(s=r.length;--s>-1;)(o=r[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(l=l||tt(e,0,d),0===tt(o,l,d)&&(c[_++]=o)):o._startTime<=u&&o._startTime+o.totalDuration()/o._timeScale>u&&((d||!o._initted)&&u-o._startTime<=2e-10||(c[_++]=o)));for(s=_;--s>-1;)if(o=c[s],2===n&&o._kill(i,t,e)&&(a=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!Q(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},tt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>e?s-e:i&&s===e||!t._initted&&2*f>s-e?f:(s+=t.totalDuration()/t._timeScale/r)>e+f?0:s-e-f};o._init=function(){var t,e,i,n,r,s,a=this.vars,o=this._overwrittenProps,h=this._duration,l=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in a.startAt)r[n]=a.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&a.lazy!==!1,r.startAt=r.delay=null,this._startAt=z.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(a.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in a)H[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&a.lazy!==!1,i.immediateRender=l,this._startAt=z.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof w?u:"function"==typeof u?new w(u,a.easeParams):b[u]||z.defaultEase:z.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;s>t;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&z._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},o._initProps=function(e,i,n,r,s){var a,o,h,l,u,c;if(null==e)return!1;D[e._gsTweenID]&&$(),this.vars.css||e.style&&e!==t&&e.nodeType&&V.css&&this.vars.autoCSS!==!1&&L(this.vars,e);for(a in this.vars)if(c=this.vars[a],H[a])c&&(c instanceof Array||c.push&&p(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[a]=c=this._swapSelfInParams(c,this));else if(V[a]&&(l=new V[a])._onInitTween(e,this.vars[a],this,s)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(h=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else i[a]=j.call(this,e,a,"get",c,a,0,null,this.vars.stringFilter,s);return r&&this._kill(r,e)?this._initProps(e,i,n,r,s):this._overwrite>1&&this._firstPT&&n.length>1&&K(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r,s)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(D[e._gsTweenID]=!0),h)},o.render=function(t,e,i){var n,r,s,a,o=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h-1e-7&&t>=0)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>l||0>=t&&t>=-1e-7||l===f&&"isPause"!==this.data)&&l!==t&&(i=!0,l>f&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:f);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===h&&l>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==f||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:f)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/h,c=this._easeType,_=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===_?u*=u:2===_?u*=u*u:3===_?u*=u*u*u:4===_&&(u*=u*u*u*u),1===c?this.ratio=1-u:2===c?this.ratio=u:.5>t/h?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=l,N.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||n||i)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===h&&this._rawPrevTime===f&&a!==f&&(this._rawPrevTime=0))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:z.selector(e)||e;var n,r,s,a,o,h,l,u,c,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((p(e)||R(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(h=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(l=t||o,u=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(z.onOverwrite||this.vars.onOverwrite)){for(s in l)o[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!Q(this,i,e,c))return!1}for(s in l)(a=o[s])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[s]),u&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},o.invalidate=function(){return this._notifyPluginsOfEnabled&&z._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-f,this.render(Math.min(0,-this._delay))),this},o._enabled=function(t,e){if(l||h.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=J(n[i],this,!0);else this._siblings=J(this.target,this,!0)}return A.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&z._onPluginEvent(t?"_onEnable":"_onDisable",this)},z.to=function(t,e,i){return new z(t,e,i)},z.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new z(t,e,i)},z.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new z(t,e,n)},z.delayedCall=function(t,e,i,n,r){return new z(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},z.set=function(t,e){return new z(t,0,e)},z.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:z.selector(t)||t;var i,n,r,s;if((p(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(z.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=J(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},z.killTweensOf=z.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=z.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var et=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(o=et.prototype,et.version="1.19.0",et.API=2,o._firstPT=null,o._addTween=j,o.setRatio=F,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},z._onPluginEvent=function(t,e){var i,n,r,s,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:s=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},et.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===et.API&&(V[(new t[e])._propName]=t[e]);return!0},v.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new et(i);o.constructor=a,a.API=t.API;for(e in s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return a.version=t.version,et.activate([a]),a},s=t._gsQueue){for(a=0;a<s.length;a++)s[a]();for(o in g)g[o].func||t.console.log("GSAP encountered missing dependency: "+o)}l=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;!function(t){"use strict";var e=t.GreenSockGlobals||t,i=function(t){var i,n=t.split("."),r=e;for(i=0;i<n.length;i++)r[n[i]]=r=r[n[i]]||{};return r},n=i("com.greensock.utils"),r=function(t){var e=t.nodeType,i="";if(1===e||9===e||11===e){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===e||4===e)return t.nodeValue;return i},s=document,a=s.defaultView?s.defaultView.getComputedStyle:function(){},o=/([A-Z])/g,h=function(t,e,i,n){var r;return(i=i||a(t,null))?(t=i.getPropertyValue(e.replace(o,"-$1").toLowerCase()),r=t||i.length?t:i[e]):t.currentStyle&&(i=t.currentStyle,r=i[e]),n?r:parseInt(r,10)||0},l=function(t){return!!(t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},u=function(t){var e,i,n,r=[],s=t.length;for(e=0;s>e;e++)if(i=t[e],l(i))for(n=i.length,n=0;n<i.length;n++)r.push(i[n]);else r.push(i);return r},c=/(?:\r|\n|\t\t)/g,f=/(?:\s\s+)/g,_=55296,d=56319,p=56320,g=127462,m=127487,v=127995,y=127999,x=function(t){return(t.charCodeAt(0)-_<<10)+(t.charCodeAt(1)-p)+65536},w=s.all&&!s.addEventListener,b=" style='position:relative;display:inline-block;"+(w?"*display:inline;*zoom:1;'":"'"),S=function(t,e){t=t||"";var i=-1!==t.indexOf("++"),n=1;return i&&(t=t.split("++").join("")),function(){return"<"+e+b+(t?" class='"+t+(i?n++:"")+"'>":">")}},T=n.SplitText=e.SplitText=function(t,e){if("string"==typeof t&&(t=T.selector(t)),!t)throw"cannot split a null element.";this.elements=l(t)?u(t):[t],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=e||{},this.split(e)},C=function(t,e,i){var n=t.nodeType;if(1===n||9===n||11===n)for(t=t.firstChild;t;t=t.nextSibling)C(t,e,i);else(3===n||4===n)&&(t.nodeValue=t.nodeValue.split(e).join(i))},P=function(t,e){for(var i=e.length;--i>-1;)t.push(e[i])},k=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},O=function(t,e,i){for(var n;t&&t!==e;){if(n=t._next||t.nextSibling)return n.textContent.charAt(0)===i;t=t.parentNode||t._parent}return!1},A=function(t){var e,i,n=k(t.childNodes),r=n.length;for(e=0;r>e;e++)i=n[e],i._isSplit?A(i):(e&&3===i.previousSibling.nodeType?i.previousSibling.nodeValue+=3===i.nodeType?i.nodeValue:i.firstChild.nodeValue:3!==i.nodeType&&t.insertBefore(i.firstChild,i),t.removeChild(i))},M=function(t,e,i,n,r,o,l){var u,c,f,_,d,p,g,m,v,y,x,w,b=a(t),S=h(t,"paddingLeft",b),T=-999,k=h(t,"borderBottomWidth",b)+h(t,"borderTopWidth",b),M=h(t,"borderLeftWidth",b)+h(t,"borderRightWidth",b),I=h(t,"paddingTop",b)+h(t,"paddingBottom",b),z=h(t,"paddingLeft",b)+h(t,"paddingRight",b),R=.2*h(t,"fontSize"),L=h(t,"textAlign",b,!0),N=[],D=[],E=[],F=e.wordDelimiter||" ",B=e.span?"span":"div",j=e.type||e.split||"chars,words,lines",q=r&&-1!==j.indexOf("lines")?[]:null,V=-1!==j.indexOf("words"),U=-1!==j.indexOf("chars"),X="absolute"===e.position||e.absolute===!0,H=e.linesClass,Z=-1!==(H||"").indexOf("++"),W=[];for(q&&1===t.children.length&&t.children[0]._isSplit&&(t=t.children[0]),Z&&(H=H.split("++").join("")),c=t.getElementsByTagName("*"),f=c.length,d=[],u=0;f>u;u++)d[u]=c[u];if(q||X)for(u=0;f>u;u++)_=d[u],p=_.parentNode===t,(p||X||U&&!V)&&(w=_.offsetTop,q&&p&&Math.abs(w-T)>R&&("BR"!==_.nodeName||0===u)&&(g=[],q.push(g),T=w),X&&(_._x=_.offsetLeft,_._y=w,_._w=_.offsetWidth,_._h=_.offsetHeight),q&&((_._isSplit&&p||!U&&p||V&&p||!V&&_.parentNode.parentNode===t&&!_.parentNode._isSplit)&&(g.push(_),_._x-=S,O(_,t,F)&&(_._wordEnd=!0)),"BR"===_.nodeName&&(_.nextSibling&&"BR"===_.nextSibling.nodeName||0===u)&&q.push([])));for(u=0;f>u;u++)_=d[u],p=_.parentNode===t,"BR"!==_.nodeName?(X&&(v=_.style,V||p||(_._x+=_.parentNode._x,_._y+=_.parentNode._y),v.left=_._x+"px",v.top=_._y+"px",v.position="absolute",v.display="block",v.width=_._w+1+"px",v.height=_._h+"px"),!V&&U?_._isSplit?(_._next=_.nextSibling,_.parentNode.appendChild(_)):_.parentNode._isSplit?(_._parent=_.parentNode,!_.previousSibling&&_.firstChild&&(_.firstChild._isFirst=!0),_.nextSibling&&" "===_.nextSibling.textContent&&!_.nextSibling.nextSibling&&W.push(_.nextSibling),_._next=_.nextSibling&&_.nextSibling._isFirst?null:_.nextSibling,_.parentNode.removeChild(_),d.splice(u--,1),f--):p||(w=!_.nextSibling&&O(_.parentNode,t,F),_.parentNode._parent&&_.parentNode._parent.appendChild(_),w&&_.parentNode.appendChild(s.createTextNode(" ")),e.span&&(_.style.display="inline"),N.push(_)):_.parentNode._isSplit&&!_._isSplit&&""!==_.innerHTML?D.push(_):U&&!_._isSplit&&(e.span&&(_.style.display="inline"),N.push(_))):q||X?(_.parentNode&&_.parentNode.removeChild(_),d.splice(u--,1),f--):V||t.appendChild(_);for(u=W.length;--u>-1;)W[u].parentNode.removeChild(W[u]);if(q){for(X&&(y=s.createElement(B),t.appendChild(y),x=y.offsetWidth+"px",w=y.offsetParent===t?0:t.offsetLeft,t.removeChild(y)),v=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(m=" "===F&&(!X||!V&&!U),u=0;u<q.length;u++){for(g=q[u],y=s.createElement(B),y.style.cssText="display:block;text-align:"+L+";position:"+(X?"absolute;":"relative;"),H&&(y.className=H+(Z?u+1:"")),E.push(y),f=g.length,c=0;f>c;c++)"BR"!==g[c].nodeName&&(_=g[c],y.appendChild(_),m&&_._wordEnd&&y.appendChild(s.createTextNode(" ")),X&&(0===c&&(y.style.top=_._y+"px",y.style.left=S+w+"px"),_.style.top="0px",w&&(_.style.left=_._x-w+"px")));0===f?y.innerHTML="&nbsp;":V||U||(A(y),C(y,String.fromCharCode(160)," ")),X&&(y.style.width=x,y.style.height=_._h+"px"),t.appendChild(y)}t.style.cssText=v}X&&(l>t.clientHeight&&(t.style.height=l-I+"px",t.clientHeight<l&&(t.style.height=l+k+"px")),o>t.clientWidth&&(t.style.width=o-z+"px",t.clientWidth<o&&(t.style.width=o+M+"px"))),P(i,N),P(n,D),P(r,E)},I=function(t,e,i,n){var a,o,h,l,u,p,w,b,S,T=e.span?"span":"div",P=e.type||e.split||"chars,words,lines",k=-1!==P.indexOf("chars"),O="absolute"===e.position||e.absolute===!0,A=e.wordDelimiter||" ",M=" "!==A?"":O?"&#173; ":" ",I=e.span?"</span>":"</div>",z=!0,R=s.createElement("div"),L=t.parentNode;for(L.insertBefore(R,t),R.textContent=t.nodeValue,L.removeChild(t),t=R,a=r(t),w=-1!==a.indexOf("<"),e.reduceWhiteSpace!==!1&&(a=a.replace(f," ").replace(c,"")),w&&(a=a.split("<").join("{{LT}}")),u=a.length,o=(" "===a.charAt(0)?M:"")+i(),h=0;u>h;h++)if(p=a.charAt(h),p===A&&a.charAt(h-1)!==A&&h){for(o+=z?I:"",z=!1;a.charAt(h+1)===A;)o+=M,h++;h===u-1?o+=M:")"!==a.charAt(h+1)&&(o+=M+i(),z=!0)}else"{"===p&&"{{LT}}"===a.substr(h,6)?(o+=k?n()+"{{LT}}</"+T+">":"{{LT}}",h+=5):p.charCodeAt(0)>=_&&p.charCodeAt(0)<=d||a.charCodeAt(h+1)>=65024&&a.charCodeAt(h+1)<=65039?(b=x(a.substr(h,2)),S=x(a.substr(h+2,2)),l=(g>b||b>m||g>S||S>m)&&(v>S||S>y)?2:4,o+=k&&" "!==p?n()+a.substr(h,l)+"</"+T+">":a.substr(h,l),h+=l-1):o+=k&&" "!==p?n()+p+"</"+T+">":p;t.outerHTML=o+(z?I:""),w&&C(L,"{{LT}}","<")},z=function(t,e,i,n){var r,s,a=k(t.childNodes),o=a.length,l="absolute"===e.position||e.absolute===!0;if(3!==t.nodeType||o>1){for(e.absolute=!1,r=0;o>r;r++)s=a[r],(3!==s.nodeType||/\S+/.test(s.nodeValue))&&(l&&3!==s.nodeType&&"inline"===h(s,"display",null,!0)&&(s.style.display="inline-block",s.style.position="relative"),s._isSplit=!0,z(s,e,i,n));return e.absolute=l,void(t._isSplit=!0)}I(t,e,i,n)},R=T.prototype;R.split=function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,i,n,r=this.elements.length,s=t.span?"span":"div",a=S(t.wordsClass,s),o=S(t.charsClass,s);--r>-1;)n=this.elements[r],this._originals[r]=n.innerHTML,e=n.clientHeight,i=n.clientWidth,z(n,t,a,o),M(n,t,this.chars,this.words,this.lines,i,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},R.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var t=this._originals.length;--t>-1;)this.elements[t].innerHTML=this._originals[t];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},T.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(T.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)},T.version="0.5.8"}(_gsScope),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd&&define([],e)}("SplitText");var LinkedList=function(){function t(){this.size=0,this.first=null,this.last=null,this.next=null,this.prev=null}return t.prototype.empty=function(){this.size=0,this.first=null,this.last=null,this.next=null,this.prev=null},t.prototype.add=function(t){return 0===this.size&&null===this.first&&null===this.last?(this.first=t,this.last=t,this.next=t,t.prev=this):(this.last.next=t,t.prev=this.last,this.last=t),this.size++,t},t.prototype.remove=function(t){return 1===this.size?(this.empty(),t.next=t.prev=null,t):(t===this.first?this.first=this.first.next:t===this.last&&(this.last=this.last.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.next=t.prev=null,null===this.first&&(this.last=null),this.size--,t)},t}(),_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=function(t,e,i){var n=t.type,r=t.setRatio,s=e._tween,a=e._target;t.type=2,t.m=i,t.setRatio=function(e){var o,h,l,u=1e-6;if(1!==e||s._time!==s._duration&&0!==s._time)if(e||s._time!==s._duration&&0!==s._time||s._rawPrevTime===-1e-6)if(o=t.c*e+t.s,t.r?o=Math.round(o):o<u&&o>-u&&(o=0),n)if(1===n){for(h=t.xs0+o+t.xs1,l=1;l<t.l;l++)h+=t["xn"+l]+t["xs"+(l+1)];t.t[t.p]=i(h,a)}else n===-1?t.t[t.p]=i(t.xs0,a):r&&r.call(t,e);else t.t[t.p]=i(o+t.xs0,a);else 2!==n?t.t[t.p]=i(t.b,a):r.call(t,e);else if(2!==n)if(t.r&&n!==-1)if(o=Math.round(t.s+t.c),n){if(1===n){for(h=t.xs0+o+t.xs1,l=1;l<t.l;l++)h+=t["xn"+l]+t["xs"+(l+1)];t.t[t.p]=i(h,a)}}else t.t[t.p]=i(o+t.xs0,a);else t.t[t.p]=i(t.e,a);else r.call(t,e)}},e=function(e,i){for(var n=i._firstPT,r=e.rotation&&i._overwriteProps.join("").indexOf("bezier")!==-1;n;)"function"==typeof e[n.p]?t(n,i,e[n.p]):r&&"bezier"===n.n&&n.plugin._overwriteProps.join("").indexOf("rotation")!==-1&&(n.data.mod=e.rotation),n=n._next},i=_gsScope._gsDefine.plugin({propName:"modifiers",version:"0.0.2",API:2,init:function(t,e,i){return this._tween=i,this._vars=e,!0},initAll:function(){for(var t,i,n=this._tween,r=this._vars,s=this,a=n._firstPT;a;)i=a._next,t=r[a.n],a.pg?"css"===a.t._propName?e(r,a.t):a.t!==s&&(t=r[a.t._propName],a.t._mod("object"==typeof t?t:r)):"function"==typeof t&&(2===a.f&&a.t?a.t._applyPT.m=t:(this._add(a.t,a.p,a.s,a.c,t),i&&(i._prev=a._prev),a._prev?a._prev._next=i:n._firstPT===a&&(n._firstPT=i),a._next=a._prev=null,n._propLookup[a.n]=s)),a=i;return!1}}),n=i.prototype;n._add=function(t,e,i,n,r){this._addTween(t,e,i,i+n,e,r),this._overwriteProps.push(e)},n=_gsScope._gsDefine.globals.TweenLite.version.split("."),Number(n[0])<=1&&Number(n[1])<19&&window.console&&console.log("ModifiersPlugin requires GSAP 1.19.0 or later.")}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var paper=function(t,e){var i=(t=t||require("./node/self.js")).window,n=t.document,r=new function(){function t(t,e,r,s,a){function l(n,l){"string"==typeof(l=l||(l=o(e,n))&&(l.get?l:l.value))&&"#"===l[0]&&(l=t[l.substring(1)]||l);var c,f="function"==typeof l,_=l,d=a||f&&!l.base?l&&l.get?n in t:t[n]:null;a&&d||(f&&d&&(l.base=d),f&&!1!==s&&(c=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(u[c[3].toLowerCase()+c[4]]=c[2]),_&&!f&&_.get&&"function"==typeof _.get&&i.isPlainObject(_)||(_={value:_,writable:!0}),(o(t,n)||{configurable:!0}).configurable&&(_.configurable=!0,_.enumerable=null!=r?r:!c),h(t,n,_))}var u={};if(e){for(var c in e)e.hasOwnProperty(c)&&!n.test(c)&&l(c);for(var c in u){var f=u[c],_=t["set"+f],d=t["get"+f]||_&&t["is"+f];!d||!0!==s&&0!==d.length||l(c,{get:d,set:_})}}return t}function i(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&c(this,i)}return this}var n=/^(statics|enumerable|beans|preserve)$/,r=[],s=r.slice,a=Object.create,o=Object.getOwnPropertyDescriptor,h=Object.defineProperty,l=r.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},u=function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)},c=Object.assign||function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},f=function(t,e,i){if(t){var n=o(t,"length");(n&&"number"==typeof n.value?l:u).call(t,e,i=i||t)}return i};return t(i,{inject:function(e){if(e){var i=!0===e.statics?e:e.statics,n=e.beans,r=e.preserve;i!==e&&t(this.prototype,e,e.enumerable,n,r),t(this,i,null,n,r)}for(var s=1,a=arguments.length;s<a;s++)this.inject(arguments[s]);return this},extend:function(){for(var e,i,n,r=this,s=0,o=arguments.length;s<o&&(!e||!i);s++)n=arguments[s],e=e||n.initialize,i=i||n.prototype;return e=e||function(){r.apply(this,arguments)},i=e.prototype=i||a(this.prototype),h(i,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:i,set:i,inject:function(){for(var e=0,i=arguments.length;e<i;e++){var n=arguments[e];n&&t(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=a(this);return t.inject.apply(t,arguments)},each:function(t,e){return f(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:c,each:f,create:a,define:h,describe:o,clone:function(t){return c(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===i||"Object"===e.name)},pick:function(t,i){return t!==e?t:i},slice:function(t,e,i){return s.call(t,e,i)}}})};"undefined"!=typeof module&&(module.exports=r),r.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+r.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?h.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return r.importJSON(t,this)},exportJSON:function(t){return r.exportJSON(this,t)},toJSON:function(){return r.serialize(this)},set:function(t,e){return t&&r.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function rt(){var t=rt.base.apply(this,arguments),e=t.prototype._class;return e&&!r.exports[e]&&(r.exports[e]=t),t},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(;n--;)if(!r.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var s=i[n];if(!e.hasOwnProperty(s)||!r.equals(t[s],e[s]))return!1}}return!0}return!1},read:function(t,i,n,s){if(this===r){var a=this.peek(t,i);return t.__index++,a}var o=this.prototype,h=o._readIndex,l=i||h&&t.__index||0,u=t.length,c=t[l];if(s=s||u-l,c instanceof this||n&&n.readNull&&null==c&&s<=1)return h&&(t.__index=l+1),c&&n&&n.clone?c.clone():c;if(c=r.create(o),h&&(c.__read=!0),c=c.initialize.apply(c,l>0||l+s<u?r.slice(t,l,l+s):t)||c,h){t.__index=l+c.__read;var f=c.__filtered;f&&(t.__filtered=f,c.__filtered=e),c.__read=e}return c},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var r,s=[],a=e||0,o=n?a+n:t.length,h=a;h<o;h++)s.push(Array.isArray(r=t[h])?this.read(r,0,i):this.read(t,h,i,1));
return s},readNamed:function(t,i,n,s,a){var o=this.getNamed(t,i),h=o!==e;if(h){var l=t.__filtered;l||((l=t.__filtered=r.create(t[0])).__unfiltered=t[0]),l[i]=e}var u=h?[o]:t;return this.read(u,n,s,a)},getNamed:function(t,i){var n=t[0];if(t._hasObject===e&&(t._hasObject=1===t.length&&r.isPlainObject(n)),t._hasObject)return i?n[i]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,i,n,r){function s(r){if(!(n&&r in n||a&&r in a)){var s=i[r];s!==e&&(t[r]=s)}}var a;if(r){for(var o,h={},l=0,u=r.length;l<u;l++)(o=r[l])in i&&(s(o),h[o]=!0);a=h}return Object.keys(i.__unfiltered||i).forEach(s),t},isPlainValue:function(t,e){return r.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var s,a=!n;if(a&&(e.formatter=new h(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[i]=r,n=this.references[i]=[i]}return n}}),t&&t._serialize){s=t._serialize(e,n);var o=t._class;!o||t._compactSerialize||!a&&i||s[0]===o||s.unshift(o)}else if(Array.isArray(t)){s=[];for(var l=0,u=t.length;l<u;l++)s[l]=r.serialize(t[l],e,i,n)}else if(r.isPlainObject(t)){s={};for(var c=Object.keys(t),l=0,u=c.length;l<u;l++){var f=c[l];s[f]=r.serialize(t[f],e,i,n)}}else s="number"==typeof t?e.formatter.number(t,e.precision):t;return a&&n.length>0?[["dictionary",n.definitions],s]:s},deserialize:function(t,e,i,n,s){var a=t,o=!i,h=o&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var l=t[0],u="dictionary"===l;if(1==t.length&&/^#/.test(l))return i.dictionary[l];a=[];for(var c=(l=r.exports[l])?1:0,f=t.length;c<f;c++)a.push(r.deserialize(t[c],e,i,u,h));if(l){var _=a;e?a=e(l,_,o||s):(a=r.create(l.prototype),l.apply(a,_))}}else if(r.isPlainObject(t)){a={},n&&(i.dictionary=a);for(var d in t)a[d]=r.deserialize(t[d],e,i)}return h?a[1]:a},exportJSON:function(t,e){var i=r.serialize(t,e);return e&&0==e.asString?i:JSON.stringify(i)},importJSON:function(t,e){return r.deserialize("string"==typeof t?JSON.parse(t):t,function(t,i,n){var s=n&&e&&e.constructor===t,a=s?e:r.create(t.prototype);if(1===i.length&&a instanceof x&&(s||!(a instanceof b))){var o=i[0];r.isPlainObject(o)&&(o.insert=!1)}return(s?a.set:t).apply(a,i),s&&(e=null),a})},splice:function(t,i,n,r){var s=i&&i.length,a=n===e;for((n=a?t.length:n)>t.length&&(n=t.length),l=0;l<s;l++)i[l]._index=n+l;if(a)return t.push.apply(t,i),[];var o=[n,r];i&&o.push.apply(o,i);for(var h=t.splice.apply(t,o),l=0,u=h.length;l<u;l++)h[l]._index=e;for(var l=n+s,u=t.length;l<u;l++)t[l]._index=l;return h},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var s={on:function(t,e){if("string"!=typeof t)r.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,n=i&&i[t],s=this._callbacks=this._callbacks||{};-1===(s=s[t]=s[t]||[]).indexOf(e)&&(s.push(e),n&&n.install&&1===s.length&&n.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var i,n=this._eventTypes,s=n&&n[t],a=this._callbacks&&this._callbacks[t];return a&&(!e||-1!==(i=a.indexOf(e))&&1===a.length?(s&&s.uninstall&&s.uninstall.call(this,t),delete this._callbacks[t]):-1!==i&&a.splice(i,1)),this}r.each(t,function(t,e){this.off(e,t)},this)},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=r.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var a=0,o=i.length;a<o;a++)if(0==i[a].apply(this,n)){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e)for(var r in i)if(i[r].length>0){var s=e[r],a=s&&s[n];a&&a.call(this,r)}},statics:{inject:function st(t){var e=t._events;if(e){var i={};r.each(e,function(e,n){var s="string"==typeof e,a=s?e:n,o=r.capitalize(a),h=a.substring(2).toLowerCase();i[h]=s?{}:e,a="_"+a,t["get"+o]=function(){return this[a]},t["set"+o]=function(t){var e=this[a];e&&this.off(h,e),t&&this.on(h,t),this[a]=t}}),t._eventTypes=i}return st.base.apply(this,arguments)}}},a=r.extend({_class:"PaperScope",initialize:function at(){paper=this,this.settings=new r({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=at._id++,at._scopes[this._id]=this;var e=at.prototype;if(!this.support){var i=tt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:et.nativeModes},tt.release(i)}if(!this.agent){var n=t.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],a="darwin"===s?"mac":s,o=e.agent=e.browser={platform:a};a&&(o[a]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,r){if(!o.chrome){var s="opera"===e?n:/^(node|trident)$/.test(e)?r:i;o.version=s,o.versionNumber=parseFloat(s),e="trident"===e?"msie":e,o.name=e,o[e]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.11.5",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){paper.PaperScript.execute(t,this,e),H.updateFocus()},install:function(t){var e=this;r.each(["project","view","tool"],function(i){r.define(t,i,{configurable:!0,get:function(){return e[i]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return paper=this,this.project=new y(t),this},createCanvas:function(t,e){return tt.getCanvas(t,e)},activate:function(){paper=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete a._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),o=r.extend(s,{initialize:function(t){this._scope=paper,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(r.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),h=r.extend({initialize:function(t){this.precision=r.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});h.instance=new h;var l=new function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t,e,i){function n(t){var e=134217729*t,i=t-e+e;return[i,t-i]}var r=e*e-t*i,a=e*e+t*i;if(3*s(r)<a){var o=n(t),h=n(e),l=n(i),u=e*e,c=t*i;r=u-c+(h[0]*h[0]-u+2*h[0]*h[1]+h[1]*h[1]-(o[0]*l[0]-c+o[0]*l[1]+o[1]*l[0]+o[1]*l[1]))}return r}function i(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?o(2,-Math.round(h(t))):0}var n=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,a=Math.sqrt,o=Math.pow,h=Math.log2||function(t){return Math.log(t)*Math.LOG2E};return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=1e-12},clamp:t,integrate:function(t,e,i,s){for(var a=n[s-2],o=r[s-2],h=.5*(i-e),l=h+e,u=0,c=s+1>>1,f=1&s?o[u++]*t(l):0;u<c;){var _=h*a[u];f+=o[u++]*(t(l+_)+t(l-_))}return h*f},findRoot:function(e,i,n,r,a,o,h){for(var l=0;l<o;l++){var u=e(n),c=u/i(n),f=n-c;if(s(c)<h){n=f;break}u>0?(a=n,n=f<=r?.5*(r+a):f):(r=n,n=f>=a?.5*(r+a):f)}return t(n,r,a)},solveQuadratic:function(n,r,o,h,l,u){var c,f=1/0;if(s(n)<1e-12){if(s(r)<1e-12)return s(o)<1e-12?-1:0;c=-o/r}else{var _=e(n,r*=-.5,o);if(_&&s(_)<1.12e-16){var d=i(s(n),s(r),s(o));d&&(_=e(n*=d,r*=d,o*=d))}if(_>=-1.12e-16){var p=_<0?0:a(_),g=r+(r<0?-p:p);0===g?f=-(c=o/n):(c=g/n,f=o/g)}}var m=0,v=null==l,y=l-1e-12,x=u+1e-12;return isFinite(c)&&(v||c>y&&c<x)&&(h[m++]=v?c:t(c,l,u)),f!==c&&isFinite(f)&&(v||f>y&&f<x)&&(h[m++]=v?f:t(f,l,u)),m},solveCubic:function(e,n,r,h,u,c,f){function _(t){var i=e*(d=t);m=(i+(p=i+n))*d+(g=p*d+r),v=g*d+h}var d,p,g,m,v,y=i(s(e),s(n),s(r),s(h));if(y&&(e*=y,n*=y,r*=y,h*=y),s(e)<1e-12)e=n,p=r,g=h,d=1/0;else if(s(h)<1e-12)p=n,g=r,d=0;else{_(-n/e/3);var x=v/e,w=o(s(x),1/3),b=x<0?-1:1,S=-m/e,T=S>0?1.324717957244746*Math.max(w,a(S)):w,C=d-b*T;if(C!==d){do _(C),C=0===m?d:d-v/m/(1+1.12e-16);while(b*C>b*d);s(e)*d*d>s(h/d)&&(p=((g=-h/d)-r)/d)}}var P=l.solveQuadratic(e,p,g,u,c,f),k=null==c;return isFinite(d)&&(0===P||P>0&&d!==u[0]&&d!==u[1])&&(k||d>c-1e-12&&d<f+1e-12)&&(u[P++]=k?d:t(d,c,f)),P}}},u={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},c=r.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,r=0;if("number"===i){var s="number"==typeof e;this._set(t,s?e:t),n&&(r=s?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(r=null===t?1:0);else{var a="string"===i?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),r=0)}return n&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new c(this.x,this.y)},toString:function(){var t=h.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();l.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=c.read(arguments),e=this.getLength()*t.getLength();if(l.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=c.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=c.read(arguments),e=t.x-this.x,i=t.y-this.y,n=e*e+i*i;return r.read(arguments)?n:Math.sqrt(n)},normalize:function(t){t===e&&(t=1);var i=this.getLength(),n=0!==i?t/i:0,r=new c(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),r=Math.cos(t);return i=new c(i.x*r-i.y*n,i.x*n+i.y*r),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=c.read(arguments);return new c(this.x+t.x,this.y+t.y)},subtract:function(){var t=c.read(arguments);return new c(this.x-t.x,this.y-t.y)},multiply:function(){var t=c.read(arguments);return new c(this.x*t.x,this.y*t.y)},divide:function(){var t=c.read(arguments);return new c(this.x/t.x,this.y/t.y)},modulo:function(){var t=c.read(arguments);return new c(this.x%t.x,this.y%t.y)},negate:function(){return new c((-this.x),(-this.y))},isInside:function(){return p.read(arguments).contains(this)},isClose:function(){var t=c.read(arguments),e=r.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=c.read(arguments);return c.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=c.read(arguments);return c.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=l.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=c.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=c.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=c.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new c(t.x*e,t.y*e)},statics:{min:function(){var t=c.read(arguments),e=c.read(arguments);return new c(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=c.read(arguments),e=c.read(arguments);return new c(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new c(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},r.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new c(e(this.x),e(this.y))}},{})),f=c.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),_=r.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,r=0;if("number"===i){var s="number"==typeof e;this._set(t,s?e:t),n&&(r=s?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(r=null===t?1:0);else{var a="string"===i?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),r=0)}return n&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var t=h.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=_.read(arguments);return new _(this.width+t.width,this.height+t.height)},subtract:function(){var t=_.read(arguments);return new _(this.width-t.width,this.height-t.height)},multiply:function(){var t=_.read(arguments);return new _(this.width*t.width,this.height*t.height)},divide:function(){var t=_.read(arguments);return new _(this.width/t.width,this.height/t.height)},modulo:function(){var t=_.read(arguments);return new _(this.width%t.width,this.height%t.height)},negate:function(){return new _((-this.width),(-this.height))},isZero:function(){var t=l.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new _(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new _(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new _(Math.random(),Math.random())}}},r.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new _(e(this.width),e(this.height))}},{})),d=_.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),p=r.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,i,n,s){var a,o=typeof t;if("number"===o?(this._set(t,i,n,s),a=4):"undefined"===o||null===t?(this._set(0,0,0,0),a=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),a=1):t.x!==e||t.width!==e?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),a=1):t.from===e&&t.to===e&&(this._set(0,0,0,0),r.filter(this,t),a=1)),a===e){var h,l,u=c.readNamed(arguments,"from"),f=r.peek(arguments),d=u.x,p=u.y;if(f&&f.x!==e||r.hasNamed(arguments,"to")){var g=c.readNamed(arguments,"to");h=g.x-d,l=g.y-p,h<0&&(d=g.x,h=-h),l<0&&(p=g.y,l=-l)}else{var m=_.read(arguments);h=m.width,l=m.height}this._set(d,p,h,l),a=arguments.__index;var v=arguments.__filtered;v&&(this.__filtered=v)}return this.__read&&(this.__read=a),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new p(this.x,this.y,this.width,this.height)},equals:function(t){var e=r.isPlainValue(t)?p.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=h.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?c:f)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=c.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?_:d)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=_.read(arguments),e=this._sx,i=this._sy,n=t.width,r=t.height;e&&(this.x+=(this.width-n)*e),i&&(this.y+=(this.height-r)*i),this.width=n,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?c:f)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=c.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==e||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(p.read(arguments)):this._containsPoint(c.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=p.read(arguments),e=r.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=p.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new p(e,i,n-e,r-i)},unite:function(){var t=p.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new p(e,i,n-e,r-i)},include:function(){var t=c.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new p(e,i,n-e,r-i)},expand:function(){var t=_.read(arguments),e=t.width,i=t.height;return new p(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,i){return this.expand(this.width*t-this.width,this.height*(i===e?t:i)-this.height)}},r.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var r=t[n?0:1],s=t[n?1:0],a="get"+r,o="get"+s,h="set"+r,l="set"+s,u="set"+i;this["get"+i]=function(t){return new(t?c:f)(this[a](),this[o](),this,u)},this[u]=function(){var t=c.read(arguments);this[h](t.x),this[l](t.y)}},{beans:!0})),g=p.extend({initialize:function(t,e,i,n,r,s){this._set(t,e,i,n,!0),this._owner=r,this._setter=s},_set:function(t,e,i,n,r){return this._x=t,this._y=e,this._width=i,this._height=n,r||this._owner[this._setter](this),this}},new function(){var t=p.prototype;return r.each(["x","y","width","height"],function(t){var e=r.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},r.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),m=r.extend({_class:"Matrix",initialize:function ot(t,e){var i=arguments.length,n=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?t instanceof ot?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,e):Array.isArray(t)?this._set.apply(this,e?t.concat([e]):t):n=!1:i?n=!1:this.reset(),!n)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,n,r,s,a){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t,e){return r.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new m(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=h.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,!0,r.pick(t,!0),e),this.isIdentity())},translate:function(){var t=c.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=c.read(arguments),e=c.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=c.read(arguments,1),i=e.x,n=e.y,r=Math.cos(t),s=Math.sin(t),a=i-i*r+n*s,o=n-i*s-n*r,h=this._a,l=this._b,u=this._c,f=this._d;return this._a=r*h+s*u,this._b=r*l+s*f,this._c=-s*h+r*u,this._d=-s*l+r*f,this._tx+=a*h+o*u,this._ty+=a*l+o*f,this._changed(),this},shear:function(){var t=c.read(arguments),e=c.read(arguments,0,{readNull:!0});e&&this.translate(e);var i=this._a,n=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*i,this._d+=t.x*n,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=c.read(arguments),e=c.read(arguments,0,{readNull:!0}),i=Math.PI/180,n=new c(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(n,e)},append:function(t,e){if(t){var i=this._a,n=this._b,r=this._c,s=this._d,a=t._a,o=t._c,h=t._b,l=t._d,u=t._tx,c=t._ty;this._a=a*i+h*r,this._c=o*i+l*r,this._b=a*n+h*s,this._d=o*n+l*s,this._tx+=u*i+c*r,this._ty+=u*n+c*s,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,n=this._b,r=this._c,s=this._d,a=this._tx,o=this._ty,h=t._a,l=t._c,u=t._b,c=t._d,f=t._tx,_=t._ty;this._a=h*i+l*n,this._c=h*r+l*s,this._b=u*i+c*n,this._d=u*r+c*s,this._tx=h*a+l*o+f,this._ty=u*a+c*o+_,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,s=this._ty,a=t*n-e*i,o=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=n/a,this._b=-e/a,this._c=-i/a,this._d=t/a,this._tx=(i*s-n*r)/a,this._ty=(e*r-t*s)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new m(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(c.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,r=t.y;return e||(e=new c),e._set(n*this._a+r*this._c+this._tx,n*this._b+r*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,r=2*i;n<r;n+=2){var s=t[n],a=t[n+1];e[n]=s*this._a+a*this._c+this._tx,e[n+1]=s*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,s=[e,i,n,i,n,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),r=n.slice(0,2),s=r.slice(),a=2;a<8;a++){var o=n[a],h=1&a;o<r[h]?r[h]=o:o>s[h]&&(s[h]=o)}return e||(e=new p),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],i)},inverseTransform:function(){return this._inverseTransform(c.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,r=this._b,s=this._c,a=this._d,o=this._tx,h=this._ty,l=n*a-r*s,u=null;if(l&&!isNaN(l)&&isFinite(o)&&isFinite(h)){var f=t.x-this._tx,_=t.y-this._ty;e||(e=new c),u=e._set((f*a-_*s)/l,(_*n-f*r)/l,i)}return u},decompose:function(){var t,e,i,n=this._a,r=this._b,s=this._c,a=this._d,o=n*a-r*s,h=Math.sqrt,l=Math.atan2,u=180/Math.PI;if(0!==n||0!==r){var f=h(n*n+r*r);t=Math.acos(n/f)*(r>0?1:-1),e=[f,o/f],i=[l(n*s+r*a,f*f),0]}else if(0!==s||0!==a){var _=h(s*s+a*a);t=Math.asin(s/_)*(a>0?1:-1),e=[o/_,_],i=[0,l(n*s+r*a,_*_)]}else t=0,i=e=[0,0];return{translation:this.getTranslation(),rotation:t*u,scaling:new c(e),skewing:new c(i[0]*u,i[1]*u)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new c(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},r.each(["a","b","c","d","tx","ty"],function(t){var e=r.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),v=r.extend({_class:"Line",initialize:function(t,e,i,n,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=n,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=i),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new c(this._px,this._py)},getVector:function(){return new c(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){
return v.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return v.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return v.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return c.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return c.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,r,s,a,o,h,u){h||(i-=t,n-=e,a-=r,o-=s);var f=i*o-n*a;if(!l.isZero(f)){var _=t-r,d=e-s,p=(a*d-o*_)/f,g=(i*d-n*_)/f;if(u||-1e-12<p&&p<1+1e-12&&-1e-12<g&&g<1+1e-12)return u||(p=p<=0?0:p>=1?1:p),new c(t+p*i,e+p*n)}},getSide:function(t,e,i,n,r,s,a,o){a||(i-=t,n-=e);var h=r-t,u=h*n-(s-e)*i;return!o&&l.isZero(u)&&(u=(h*i+h*i)/(i*i+n*n))>=0&&u<=1&&(u=0),u<0?-1:u>0?1:0},getSignedDistance:function(t,e,i,n,r,s,a){return a||(i-=t,n-=e),0===i?n>0?r-t:t-r:0===n?i<0?s-e:e-s:((r-t)*n-(s-e)*i)/Math.sqrt(i*i+n*n)},getDistance:function(t,e,i,n,r,s,a){return Math.abs(v.getSignedDistance(t,e,i,n,r,s,a))}}}),y=o.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){o.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new V(null,null,this),this._view=H.create(this,t||tt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return r.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var r=this._changesById,s=e._id,a=r[s];a?a.flags|=t:n.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function ht(){return!!ht.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new b({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({"class":C,match:function(i){var n=i._definition,r=n._id;return e[r]||(e[r]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],r=n._selection;1&r&&n.isInserted()?e.push(n):r||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(e,t)},insertLayer:function(t,e){if(e instanceof b){e._remove(!1,!0),r.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,i,n){return i=this.insertLayer(t,i)||(this._activeLayer||this._insertItem(e,new b(x.NO_INSERT),!0)).insertChild(t,i),n&&i.activate&&i.activate(),i},getItems:function(t){return x._getItems(this,t)},getItem:function(t){return x._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return r.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var r=i[n];for(var s in e){var a=e[s];a&&a!=i&&delete a[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new r({offset:new c(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new m],updateMatrix:!0}),a=0,o=n.length;a<o;a++)n[a].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var h=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var f in h)h[f]._drawSelection(t,e,l,h,u);t.restore()}}}),x=r.extend(s,{statics:{extend:function lt(t){return t._serializeFields&&(t._serializeFields=r.set({},this.prototype._serializeFields,t._serializeFields)),lt.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new m,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return r.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,i){var n=t&&r.isPlainObject(t),s=n&&!0===t.internal,a=this._matrix=new m,o=n&&t.project||paper.project,h=paper.settings;return this._id=s?null:u.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,i&&a.translate(i),a._owner=this,this._style=new V(o._currentStyle,this,o),s||n&&0==t.insert||!h.insertItems&&(!n||!0!==t.insert)?this._setProject(o):(n&&t.parent||o)._insertItem(e,this,!0),n&&t!==x.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function i(i){for(var a in i){var o=s[a];r.equals(o,"leading"===a?1.2*i.fontSize:i[a])||(n[a]=r.serialize(o,t,"data"!==a,e))}}var n={},s=this;return i(this._serializeFields),this instanceof w||i(this._style._defaults),[this._class,n]},_changed:function(t){var i=this._symbol,n=this._parent||i,r=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=e),n&&40&t&&x._clearBoundsCache(n),2&t&&x._clearBoundsCache(this),r&&r._changed(t,this),i&&i._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(t&&i){var n=i._children,r=i._namedChildren;(r[t]=r[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||e,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},r.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=r.capitalize(t),i="_"+t,n={locked:128,visible:137};this["get"+e]=function(){return this[i]},this["set"+e]=function(e){e!=this[i]&&(this[i]=e,this._changed(n[t]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,i=t?c:f;if(!e){var n=this._pivot;e=this._position=n?this._matrix._transformPoint(n):this.getBounds().getCenter(!0)}return new i(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(c.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new f(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=c.read(arguments,0,{clone:!0,readNull:!0}),this._position=e}},r.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof m,n=r.set({},i?e:t,this._boundsOptions);n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this);var s=this._getCachedBounds(i&&t,n).rect;return arguments.length?s:new g(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=p.read(arguments),e=this.getBounds(),i=this._matrix,n=new m,r=t.getCenter();n.translate(r),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.set(i._backup||(new m).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&i.length?(x._updateBoundsCache(this,e.cacheItem),x._getBounds(i,t,e)):new p},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var n=e.internal&&!i,r=e.cacheItem,s=n?null:this._matrix._orNullIfIdentity(),a=r&&(!t||t.equals(s))&&this._getBoundsCacheKey(e,n),o=this._bounds;if(x._updateBoundsCache(this._parent||this._symbol,r),a&&o&&a in o)return{rect:(f=o[a]).rect.clone(),nonscaling:f.nonscaling};var h=this._getBounds(t||s,e),l=h.rect||h,u=this._style,c=h.nonscaling||u.hasStroke()&&!u.getStrokeScaling();if(a){o||(this._bounds=o={});var f=o[a]={rect:l.clone(),nonscaling:c,internal:n}}return{rect:l,nonscaling:c}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var i=t._boundsCache;if(i){t._bounds=t._position=t._boundsCache=e;for(var n=0,r=i.list,s=r.length;n<s;n++){var a=r[n];a!==t&&(a._bounds=a._position=e,a._boundsCache&&x._clearBoundsCache(a))}}},_getBounds:function(t,e,i){var n=1/0,r=-n,s=n,a=r,o=!1;i=i||{};for(var h=0,l=t.length;h<l;h++){var u=t[h];if(u._visible&&!u.isEmpty()){var c=u._getCachedBounds(e&&e.appended(u._matrix),i,!0),f=c.rect;n=Math.min(f.x,n),s=Math.min(f.y,s),r=Math.max(f.x+f.width,r),a=Math.max(f.y+f.height,a),c.nonscaling&&(o=!0)}}return{rect:isFinite(n)?new p(n,s,r-n,a-s):new p,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new f(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=c.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),n=this._decomposed,r=new m,s=this.getPosition(!0);r.translate(s),i&&r.rotate(i),r.scale(e.x/t.x,e.y/t.y),i&&r.rotate(-i),r.translate(s.negate()),this.transform(r),n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,i=this._project._updateVersion;if(e&&e._updateVersion!==i&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0)),e._updateVersion=i}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,r=i&&i.length;n<r;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function ut(t){ut.base.call(this,t);for(var e=this._children,i=0,n=e&&e.length;i<n;i++)e[i]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof b)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return r.equals(this._children,t._children)},clone:function(t){var i=new this.constructor(x.NO_INSERT),n=this._children,s=r.pick(t?t.insert:e,t===e||!0===t),a=r.pick(t?t.deep:e,!0);n&&i.copyAttributes(this),n&&!a||i.copyContent(this),n||i.copyAttributes(this),s&&i.insertAbove(this);var o=this._name,h=this._parent;if(o&&h){for(var n=h._children,l=o,u=1;n[o];)o=l+" "+u++;o!==l&&i.setName(o)}return i},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=i.length;n<s;n++){var a=i[n];t.hasOwnProperty(a)&&(this[a]=t[a])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var o=t._data,h=t._name;this._data=o?r.clone(o):null,h&&this.setName(h)},rasterize:function(t,i){var n=this.getStrokeBounds(),s=(t||this.getView().getResolution())/72,a=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),h=new _(o.subtract(a)),l=new T(x.NO_INSERT);if(!h.isZero()){var u=tt.getCanvas(h.multiply(s)),c=u.getContext("2d"),f=(new m).scale(s).translate(a.negate());c.save(),f.applyToContext(c),this.draw(c,new r({matrices:[f]})),c.restore(),l.setCanvas(u)}return l.transform((new m).translate(a.add(h.divide(2))).scale(1/s)),(i===e||i)&&l.insertAbove(this),l},contains:function(){return!!this._contains(this._matrix._inverseTransform(c.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return p.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new R.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof x&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(c.read(arguments),k.getOptions(arguments))}function e(){var t=c.read(arguments),e=k.getOptions(arguments),i=[];return this._hitTest(t,r.set({all:i},e)),i}function i(t,e,i,n){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],o=a!==n&&a._hitTest(t,e,i);if(o&&!e.all)return o}return null}return y.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){function n(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function s(e,i){var n=i?u["get"+i]():p.getPosition();if(t.subtract(n).divide(l).length<=1)return new k(e,p,{name:i?r.hyphenate(i):e,point:n})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var a=this._matrix,o=i?i.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),h=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new _(R._getStrokePadding(h,a._shiftless().invert()));if(!(t=a._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var u,c,f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==r.hyphenate(this._class)||e["class"]&&!(this instanceof e["class"])),d=e.match,p=this,g=e.position,m=e.center,v=e.bounds;if(f&&this._parent&&(g||m||v)){if((m||v)&&(u=this.getInternalBounds()),!(c=g&&s("position")||m&&s("center","Center"))&&v)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!c;x++)c=s("bounds",y[x]);c=n(c)}return c||(c=this._hitTestChildren(t,e,o)||f&&n(this._hitTestSelf(t,e,o,this.getStrokeScaling()?null:o._shiftless().invert()))||null),c&&c.point&&(c.point=a.transform(c.point)),c},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new k("fill",this)},matches:function(t,e){function i(t,e){for(var n in t)if(t.hasOwnProperty(n)){var s=t[n],a=e[n];if(r.isPlainObject(s)&&r.isPlainObject(a)){if(!i(s,a))return!1}else if(!r.equals(s,a))return!1}return!0}var n=typeof t;if("object"===n){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}if("function"===n)return t(this);if("match"===t)return e(this);var a=/^(empty|editable)$/.test(t)?this["is"+r.capitalize(t)]():"type"===t?r.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;a=this._class}if("function"==typeof e)return!!e(a);if(e){if(e.test)return e.test(a);if(r.isPlainObject(e))return i(e,a)}return r.equals(a,e)},getItems:function(t){return x._getItems(this,t,this._matrix)},getItem:function(t){return x._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function ct(t,e,i,n,s){if(!n){var a="object"==typeof e&&e,o=a&&a.overlapping,h=a&&a.inside,l=(y=o||h)&&p.read([y]);n={items:[],recursive:a&&!1!==a.recursive,inside:!!h,overlapping:!!o,rect:l,path:o&&new R.Rectangle({rectangle:l,insert:!1})},a&&(e=r.filter({},e,{recursive:!0,inside:!0,overlapping:!0}))}var u=t._children,c=n.items;i=(l=n.rect)&&(i||new m);for(var f=0,_=u&&u.length;f<_;f++){var d=u[f],g=i&&i.appended(d._matrix),v=!0;if(l){var y=d.getBounds(g);if(!l.intersects(y))continue;l.contains(y)||n.overlapping&&(y.contains(l)||n.path.intersects(d,g))||(v=!1)}if(v&&d.matches(e)&&(c.push(d),s))break;if(!1!==n.recursive&&ct(d,e,g,n,s),s&&c.length>0)break}return c}}},{importJSON:function(t){var e=r.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(e,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){for(var n={},s=(e=r.slice(e)).length-1;s>=0;s--){var a=(u=e[s])&&u._id;!u||n[a]?e.splice(s,1):(u._remove(!1,!0),n[a]=!0)}r.splice(i,e,t,0);for(var o=this._project,h=o._changes,s=0,l=e.length;s<l;s++){var u=e[s],c=u._name;u._parent=this,u._setProject(o,!0),c&&u.setName(c),h&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(e,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(e,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,r=i[n],s=r?r.indexOf(this):-1;-1!==s&&(e[n]==this&&delete e[n],r.splice(s,1),r.length?e[n]=r[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,s=this._index;return!!i&&(this._name&&this._removeNamed(),null!=s&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),r.splice(i._children,null,s,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=r.pick(e,this._children.length);for(var i=r.splice(this._children,null,t,e-t),n=i.length-1;n>=0;n--)i[n]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var i=e(this),n=e(t),r=0,s=Math.min(i.length,n.length);r<s;r++)if(i[r]!=n[r])return i[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},r.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?r:c).read(arguments),n=c.read(arguments,0,{readNull:!0});return this.transform((new m)[t](i,n||this.getPosition(!0)))}},{translate:function(){var t=new m;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i,n){var r=this._matrix,s=t&&!t.isIdentity(),a=(e||this._applyMatrix)&&(!r.isIdentity()||s||e&&i&&this._children);if(!s&&!a)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var o=this._style,h=o.getFillColor(!0),l=o.getStrokeColor(!0);h&&h.transform(t),l&&l.transform(t)}if(a&&(a=this._transformContent(r,i,n))){var u=this._pivot;u&&r._transformPoint(u,u,!0),r.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,f=this._position;(s||a)&&this._changed(9);var _=s&&c&&t.decompose();if(_&&_.skewing.isZero()&&_.rotation%90==0){for(var d in c){var p=c[d];if(p.nonscaling)delete c[d];else if(a||!p.internal){var g=p.rect;t._transformBounds(g,g)}}this._bounds=c;var m=c[this._getBoundsCacheKey(this._boundsOptions||{})];m&&(this._position=m.rect.getCenter(!0))}else s&&f&&this._pivot&&(this._position=t._transformPoint(f,f));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var r=0,s=n.length;r<s;r++)n[r].transform(t,!0,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(c.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(c.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(c.read(arguments))},localToParent:function(){return this._matrix._transformPoint(c.read(arguments))},fitBounds:function(t,e){t=p.read(arguments);var i=this.getBounds(),n=i.height/i.width,r=t.height/t.width,s=(e?n>r:n<r)?t.width/i.width:t.height/i.height,a=new p(new c,new _(i.width*s,i.height*s));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,i){var n=this._style,r=this._matrix;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t,r)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=n.getStrokeWidth();var s=n.getStrokeJoin(),a=n.getStrokeCap(),o=n.getMiterLimit();if(s&&(t.lineJoin=s),a&&(t.lineCap=a),o&&(t.miterLimit=o),paper.support.nativeDash){var h=n.getDashArray(),l=n.getDashOffset();h&&h.length&&("setLineDash"in t?(t.setLineDash(h),t.lineDashOffset=l):(t.mozDash=h,t.mozDashOffset=l))}}if(n.hasShadow()){var u=e.pixelRatio||1,f=i._shiftless().prepend((new m).scale(u,u)),_=f.transform(new c(n.getShadowBlur(),0)),d=f.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=_.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,i){var n=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,s=e.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){s=s?s.appended(o):o,r.push(o),e.updateMatrix&&(o._updateVersion=n,this._globalMatrix=o);var h,l,u,c=this._blendMode,f=this._opacity,_="normal"===c,d=et.nativeModes[c],p=_&&1===f||e.dontStart||e.clip||(d||_&&f<1)&&this._canComposite(),g=e.pixelRatio||1;if(!p){var m=this.getStrokeBounds(s);if(!m.width||!m.height)return;u=e.offset,l=e.offset=m.getTopLeft().floor(),h=t,t=tt.getContext(m.getSize().ceil().add(1).multiply(g)),1!==g&&t.scale(g,g)}t.save();var v=i?i.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,y=!p&&e.clipItem,x=!v||y;if(p?(t.globalAlpha=f,d&&(t.globalCompositeOperation=c)):x&&t.translate(-l.x,-l.y),x&&(p?a:s).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),v){t.setTransform(g,0,0,g,0,0);var w=e.offset;w&&t.translate(-w.x,-w.y)}this._draw(t,e,s,v),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),p||(et.process(c,t,h,f,l.subtract(u).multiply(g)),tt.release(t),e.offset=u)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof L)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,r){var s=this._selection,a=1&s,o=2&s||a&&this._selectBounds,h=4&s;if(this._drawSelected||(a=!1),(a||o||h)&&this._isUpdated(r)){var l,u=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),c=e.appended(this.getGlobalMatrix(!0)),f=i/2;if(t.strokeStyle=t.fillStyle=u?u.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,c,n),h){var _=this.getPosition(!0),d=_.x,p=_.y;t.beginPath(),t.arc(d,p,f,0,2*Math.PI,!0),t.stroke();for(var g=[[0,-1],[1,0],[0,1],[-1,0]],m=f,v=i+1,y=0;y<4;y++){var x=g[y],w=x[0],b=x[1];t.moveTo(d+w*m,p+b*m),t.lineTo(d+w*v,p+b*v),t.stroke()}}if(o){var S=c._transformCorners(this.getInternalBounds());for(t.beginPath(),y=0;y<8;y++)t[y?"lineTo":"moveTo"](S[y],S[++y]);for(t.closePath(),t.stroke(),y=0;y<8;y++)t.fillRect(S[y]-f,S[++y]-f,i,i)}}},_canComposite:function(){return!1}},r.each(["down","drag","up","move"],function(t){this["removeOn"+r.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,r=n._removeSets=n._removeSets||{};r[i]=r[i]||{},r[i][this._id]=this}return this}})),w=x.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function ft(t){ft.base.call(this,t),1026&t&&(this._clipItem=e)},_getClipItem:function(){var t=this._clipItem;if(t===e){t=null;for(var i=this._children,n=0,r=i.length;n<r;n++)if(i[n]._clipMask){t=i[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function _t(t,e){var i=this._getClipItem();return i?i._getCachedBounds(t&&t.appended(i._matrix),r.set({},e,{stroke:!1})):_t.base.call(this,t,e)},_hitTestChildren:function dt(t,e,i){var n=this._getClipItem();return(!n||n.contains(t))&&dt.base.call(this,t,e,i,n)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,a=r.length;s<a;s++){var o=r[s];o!==n&&o.draw(t,e)}}}),b=w.extend({_class:"Layer",initialize:function(){w.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function pt(){return this._parent?pt.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),S=x.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&r.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new d(t.width,t.height,this,"setSize")},setSize:function(){var t=_.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;"rectangle"===e?this._radius.set(_.min(this._radius,t.divide(2))):"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius._set(i/2,n/2),this._size._set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new d(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;i=2*t,this._radius=t,this._size._set(i,i)}else if(t=_.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var i=_.max(this._size,t.multiply(2));this._size.set(i)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var i=new(R[r.capitalize(this._type)])({center:new c,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),paper.settings.applyMatrix&&i.setApplyMatrix(!0),
(t===e||t)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,n){var r=this._style,s=r.hasFill(),a=r.hasStroke(),o=e.dontFinish||e.clip,h=!n;if(s||a||o){var l=this._type,u=this._radius,c="circle"===l;if(e.dontStart||t.beginPath(),h&&c)t.arc(0,0,u,0,2*Math.PI,!0);else{var f=c?u:u.width,_=c?u:u.height,d=this._size,p=d.width,g=d.height;if(h&&"rectangle"===l&&0===f&&0===_)t.rect(-p/2,-g/2,p,g);else{var m=p/2,v=g/2,y=.44771525016920644,x=f*y,w=_*y,b=[-m,-v+_,-m,-v+w,-m+x,-v,-m+f,-v,m-f,-v,m-x,-v,m,-v+w,m,-v+_,m,v-_,m,v-w,m-x,v,m-f,v,-m+f,v,-m+x,v,-m,v-w,-m,v-_];n&&n.transform(b,b,32),t.moveTo(b[0],b[1]),t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]),m!==f&&t.lineTo(b[8],b[9]),t.bezierCurveTo(b[10],b[11],b[12],b[13],b[14],b[15]),v!==_&&t.lineTo(b[16],b[17]),t.bezierCurveTo(b[18],b[19],b[20],b[21],b[22],b[23]),m!==f&&t.lineTo(b[24],b[25]),t.bezierCurveTo(b[26],b[27],b[28],b[29],b[30],b[31])}}t.closePath()}o||!s&&!a||(this._setStyles(t,e,i),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new p(this._size).setCenter(0,0),n=this._style,r=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),r?i.expand(R._getStrokePadding(r,this._getStrokeMatrix(t,e))):i}},new function(){function t(t,e,i){var n=t._radius;if(!n.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var a=new c(s>1&&s<4?-1:1,s>2?-1:1),o=a.multiply(r),h=o.subtract(a.multiply(n));if(new p(i?o.add(a.multiply(i)):o,h).contains(e))return{point:h,quadrant:s}}}function e(t,e,i,n){var r=t.divide(e);return(!n||r.isInQuadrant(n))&&r.subtract(r.normalize()).multiply(e).divide(i).length<=1}return{_contains:function i(e){if("rectangle"===this._type){var n=t(this,e);return n?e.subtract(n.point).divide(this._radius).getLength()<=1:i.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,s,a){var o=!1,h=this._style,l=r.stroke&&h.hasStroke(),u=r.fill&&h.hasFill();if(l||u){var c=this._type,f=this._radius,_=l?h.getStrokeWidth()/2:0,d=r._tolerancePadding.add(R._getStrokePadding(_,!h.getStrokeScaling()&&a));if("rectangle"===c){var g=d.multiply(2),m=t(this,i,g);if(m)o=e(i.subtract(m.point),f,d,m.quadrant);else{var v=new p(this._size).setCenter(0,0),y=v.expand(g),x=v.expand(g.negate());o=y._containsPoint(i)&&!x._containsPoint(i)}}else o=e(i,f,d)}return o?new k(l?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,i,n,s){var a=new S(r.getNamed(s),e);return a._type=t,a._size=i,a._radius=n,a}return{Circle:function(){var e=c.readNamed(arguments,"center"),i=r.readNamed(arguments,"radius");return t("circle",e,new _(2*i),i,arguments)},Rectangle:function(){var e=p.readNamed(arguments,"rectangle"),i=_.min(_.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),i,arguments)},Ellipse:function(){var e=S._readEllipse(arguments),i=e.radius;return t("ellipse",e.center,i.multiply(2),i,arguments)},_readEllipse:function(t){var e,i;if(r.hasNamed(t,"radius"))e=c.readNamed(t,"center"),i=_.readNamed(t,"radius");else{var n=p.readNamed(t,"rectangle");e=n.getCenter(!0),i=n.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),T=x.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,i){if(!this._initialize(t,i!==e&&c.read(arguments,1))){var r="string"==typeof t?n.getElementById(t):t;r?this.setImage(r):this.setSource(t)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=tt.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new d(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=_.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(tt.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&tt.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new c(0,0).transform(t),i=new c(1,0).transform(t).subtract(e),n=new c(0,1).transform(t).subtract(e);return new _(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=i.getView(),n=t&&t.type||"load";e&&i.responds(n)&&(paper=e._scope,i.emit(n,new W(t)))}var i=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&X.add(t,{load:function(n){i._setImage(t),e(n)},error:e})},_setImage:function(t){this._canvas&&tt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new _(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=tt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){tt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(e){var i=new t.Image,n=this._crossOrigin;n&&(i.crossOrigin=n),i.src=e,this.setImage(i)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=p.read(arguments),e=tt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=p.read(arguments),e=new T(x.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=c.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof z?(i=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new p(t):"x"in t&&(e=new p(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=Math.min(e.width,32),s=Math.min(e.height,32),a=T._sampleContext;a?a.clearRect(0,0,33,33):a=T._sampleContext=tt.getContext(new _(32)),a.save();var o=(new m).scale(n/e.width,s/e.height).translate(-e.x,-e.y);o.applyToContext(a),i&&i.draw(a,new r({clip:!0,matrices:[o]})),this._matrix.applyToContext(a);var h=this.getElement(),l=this._size;h&&a.drawImage(h,-l.width/2,-l.height/2),a.restore();for(var u=a.getImageData(.5,.5,Math.ceil(n),Math.ceil(s)).data,c=[0,0,0],f=0,d=0,g=u.length;d<g;d+=4){var v=u[d+3];f+=v,v/=255,c[0]+=u[d]*v,c[1]+=u[d+1]*v,c[2]+=u[d+2]*v}for(d=0;d<3;d++)c[d]/=f;return f?B.read(c):null},getPixel:function(){var t=c.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new B("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=c.read(arguments),e=B.read(arguments),i=e._convert("rgb"),n=e._alpha,r=this.getContext(!0),s=r.createImageData(1,1),a=s.data;a[0]=255*i[0],a[1]=255*i[1],a[2]=255*i[2],a[3]=null!=n?255*n:255,r.putImageData(s,t.x,t.y)},createImageData:function(){var t=_.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=p.read(arguments);return t.isEmpty()&&(t=new p(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=c.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new p(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new k("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),C=x.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==e&&c.read(arguments,1))||this.setDefinition(t instanceof P?t:new P(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var n=this._definition._item._hitTest(t,e,i);return n&&(n.item=this),n},_draw:function(t,e){this._definition._item.draw(t,e)}}),P=r.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=u.get(),this.project=paper.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return r.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&x._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new c),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new C(this,t)},clone:function(){return new P(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),k=r.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&this.inject(i)},statics:{getOptions:function(t){var e=t&&r.read(t);return r.set({type:null,tolerance:paper.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),O=r.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,i,n,r,s,a){var o,h,l,u,c=arguments.length;c>0&&(null==t||"object"==typeof t?1===c&&t&&"point"in t?(o=t.point,h=t.handleIn,l=t.handleOut,u=t.selection):(o=t,h=i,l=n,u=r):(o=[t,i],h=n!==e?[n,r]:null,l=s!==e?[s,a]:null)),new A(o,this,"_point"),new A(h,this,"_handleIn"),new A(l,this,"_handleOut"),u&&this.setSelection(u)},_serialize:function(t,e){var i=this._point,n=this._selection,s=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&s.push(n),r.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i,n=e._curves,r=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(i=r>0?n[r-1]:e._closed?n[n.length-1]:null)||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(i=n[r])||i._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(c.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(c.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(c.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(129))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==e?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new I(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,i,n){var r=t||{},s=r.type,a=r.factor,o=this.getPrevious(),h=this.getNext(),l=(o||this)._point,u=this._point,f=(h||this)._point,_=l.getDistance(u),d=u.getDistance(f);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(o&&h){var p=l.subtract(f),g=a===e?.4:a,m=g*_/(_+d);i||this.setHandleIn(p.multiply(m)),n||this.setHandleOut(p.multiply(m-g))}}else{var v=a===e?.5:a,y=Math.pow(_,v),x=y*y,w=Math.pow(d,v),b=w*w;if(!i&&o){var S=2*b+3*w*y+x,T=3*w*(w+y);this.setHandleIn(0!==T?new c((b*l._x+S*u._x-x*f._x)/T-u._x,(b*l._y+S*u._y-x*f._y)/T-u._y):new c)}if(!n&&h){var S=2*x+3*y*w+b,T=3*y*(y+w);this.setHandleOut(0!==T?new c((x*f._x+S*u._x-b*l._x)/T-u._x,(x*f._y+S*u._y-b*l._y)/T-u._y):new c)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new O(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new O(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,r=i,s=t._point,a=e._point,o=t._handleIn,h=e._handleIn,l=e._handleOut,u=t._handleOut;this._point._set(n*s._x+r*a._x,n*s._y+r*a._y,!0),this._handleIn._set(n*o._x+r*h._x,n*o._y+r*h._y,!0),this._handleOut._set(n*u._x+r*l._x,n*u._y+r*l._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,r=i&&this._handleIn.isZero()?null:this._handleIn,s=i&&this._handleOut.isZero()?null:this._handleOut,a=n._x,o=n._y,h=2;return e[0]=a,e[1]=o,r&&(e[h++]=r._x+a,e[h++]=r._y+o),s&&(e[h++]=s._x+a,e[h++]=s._y+o),t&&(t._transformCoordinates(e,e,h/2),a=e[0],o=e[1],i?(n._x=a,n._y=o,h=2,r&&(r._x=e[h++]-a,r._y=e[h++]-o),s&&(s._x=e[h++]-a,s._y=e[h++]-o)):(r||(e[h++]=a,e[h++]=o),s||(e[h++]=a,e[h++]=o))),e}}),A=c.extend({initialize:function(t,i,n){var r,s,a;if(t)if((r=t[0])!==e)s=t[1];else{var o=t;(r=o.x)===e&&(r=(o=c.read(arguments)).x),s=o.y,a=o.selected}else r=s=0;this._x=r,this._y=s,this._owner=i,i[n]=this,a&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=l.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),M=r.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,n,r,s,a,o){var h,l,u,c,f,_,d=arguments.length;3===d?(this._path=t,h=e,l=i):d?1===d?"segment1"in t?(h=new O(t.segment1),l=new O(t.segment2)):"point1"in t?(u=t.point1,f=t.handle1,_=t.handle2,c=t.point2):Array.isArray(t)&&(u=[t[0],t[1]],c=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],_=[t[4]-t[6],t[5]-t[7]]):2===d?(h=new O(t),l=new O(e)):4===d?(u=t,f=e,_=i,c=n):8===d&&(u=[t,e],c=[a,o],f=[i-t,n-e],_=[r-a,s-o]):(h=new O,l=new O),this._segment1=h||new O(u,null,f),this._segment2=l||new O(c,_,null)},_serialize:function(t,e){return r.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=e},clone:function(){return new M(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return M.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(c.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(c.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(c.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(c.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return M.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new c(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=M.getLength(this.getValues(),0,1)),this._length},getArea:function(){return M.getArea(this.getValues())},getLine:function(){return new v(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new M(M.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return M.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=null;if(t>=1e-8&&t<=1-1e-8){var n=M.subdivide(this.getValues(),t),r=n[0],s=n[1],a=e||this.hasHandles(),o=this._segment1,h=this._segment2,l=this._path;a&&(o._handleOut._set(r[2]-r[0],r[3]-r[1]),h._handleIn._set(s[4]-s[6],s[5]-s[7]));var u=r[6],f=r[7],_=new O(new c(u,f),a&&new c(r[4]-u,r[5]-f),a&&new c(s[2]-u,s[3]-f));l?(l.insert(o._index+1,_),i=this.getNext()):(this._segment2=_,this._changed(),i=new M(_,h))}return i},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,i){return this.divideAtTime(t===e?.5:i?t:this.getTimeAt(t))},split:function(t,i){return this.splitAtTime(t===e?.5:i?t:this.getTimeAt(t))},reversed:function(){return new M(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var r=t._point,s=t._handleOut,a=e._handleIn,o=e._point,h=r.x,l=r.y,u=o.x,c=o.y,f=n?[h,l,h,l,u,c,u,c]:[h,l,h+s._x,l+s._y,u+a._x,c+a._y,u,c];return i&&i._transformCoordinates(f,f,4),f},subdivide:function(t,i){var n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],h=t[5],l=t[6],u=t[7];i===e&&(i=.5);var c=1-i,f=c*n+i*s,_=c*r+i*a,d=c*s+i*o,p=c*a+i*h,g=c*o+i*l,m=c*h+i*u,v=c*f+i*d,y=c*_+i*p,x=c*d+i*g,w=c*p+i*m,b=c*v+i*x,S=c*y+i*w;return[[n,r,f,_,v,y,b,S],[b,S,x,w,g,m,l,u]]},getMonoCurves:function(t,e){var i=[],n=e?0:1,r=t[n+0],s=t[n+2],a=t[n+4],o=t[n+6];if(r>=s==s>=a&&s>=a==a>=o||M.isStraight(t))i.push(t);else{var h=3*(s-a)-r+o,u=2*(r+a)-4*s,c=s-r,f=[],_=l.solveQuadratic(h,u,c,f,1e-8,1-1e-8);if(_){f.sort();var d=f[0],p=M.subdivide(t,d);i.push(p[0]),_>1&&(d=(f[1]-d)/(1-d),p=M.subdivide(p[1],d),i.push(p[0])),i.push(p[1])}else i.push(t)}return i},solveCubic:function(t,e,i,n,r,s){var a=t[e],o=t[e+2],h=t[e+4],u=t[e+6],c=0;if(!(a<i&&u<i&&o<i&&h<i||a>i&&u>i&&o>i&&h>i)){var f=3*(o-a),_=3*(h-o)-f,d=u-a-f-_;c=l.solveCubic(d,_,f,a-i,n,r,s)}return c},getTimeOf:function(t,e){var i=new c(t[0],t[1]),n=new c(t[6],t[7]);if(null===(e.isClose(i,1e-12)?0:e.isClose(n,1e-12)?1:null))for(var r=[e.x,e.y],s=[],a=0;a<2;a++)for(var o=M.solveCubic(t,a,r[a],s,0,1),h=0;h<o;h++){var l=s[h];if(e.isClose(M.getPoint(t,l),1e-7))return l}return e.isClose(i,1e-7)?0:e.isClose(n,1e-7)?1:null},getNearestTime:function(t,e){function i(i){if(i>=0&&i<=1){var n=e.getDistance(M.getPoint(t,i),!0);if(n<l)return l=n,u=i,!0}}if(M.isStraight(t)){var n=t[0],r=t[1],s=t[6]-n,a=t[7]-r,o=s*s+a*a;if(0===o)return 0;var h=((e.x-n)*s+(e.y-r)*a)/o;return h<1e-12?0:h>.999999999999?1:M.getTimeOf(t,new c(n+h*s,r+h*a))}for(var l=1/0,u=0,f=0;f<=100;f++)i(f/100);for(var _=.005;_>1e-8;)i(u-_)||i(u+_)||(_/=2);return u},getPart:function(t,e,i){var n=e>i;if(n){var r=e;e=i,i=r}return e>0&&(t=M.subdivide(t,e)[1]),i<1&&(t=M.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=t[6],l=t[7],u=3*r-2*i-h,c=3*s-2*n-l,f=3*a-2*h-i,_=3*o-2*l-n;return Math.max(u*u,f*f)+Math.max(c*c,_*_)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7];return 3*((h-i)*(n+s)-(o-e)*(r+a)+r*(e-s)-n*(i-a)+h*(s+e/3)-o*(a+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],r=0;r<2;r++)M._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,i,n);return new p(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,r,s,a,o,h){function u(t,e){var i=t-e,n=t+e;i<a[r]&&(a[r]=i),n>o[r]&&(o[r]=n)}s/=2;var c=a[r]-s,f=o[r]+s;if(t<c||e<c||i<c||n<c||t>f||e>f||i>f||n>f)if(e<t!=e<n&&i<t!=i<n)u(t,s),u(n,s);else{var _=3*(e-i)-t+n,d=2*(t+i)-4*e,p=e-t,g=l.solveQuadratic(_,d,p,h);u(n,0);for(var m=0;m<g;m++){var v=h[m],y=1-v;1e-8<=v&&v<=1-1e-8&&u(y*y*y*t+3*y*y*v*e+3*y*v*v*i+v*v*v*n,s)}}}}},r.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=R[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),r.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var r=n.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(i)){var s=new v(t,n);if(s.getDistance(t.add(e))<1e-7&&s.getDistance(n.add(i))<1e-7){var a=r.dot(r),o=r.dot(e)/a,h=r.dot(i)/a;return o>=0&&o<=1&&h<=0&&h>=-1}}return!1},isLinear:function(t,e,i,n){var r=n.subtract(t).divide(3);return e.equals(r)&&i.negate().equals(r)}},function(t,e){this[e]=function(e){var i=this._segment1,n=this._segment2;return t(i._point,i._handleOut,n._handleIn,n._point,e)},this.statics[e]=function(e,i){var n=e[0],r=e[1],s=e[6],a=e[7];return t(new c(n,r),new c(e[2]-n,e[3]-r),new c(e[4]-s,e[5]-a),new c(s,a),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new I(this,t):null},getTimeAt:function(t,e){return M.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(c.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return M.getTimeOf(this.getValues(),c.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=c.read(arguments),e=this.getValues(),i=M.getNearestTime(e,t),n=M.getPoint(e,i);return new I(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return r.each(t,function(t){this[t+"At"]=function(e,i){var n=this.getValues();return M[t](n,i?e:M.getTimeAt(n,e))},this[t+"AtTime"]=function(e){return M[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=9*(n-s)+3*(t[6]-e),h=6*(e+s)-12*n,l=3*(n-e),u=9*(r-a)+3*(t[7]-i),c=6*(i+a)-12*r,f=3*(r-i);return function(t){var e=(o*t+h)*t+l,i=(u*t+c)*t+f;return Math.sqrt(e*e+i*i)}}function i(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,i,n){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],a=t[2],o=t[3],h=t[4],u=t[5],f=t[6],_=t[7],d=l.isZero;d(a-r)&&d(o-s)&&(a=r,o=s),d(h-f)&&d(u-_)&&(h=f,u=_);var p,g,m=3*(a-r),v=3*(h-a)-m,y=f-r-m-v,x=3*(o-s),w=3*(u-o)-x,b=_-s-x-w;if(0===i)p=0===e?r:1===e?f:((y*e+v)*e+m)*e+r,g=0===e?s:1===e?_:((b*e+w)*e+x)*e+s;else{if(e<1e-8?(p=m,g=x):e>1-1e-8?(p=3*(f-h),g=3*(_-u)):(p=(3*y*e+2*v)*e+m,g=(3*b*e+2*w)*e+x),n){0===p&&0===g&&(e<1e-8||e>1-1e-8)&&(p=h-a,g=u-o);var S=Math.sqrt(p*p+g*g);S&&(p/=S,g/=S)}if(3===i){var h=6*y*e+2*v,u=6*b*e+2*w,T=Math.pow(p*p+g*g,1.5);p=0!==T?(p*u-g*h)/T:0,g=0}}return 2===i?new c(g,(-p)):new c(p,g)}return{statics:{classify:function(t){function i(t,i,n){var r=i!==e,s=r&&i>0&&i<1,a=r&&n>0&&n<1;return!r||(s||a)&&("loop"!==t||s&&a)||(t="arch",s=a=!1),{type:t,roots:s||a?s&&a?i<n?[i,n]:[n,i]:[s?i:n]:null}}var n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],h=t[5],u=t[6],c=t[7],f=s*(r-c)+a*(u-n)+n*c-r*u,_=3*(o*(a-r)+h*(n-s)+s*r-a*n),d=_-f,p=d-f+(n*(c-h)+r*(o-u)+u*h-c*o),g=Math.sqrt(p*p+d*d+_*_),m=0!==g?1/g:0,v=l.isZero;if(p*=m,d*=m,_*=m,v(p))return v(d)?i(v(_)?"line":"quadratic"):i("serpentine",_/(3*d));var y=3*d*d-4*p*_;if(v(y))return i("cusp",d/(2*p));var x=y>0?Math.sqrt(y/3):Math.sqrt(-y),w=2*p;return i(y>0?"serpentine":"loop",(d+x)/w,(d-x)/w)},getLength:function(n,r,s,a){if(r===e&&(r=0),s===e&&(s=1),M.isStraight(n)){var o=n;s<1&&(o=M.subdivide(o,s)[0],r/=s),r>0&&(o=M.subdivide(o,r)[1]);var h=o[6]-o[0],u=o[7]-o[1];return Math.sqrt(h*h+u*u)}return l.integrate(a||t(n),r,s,i(r,s))},getTimeAt:function(n,r,s){if(s===e&&(s=r<0?1:0),0===r)return s;var a=Math.abs,o=r>0,h=o?s:0,u=o?1:s,c=t(n),f=M.getLength(n,h,u,c),_=a(r)-f;if(a(_)<1e-12)return o?u:h;if(_>1e-12)return null;var d=r/f,p=0;return l.findRoot(function(t){return p+=l.integrate(c,s,t,i(s,t)),s=t,p-r},c,s+d,h,u,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=3*n-e-3*s+t[6],h=3*e-6*n+3*s,u=-3*e+3*n,c=3*r-i-3*a+t[7],f=3*i-6*r+3*a,_=-3*i+3*r,d=[];return l.solveCubic(9*(o*o+c*c),9*(o*h+f*c),2*(h*h+f*f)+3*(u*o+_*c),u*h+f*_,d,1e-8,1-1e-8),d.sort()}}}},new function(){function t(t,e,i,n,r,s,a){var o=!a&&i.getPrevious()===r,h=!a&&i!==r&&i.getNext()===r;if(null!==n&&n>=(o?1e-8:0)&&n<=(h?1-1e-8:1)&&null!==s&&s>=(h?1e-8:0)&&s<=(o?1-1e-8:1)){var l=new I(i,n,null,a),u=new I(r,s,null,a);l._intersection=u,u._intersection=l,e&&!e(l)||I.insert(t,l,!0)}}function e(r,s,a,o,h,l,u,c,f,_,d,p,g){if(++f>=4096||++c>=40)return f;var m,y,x=s[0],w=s[1],b=s[6],S=s[7],T=v.getSignedDistance,C=T(x,w,b,S,s[2],s[3]),P=T(x,w,b,S,s[4],s[5]),k=C*P>0?.75:4/9,O=k*Math.min(0,C,P),A=k*Math.max(0,C,P),I=T(x,w,b,S,r[0],r[1]),z=T(x,w,b,S,r[2],r[3]),R=T(x,w,b,S,r[4],r[5]),L=T(x,w,b,S,r[6],r[7]),N=i(I,z,R,L),D=N[0],E=N[1];if(0===C&&0===P&&0===I&&0===z&&0===R&&0===L||null==(m=n(D,E,O,A))||null==(y=n(D.reverse(),E.reverse(),O,A)))return f;var F=_+(d-_)*m,B=_+(d-_)*y;if(Math.max(g-p,B-F)<1e-9){var j=(F+B)/2,q=(p+g)/2;t(h,l,u?o:a,u?q:j,u?a:o,u?j:q)}else if(r=M.getPart(r,m,y),y-m>.8)if(B-F>g-p)j=(F+B)/2,f=e(s,(V=M.subdivide(r,.5))[0],o,a,h,l,!u,c,f,p,g,F,j),f=e(s,V[1],o,a,h,l,!u,c,f,p,g,j,B);else{var V=M.subdivide(s,.5),q=(p+g)/2;f=e(V[0],r,o,a,h,l,!u,c,f,p,q,F,B),f=e(V[1],r,o,a,h,l,!u,c,f,q,g,F,B)}else f=g-p>=1e-9?e(s,r,o,a,h,l,!u,c,f,p,g,F,B):e(r,s,a,o,h,l,u,c,f,F,B,p,g);return f}function i(t,e,i,n){var r,s=[0,t],a=[1/3,e],o=[2/3,i],h=[1,n],l=e-(2*t+n)/3,u=i-(t+2*n)/3;if(l*u<0)r=[[s,a,h],[s,o,h]];else{var c=l/u;r=[c>=2?[s,a,h]:c<=.5?[s,o,h]:[s,a,o,h],[s,h]]}return(l||u)<0?r.reverse():r}function n(t,e,i,n){return t[0][1]<i?r(t,!0,i):e[0][1]>n?r(e,!1,n):t[0][0]}function r(t,e,i){for(var n=t[0][0],r=t[0][1],s=1,a=t.length;s<a;s++){var o=t[s][0],h=t[s][1];if(e?h>=i:h<=i)return h===i?o:n+(i-r)*(o-n)/(h-r);n=o,r=h}return null}function s(t,e,i,n,r){var s=l.isZero;if(s(n)&&s(r)){var a=M.getTimeOf(t,new c(e,i));return null===a?[]:[a]}for(var o=Math.atan2(-r,n),h=Math.sin(o),u=Math.cos(o),f=[],_=[],d=0;d<8;d+=2){var p=t[d]-e,g=t[d+1]-i;f.push(p*u-g*h,p*h+g*u)}return M.solveCubic(f,1,0,_,0,1),_}function a(e,i,n,r,a,o,h){for(var l=i[0],u=i[1],c=s(e,l,u,i[6]-l,i[7]-u),f=0,_=c.length;f<_;f++){var d=c[f],p=M.getPoint(e,d),g=M.getTimeOf(i,p);null!==g&&t(a,o,h?r:n,h?g:d,h?n:r,h?d:g)}}function o(e,i,n,r,s,a){var o=v.intersect(e[0],e[1],e[6],e[7],i[0],i[1],i[6],i[7]);o&&t(s,a,n,M.getTimeOf(e,o),r,M.getTimeOf(i,o))}function h(i,n,r,s,h,l){var u=Math.min,_=Math.max;if(_(i[0],i[2],i[4],i[6])+1e-12>u(n[0],n[2],n[4],n[6])&&u(i[0],i[2],i[4],i[6])-1e-12<_(n[0],n[2],n[4],n[6])&&_(i[1],i[3],i[5],i[7])+1e-12>u(n[1],n[3],n[5],n[7])&&u(i[1],i[3],i[5],i[7])-1e-12<_(n[1],n[3],n[5],n[7])){var d=f(i,n);if(d)for(w=0;w<2;w++){var p=d[w];t(h,l,r,p[0],s,p[1],!0)}else{var g=M.isStraight(i),m=M.isStraight(n),v=g&&m,y=g&&!m,x=h.length;if((v?o:g||m?a:e)(y?n:i,y?i:n,y?s:r,y?r:s,h,l,y,0,0,0,1,0,1),!v||h.length===x)for(var w=0;w<4;w++){var b=w>>1,S=1&w,T=6*b,C=6*S,P=new c(i[T],i[T+1]),k=new c(n[C],n[C+1]);P.isClose(k,1e-12)&&t(h,l,r,b,s,S)}}}return h}function u(e,i,n,r){var s=M.classify(e);if("loop"===s.type){var a=s.roots;t(n,r,i,a[0],i,a[1]);
}return n}function f(t,e){function i(t){var e=t[6]-t[0],i=t[7]-t[1];return e*e+i*i}var n=Math.abs,r=v.getDistance,s=M.isStraight(t),a=M.isStraight(e),o=s&&a,h=i(t)<i(e),l=h?e:t,u=h?t:e,f=l[0],_=l[1],d=l[6]-f,p=l[7]-_;if(r(f,_,d,p,u[0],u[1],!0)<1e-7&&r(f,_,d,p,u[6],u[7],!0)<1e-7)!o&&r(f,_,d,p,l[2],l[3],!0)<1e-7&&r(f,_,d,p,l[4],l[5],!0)<1e-7&&r(f,_,d,p,u[2],u[3],!0)<1e-7&&r(f,_,d,p,u[4],u[5],!0)<1e-7&&(s=a=o=!0);else if(o)return null;if(s^a)return null;for(var g=[t,e],m=[],y=0;y<4&&m.length<2;y++){var x=1&y,w=1^x,b=y>>1,S=M.getTimeOf(g[x],new c(g[w][b?6:0],g[w][b?7:1]));if(null!=S){var T=x?[b,S]:[S,b];(!m.length||n(T[0]-m[0][0])>1e-8&&n(T[1]-m[0][1])>1e-8)&&m.push(T)}if(y>2&&!m.length)break}if(2!==m.length)m=null;else if(!o){var C=M.getPart(t,m[0][0],m[1][0]),P=M.getPart(e,m[0][1],m[1][1]);(n(P[2]-C[2])>1e-7||n(P[3]-C[3])>1e-7||n(P[4]-C[4])>1e-7||n(P[5]-C[5])>1e-7)&&(m=null)}return m}return{getIntersections:function(t){var e=this.getValues(),i=t&&t!==this&&t.getValues();return i?h(e,i,this,t,[]):u(e,this,[])},statics:{getOverlaps:f,getIntersections:function(t,e,i,n,r,s){var a=!e;a&&(e=t);for(var o,l,c=t.length,f=e.length,_=[],d=[],p=0;p<f;p++)_[p]=e[p].getValues(r);for(p=0;p<c;p++){var g=t[p],m=a?_[p]:g.getValues(n),v=g.getPath();v!==l&&(l=v,o=[],d.push(o)),a&&u(m,g,o,i);for(var y=a?p+1:0;y<f;y++){if(s&&o.length)return o;h(m,_[y],g,e[y],o,i)}}o=[];for(var p=0,x=d.length;p<x;p++)o.push.apply(o,d[p]);return o},getCurveLineIntersections:s}}}),I=r.extend({_class:"CurveLocation",initialize:function(t,e,i,n,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();0===i?t=e._segment1:1===i?t=e._segment2:null!=i&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(i._time=e.getTimeOf(i._point)))return i._setCurve(e),e}var e=this._path,i=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),r=0;r<i;r++)t+=n[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=null!=i&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof I){var n=this.getCurve(),r=t.getCurve(),s=n._path;if(s===r._path){var a=Math.abs,o=a(this.getOffset()-t.getOffset()),h=!e&&this._intersection,l=!e&&t._intersection;i=(o<1e-7||s&&a(s.getLength()-o)<1e-7)&&(!h&&!l||h&&l&&h.equals(l,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=h.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var r=this.getTime();return null!=r&&t.push("time: "+i.number(r)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){function t(t,e){var i=t.getValues(),n=M.classify(i).roots||M.getPeaks(i),r=n.length,s=e&&r>1?n[r-1]:r>0?n[0]:.5;c.push(M.getLength(i,e?s:0,e?1:s)/2)}function e(t,e,i){return e<i?t>e&&t<i:t>e||t<i}var i=this._intersection;if(!i)return!1;var n=this.getTime(),r=i.getTime(),s=n>=1e-8&&n<=1-1e-8,a=r>=1e-8&&r<=1-1e-8;if(s&&a)return!this.isTouching();var o=this.getCurve(),h=n<1e-8?o.getPrevious():o,l=i.getCurve(),u=r<1e-8?l.getPrevious():l;if(n>1-1e-8&&(o=o.getNext()),r>1-1e-8&&(l=l.getNext()),!(h&&o&&u&&l))return!1;var c=[];s||(t(h,!0),t(o,!1)),a||(t(u,!0),t(l,!1));var f=this.getPoint(),_=Math.min.apply(Math,c),d=s?o.getTangentAtTime(n):o.getPointAt(_).subtract(f),p=s?d.negate():h.getPointAt(-_).subtract(f),g=a?l.getTangentAtTime(r):l.getPointAt(_).subtract(f),m=a?g.negate():u.getPointAt(-_).subtract(f),v=p.getAngle(),y=d.getAngle(),x=m.getAngle(),w=g.getAngle();return!!(s?e(v,x,w)^e(y,x,w)&&e(v,w,x)^e(y,w,x):e(x,v,y)^e(w,v,y)&&e(x,y,v)^e(w,y,v))},hasOverlap:function(){return!!this._overlap}},r.each(M._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),i=this.getTime();return null!=i&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function t(t,e,i){function n(i,n){for(var s=i+n;s>=-1&&s<=r;s+=n){var a=t[(s%r+r)%r];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var r=t.length,s=0,a=r-1;s<=a;){var o,h=s+a>>>1,l=t[h];if(i&&(o=e.equals(l)?l:n(h,-1)||n(h,1)))return e._overlap&&(o._overlap=o._intersection._overlap=!0),o;var u=e.getPath(),c=l.getPath();(u!==c?u._id-c._id:e.getIndex()+e.getTime()-(l.getIndex()+l.getTime()))<0?a=h-1:s=h+1}return t.splice(s,0,e),e}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),n=e.length-1;n>=0;n--)t(i,e[n]._intersection,!1);return i}}}}),z=x.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;if(r.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:"string"==typeof t&&(e=t),i){var s=i[0];n=s&&Array.isArray(s[0])}else e&&(n=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(n?L:R)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var i=+n[t];return o&&(i+=h[e]),i}function i(t){return new c(e(t,"x"),e(t+1,"y"))}var n,r,s,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,h=new c,l=new c;this.clear();for(var u=0,f=a&&a.length;u<f;u++){var d=a[u],p=d[0],g=p.toLowerCase(),m=(n=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&n.length;switch(o=p===g,"z"!==r||/[mz]/.test(g)||this.moveTo(h),g){case"m":case"l":for(var v="m"===g,y=0;y<m;y+=2)this[v?"moveTo":"lineTo"](h=i(y)),v&&(l=h,v=!1);s=h;break;case"h":case"v":var x="h"===g?"x":"y";for(h=h.clone(),y=0;y<m;y++)h[x]=e(y,x),this.lineTo(h);s=h;break;case"c":for(y=0;y<m;y+=6)this.cubicCurveTo(i(y),s=i(y+2),h=i(y+4));break;case"s":for(y=0;y<m;y+=4)this.cubicCurveTo(/[cs]/.test(r)?h.multiply(2).subtract(s):h,s=i(y),h=i(y+2)),r=g;break;case"q":for(y=0;y<m;y+=4)this.quadraticCurveTo(s=i(y),h=i(y+2));break;case"t":for(y=0;y<m;y+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?h.multiply(2).subtract(s):h,h=i(y)),r=g;break;case"a":for(y=0;y<m;y+=7)this.arcTo(h=i(y+5),new _((+n[y]),(+n[y+1])),+n[y+2],+n[y+4],+n[y+3]);break;case"z":this.closePath(1e-12),h=l}r=g}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,i,n){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),a=r?s:(i||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(t.getBounds(a),1e-12)?M.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,a,n):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=c.read(arguments),e=this.getCurves(),i=1/0,n=null,r=0,s=e.length;r<s;r++){var a=e[r].getNearestLocation(t);a._distance<i&&(i=a._distance,n=a)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,i){var n=!this._children,r=n?"_segments":"_children",s=t[r],a=e[r],o=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var h=o.length,l=a.length;if(h<l)for(var u=n?O:R,c=h;c<l;c++)this.add(new u);else h>l&&this[n?"removeSegments":"removeChildren"](l,h);for(c=0;c<l;c++)o[c].interpolate(s[c],a[c],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],n=t._children?t._children.slice():[t],r=i.length,s=n.length,a=[],o=0;e=!0;for(var h=r-1;h>=0&&e;h--){var l=i[h];e=!1;for(var u=s-1;u>=0&&!e;u--)l.compare(n[u])&&(a[u]||(a[u]=!0,o++),e=!0)}e=e&&o===s}return e}}),R=z.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var i=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==e||t.x===e&&t.point===e?null:arguments;i&&i.length>0?this.setSegments(i):(this._curves=e,this._segmentSelection=0,i||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!i&&t)},_equals:function(t){return this._closed===t._closed&&r.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function gt(t){if(gt.base.call(this,t),8&t){if(this._length=this._area=e,16&t)this._version++;else if(this._curves)for(var i=0,n=this._curves.length;i<n;i++)this._curves[i]._changed()}else 32&t&&(this._bounds=e)},getStyle:function(){var t=this._parent;return(t instanceof L?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var i=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=e,n){var r=t[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(O.readList(t,0,{},n))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new M(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new M(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function i(e,i){if(e._transformCoordinates(t,p),n=p[0],r=p[1],g)m.push("M"+d.pair(n,r)),g=!1;else if(o=p[2],l=p[3],o===n&&l===r&&u===s&&c===a){if(!i){var h=n-s,f=r-a;m.push(0===h?"v"+d.number(f):0===f?"h"+d.number(h):"l"+d.pair(h,f))}}else m.push("c"+d.pair(u-s,c-a)+" "+d.pair(o-s,l-a)+" "+d.pair(n-s,r-a));s=n,a=r,u=p[4],c=p[5]}var n,r,s,a,o,l,u,c,f=this._segments,_=f.length,d=new h(e),p=new Array(6),g=!0,m=[];if(!_)return"";for(var v=0;v<_;v++)i(f[v]);return this._closed&&_>0&&(i(f[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,r=e.length;n<r;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,r=t.length,s=null==e,e=s?i.length:e,a=0;a<r;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(s)i.push.apply(i,t);else{i.splice.apply(i,[e,0].concat(t));for(var a=e+r,h=i.length;a<h;a++)i[a]._index=a}if(n){var l=this._countCurves(),u=e>0&&e+r-1===l?e-1:e,c=u,f=Math.min(u+r,l);for(t._curves&&(n.splice.apply(n,[u,0].concat(t._curves)),c+=t._curves.length),a=c;a<f;a++)n.splice(a,0,new M(this,null,null));this._adjustCurves(u,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var i,n=this._segments,r=this._curves,s=t;s<e;s++)(i=r[s])._path=this,i._segment1=n[s],i._segment2=n[s+1]||n[0],i._changed();(i=r[this._closed&&!t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=r[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(O.readList(arguments)):this._add([O.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(O.readList(arguments,1),t):this._add([O.read(arguments,1)],t)[0]},addSegment:function(){return this._add([O.read(arguments)])[0]},insertSegment:function(t){return this._add([O.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(O.readList(t))},insertSegments:function(t,e){return this._add(O.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=r.pick(e,this._segments.length);var n=this._segments,s=this._curves,a=n.length,o=n.splice(t,e-t),h=o.length;if(!h)return o;for(u=0;u<h;u++){var l=o[u];l._selection&&this._updateSelection(l,l._selection,0),l._index=l._path=null}for(var u=t,c=n.length;u<c;u++)n[u]._index=u;if(s){for(var f=t>0&&e===a+(this._closed?1:0)?t-1:t,u=(s=s.splice(f,h)).length-1;u>=0;u--)s[u]._path=null;i&&(o._curves=s.slice(1)),this._adjustCurves(f,f)}return this._changed(25),o},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,i=this._closed;t=0;for(var n=0,r=e.length;n<r;n++){var s=n+1===r;t+=M.getArea(M.getValues(e[n],e[s?0:n+1],null,s&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function mt(t){1&t||this._selectSegments(!1),mt.base.call(this,t)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var r=0;r<i;r++)e[r]._selection=n},_updateSelection:function(t,e,i){t._selection=i,(this._segmentSelection+=i-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,i=this.getLocationAt(t);return i&&(e=i.getCurve().divideAt(i.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,n=e&&e.time;n>1-1e-8&&(i++,n=0);var r=this.getCurves();if(i>=0&&i<r.length){n>=1e-8&&r[i++].divideAtTime(n);var s,a=this.removeSegments(i,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):((s=new R(x.NO_INSERT)).insertAbove(this),s.copyAttributes(this)),s._add(a,0),this.addSegment(a[0]),s}return null},split:function(t,i){var n,r=i===e?t:(n=this.getCurves()[t])&&n.getLocationAtTime(i);return null!=r?this.splitAt(r):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,i)&&t.reverse();var a=t.getFirstSegment();if(r&&r._point.isClose(a._point,i))r.setHandleOut(a._handleOut),this._add(n.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(a._point,i)&&t.reverse(),s=t.getLastSegment(),o&&o._point.isClose(s._point,i)?(o.setHandleIn(s._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var h=this.getFirstSegment(),l=this.getLastSegment();return h!==l&&h._point.isClose(l._point,i)&&(h.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(n)||i&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new N(this,t||.25,256,(!0)).parts,i=e.length,n=[],r=0;r<i;r++)n.push(new O(e[r].curve.slice(0,2)));!this._closed&&i>0&&n.push(new O(e[i-1].curve.slice(6))),this.setSegments(n)},simplify:function(t){var e=new D(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function i(t,e){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==n)throw new Error(t._class+" "+i+" of "+r+" is not part of "+n);e&&t instanceof M&&i++}else i="number"==typeof t?t:e;return Math.min(i<0&&h?i%o:i<0?i+o:i,o-1)}var n=this,r=t||{},s=r.type||"asymmetric",a=this._segments,o=a.length,h=this._closed,l=h&&r.from===e&&r.to===e,u=i(r.from,0),c=i(r.to,o-1);if(u>c)if(h)u-=o;else{var f=u;u=c,c=f}if(/^(?:asymmetric|continuous)$/.test(s)){var _="asymmetric"===s,d=Math.min,p=c-u+1,g=p-1,m=l?d(p,4):1,v=m,y=m,x=[];if(h||(v=d(1,u),y=d(1,o-c-1)),(g+=v+y)<=1)return;for(var w=0,b=u-v;w<=g;w++,b++)x[w]=a[(b<0?b+o:b)%o]._point;for(var S=x[0]._x+2*x[1]._x,T=x[0]._y+2*x[1]._y,C=2,P=g-1,k=[S],O=[T],A=[C],I=[],z=[],w=1;w<g;w++){var R=w<P,L=R?1:_?1:2,N=R?4:_?2:7,D=R?4:_?3:8,E=R?2:_?0:1,F=L/C;C=A[w]=N-F,S=k[w]=D*x[w]._x+E*x[w+1]._x-F*S,T=O[w]=D*x[w]._y+E*x[w+1]._y-F*T}for(I[P]=k[P]/A[P],z[P]=O[P]/A[P],w=g-2;w>=0;w--)I[w]=(k[w]-I[w+1])/A[w],z[w]=(O[w]-z[w+1])/A[w];I[g]=(3*x[g]._x-I[P])/2,z[g]=(3*x[g]._y-z[P])/2;for(var w=v,B=g-y,b=u;w<=B;w++,b++){var j=a[b<0?b+o:b],q=j._point,V=I[w]-q._x,U=z[w]-q._y;(l||w<B)&&j.setHandleOut(V,U),(l||w>v)&&j.setHandleIn(-V,-U)}}else for(w=u;w<=c;w++)a[w<0?w+o:w].smooth(r,!l&&w===u,!l&&w===c)},toShape:function(t){function i(t,e){var i=u[t],n=i.getNext(),r=u[e],s=r.getNext();return i._handleOut.isZero()&&n._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&n._point.subtract(i._point).isCollinear(s._point.subtract(r._point))}function n(t){var e=u[t],i=e.getNext(),n=e._handleOut,r=i._handleIn;if(n.isOrthogonal(r)){var s=e._point,a=i._point,o=new v(s,n,(!0)).intersect(new v(a,r,(!0)),!0);return o&&l.isZero(n.getLength()/o.subtract(s).getLength()-.5522847498307936)&&l.isZero(r.getLength()/o.subtract(a).getLength()-.5522847498307936)}return!1}function r(t,e){return u[t]._point.getDistance(u[e]._point)}if(!this._closed)return null;var s,a,o,h,u=this._segments;if(!this.hasHandles()&&4===u.length&&i(0,2)&&i(1,3)&&function(t){var e=u[t],i=e.getPrevious(),n=e.getNext();return i._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&n._handleIn.isZero()&&e._point.subtract(i._point).isOrthogonal(n._point.subtract(e._point))}(1)?(s=S.Rectangle,a=new _(r(0,3),r(0,1)),h=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&n(0)&&n(2)&&n(4)&&n(6)&&i(1,5)&&i(3,7)?(s=S.Rectangle,o=(a=new _(r(1,6),r(0,3))).subtract(new _(r(0,7),r(1,2))).divide(2),h=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&n(0)&&n(1)&&n(2)&&n(3)&&(l.isZero(r(0,2)-r(1,3))?(s=S.Circle,o=r(0,2)/2):(s=S.Ellipse,o=new _(r(2,0)/2,r(3,1)/2)),h=u[1]._point),s){var c=this.getPosition(!0),f=new s({center:c,size:a,radius:o,insert:!1});return f.copyAttributes(this,!0),f._matrix.prepend(this._matrix),f.rotate(h.subtract(c).getAngle()+90),(t===e||t)&&f.insertAbove(this),f}return null},toPath:"#clone",compare:function vt(t){if(!t||t instanceof L)return vt.base.call(this,t);var e=this.getCurves(),i=t.getCurves(),n=e.length,r=i.length;if(!n||!r)return n==r;for(var s,a,o=e[0].getValues(),h=[],l=0,u=0,c=0;c<r;c++)if(d=i[c].getValues(),h.push(d),p=M.getOverlaps(o,d)){s=!c&&p[0][0]>0?r-1:c,a=p[0][1];break}for(var f,_=Math.abs,d=h[s];o&&d;){var p=M.getOverlaps(o,d);if(p&&_(p[0][0]-u)<1e-8){1===(u=p[1][0])&&(o=++l<n?e[l].getValues():null,u=0);var g=p[0][1];if(_(g-a)<1e-8){if(f||(f=[s,g]),1===(a=p[1][1])&&(++s>=r&&(s=0),d=h[s]||i[s].getValues(),a=0),!o)return f[0]===s&&f[1]===a;continue}}break}return!1},_hitTestSelf:function(t,e,i,n){function r(e,i){return t.subtract(e).divide(i).length<=1}function s(t,i,n){if(!e.selected||i.isSelected()){var s=t._point;if(i!==s&&(i=i.add(s)),r(i,w))return new k(n,p,{segment:t,point:i})}}function a(t,i){return(i||e.segments)&&s(t,t._point,"segment")||!i&&e.handles&&(s(t,t._handleIn,"handle-in")||s(t,t._handleOut,"handle-out"))}function o(t){f.add(t)}function h(e){var i=y||e._index>0&&e._index<v-1;if("round"===(i?l:u))return r(e._point,w);if(f=new R({internal:!0,closed:!0}),i?e.isSmooth()||R._addBevelJoin(e,l,C,c,null,n,o,!0):"square"===u&&R._addSquareCap(e,u,C,null,n,o,!0),!f.isEmpty()){var s;return f.contains(t)||(s=f.getNearestLocation(t))&&r(s.getPoint(),x)}}var l,u,c,f,_,d,p=this,g=this.getStyle(),m=this._segments,v=m.length,y=this._closed,x=e._tolerancePadding,w=x,b=e.stroke&&g.hasStroke(),S=e.fill&&g.hasFill(),T=e.curves,C=b?g.getStrokeWidth()/2:S&&e.tolerance>0||T?0:null;if(null!==C&&(C>0?(l=g.getStrokeJoin(),u=g.getStrokeCap(),c=g.getMiterLimit(),w=w.add(R._getStrokePadding(C,n))):l=u="round"),!e.ends||e.segments||y){if(e.segments||e.handles)for(O=0;O<v;O++)if(d=a(m[O]))return d}else if(d=a(m[0],!0)||a(m[v-1],!0))return d;if(null!==C){if(_=this.getNearestLocation(t)){var P=_.getTime();0===P||1===P&&v>1?h(_.getSegment())||(_=null):r(_.getPoint(),w)||(_=null)}if(!_&&"miter"===l&&v>1)for(var O=0;O<v;O++){var A=m[O];if(t.getDistance(A._point)<=c*C&&h(A)){_=A.getLocation();break}}}return!_&&S&&this._contains(t)||_&&!b&&!T?new k("fill",this):_?new k(b?"stroke":"curve",this,{location:_,point:_.getPoint()}):null}},r.each(M._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=c.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var r=e[i].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),i=0,n=0,r=e.length;n<r;n++){var s=i,a=e[n];if((i+=a.getLength())>t)return a.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new I(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,i,n){function r(e){var i=h[e],n=h[e+1];s==i&&a==n||(t.beginPath(),t.moveTo(s,a),t.lineTo(i,n),t.stroke(),t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!0),t.fill())}for(var s,a,o=n/2,h=new Array(6),l=0,u=e.length;l<u;l++){var c=e[l],f=c._selection;if(c._transformCoordinates(i,h),s=h[0],a=h[1],2&f&&r(2),4&f&&r(4),t.fillRect(s-o,a-o,n,n),!(1&f)){var _=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(s-o+1,a-o+1,n-2,n-2),t.fillStyle=_}}}function e(t,e,i){function n(e){if(i)e._transformCoordinates(i,d),r=d[0],s=d[1];else{var n=e._point;r=n._x,s=n._y}if(p?(t.moveTo(r,s),p=!1):(i?(h=d[2],l=d[3]):(f=e._handleIn,h=r+f._x,l=s+f._y),h===r&&l===s&&u===a&&c===o?t.lineTo(r,s):t.bezierCurveTo(u,c,h,l,r,s)),a=r,o=s,i)u=d[4],c=d[5];else{var f=e._handleOut;u=a+f._x,c=o+f._y}}for(var r,s,a,o,h,l,u,c,f=e._segments,_=f.length,d=new Array(6),p=!0,g=0;g<_;g++)n(f[g]);e._closed&&_>0&&n(f[0])}return{_draw:function(t,i,n,r){function s(t){return c[(t%f+f)%f]}var a=i.dontStart,o=i.dontFinish||i.clip,h=this.getStyle(),l=h.hasFill(),u=h.hasStroke(),c=h.getDashArray(),f=!paper.support.nativeDash&&u&&c&&c.length;if(a||t.beginPath(),(l||u&&!f||o)&&(e(t,this,r),this._closed&&t.closePath()),!o&&(l||u)&&(this._setStyles(t,i,n),l&&(t.fill(h.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(f){a||t.beginPath();var _,d=new N(this,.25,32,(!1),r),p=d.length,g=-h.getDashOffset(),m=0;for(g%=p;g>0;)g-=s(m--)+s(m--);for(;g<p;)_=g+s(m++),(g>0||_>0)&&d.drawPart(t,Math.max(g,0),Math.max(_,0)),g=_+s(m++)}t.stroke()}},_drawSelected:function(i,n){i.beginPath(),e(i,this,n),i.stroke(),t(i,this._segments,n,paper.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new O(c.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new O(c.read(arguments))])},cubicCurveTo:function(){var e=c.read(arguments),i=c.read(arguments),n=c.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new O(n,i.subtract(n))])},quadraticCurveTo:function(){var e=c.read(arguments),i=c.read(arguments),n=t(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var e=c.read(arguments),i=c.read(arguments),n=r.pick(r.read(arguments),.5),s=1-n,a=t(this)._point,o=e.subtract(a.multiply(s*s)).subtract(i.multiply(n*n)).divide(2*n*s);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(o,i)},arcTo:function(){var e,i,n,s,a=Math.abs,o=Math.sqrt,h=t(this),u=h._point,f=c.read(arguments),d=r.peek(arguments);if("boolean"==typeof(w=r.pick(d,!0)))var p=(S=u.add(f).divide(2)).add(S.subtract(u).rotate(w?-90:90));else if(r.remain(arguments)<=2)p=f,f=c.read(arguments);else{var g=_.read(arguments),y=l.isZero;if(y(g.width)||y(g.height))return this.lineTo(f);var x=r.read(arguments),w=!!r.read(arguments),b=!!r.read(arguments),S=u.add(f).divide(2),T=(Z=u.subtract(S).rotate(-x)).x,C=Z.y,P=a(g.width),k=a(g.height),A=P*P,M=k*k,I=T*T,z=C*C,R=o(I/A+z/M);if(R>1&&(A=(P*=R)*P,M=(k*=R)*k),R=(A*M-A*z-M*I)/(A*z+M*I),a(R)<1e-12&&(R=0),R<0)throw new Error("Cannot create an arc with the given arguments");e=new c(P*C/k,-k*T/P).multiply((b===w?-1:1)*o(R)).rotate(x).add(S),i=(n=(s=(new m).translate(e).rotate(x).scale(P,k))._inverseTransform(u)).getDirectedAngle(s._inverseTransform(f)),!w&&i>0?i-=360:w&&i<0&&(i+=360)}if(p){var L=new v(u.add(p).divide(2),p.subtract(u).rotate(90),(!0)),N=new v(p.add(f).divide(2),f.subtract(p).rotate(90),(!0)),D=new v(u,f),E=D.getSide(p);if(!(e=L.intersect(N,!0))){if(!E)return this.lineTo(f);throw new Error("Cannot create an arc with the given arguments")}i=(n=u.subtract(e)).getDirectedAngle(f.subtract(e));var F=D.getSide(e);0===F?i=E*a(i):E===F&&(i+=i<0?360:-360)}for(var B=a(i),j=B>=360?4:Math.ceil((B-1e-7)/90),q=i/j,V=q*Math.PI/360,U=4/3*Math.sin(V)/(1+Math.cos(V)),X=[],H=0;H<=j;H++){var Z=f,W=null;if(H<j&&(W=n.rotate(90).multiply(U),s?(Z=s._transformPoint(n),W=s._transformPoint(n.add(W)).subtract(Z)):Z=e.add(n)),H){var Y=n.rotate(-90).multiply(U);s&&(Y=s._transformPoint(n.add(Y)).subtract(Z)),X.push(new O(Z,Y,W))}else h.setHandleOut(W);n=n.rotate(q)}this._add(X)},lineBy:function(){var e=c.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=c.read(arguments),i=c.read(arguments),n=r.read(arguments),s=t(this)._point;this.curveTo(s.add(e),s.add(i),n)},cubicCurveBy:function(){var e=c.read(arguments),i=c.read(arguments),n=c.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(i),r.add(n))},quadraticCurveBy:function(){var e=c.read(arguments),i=c.read(arguments),n=t(this)._point;this.quadraticCurveTo(n.add(e),n.add(i))},arcBy:function(){var e=t(this)._point,i=e.add(c.read(arguments)),n=r.pick(r.peek(arguments),!0);"boolean"==typeof n?this.arcTo(i,n):this.arcTo(i,e.add(c.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return R[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,r,s){function a(t){t._transformCoordinates(n,h);for(var e=0;e<2;e++)M._addBounds(l[e],l[e+4],h[e+2],h[e],e,s?s[e]:0,u,c,f);var i=l;l=h,h=i}var o=t[0];if(!o)return new p;for(var h=new Array(6),l=o._transformCoordinates(n,new Array(6)),u=l.slice(0,2),c=u.slice(),f=new Array(2),_=1,d=t.length;_<d;_++)a(t[_]);return e&&a(o),new p(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(t,e,i,n,r){function s(t){g=g.include(t)}function a(t){g=g.unite(w.setCenter(t._point.transform(n)))}function o(t,e){"round"===e||t.isSmooth()?a(t):R._addBevelJoin(t,e,m,x,n,f,s)}function h(t,e){"round"===e?a(t):R._addSquareCap(t,e,m,n,f,s)}var l=i.getStyle(),u=l.hasStroke(),c=l.getStrokeWidth(),f=u&&i._getStrokeMatrix(n,r),d=u&&R._getStrokePadding(c,f),g=R.getBounds(t,e,i,n,r,d);if(!u)return g;for(var m=c/2,v=l.getStrokeJoin(),y=l.getStrokeCap(),x=l.getMiterLimit(),w=new p(new _(d)),b=t.length-(e?0:1),S=1;S<b;S++)o(t[S],v);return e?o(t[0],v):b>0&&(h(t[0],y),h(t[t.length-1],y)),g},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new c(t,0).transform(e),n=new c(0,t).transform(e),r=i.getAngleInRadians(),s=i.getLength(),a=n.getLength(),o=Math.sin(r),h=Math.cos(r),l=Math.tan(r),u=Math.atan2(a*l,s),f=Math.atan2(a,l*s);return[Math.abs(s*Math.cos(u)*h+a*Math.sin(u)*o),Math.abs(a*Math.sin(f)*h+s*Math.cos(f)*o)]},_addBevelJoin:function(t,e,i,n,r,s,a,o){var h=t.getCurve(),l=h.getPrevious(),u=h.getPoint1().transform(r),f=l.getNormalAtTime(1).multiply(i).transform(s),_=h.getNormalAtTime(0).multiply(i).transform(s);if(f.getDirectedAngle(_)<0&&(f=f.negate(),_=_.negate()),o&&a(u),a(u.add(f)),"miter"===e){var d=new v(u.add(f),new c((-f.y),f.x),(!0)).intersect(new v(u.add(_),new c((-_.y),_.x),(!0)),!0);d&&u.getDistance(d)<=n*i&&a(d)}a(u.add(_))},_addSquareCap:function(t,e,i,n,r,s,a){var o=t._point.transform(n),h=t.getLocation(),l=h.getNormal().multiply(0===h.getTime()?i:-i).transform(r);"square"===e&&(a&&(s(o.subtract(l)),s(o.add(l))),o=o.add(l.rotate(-90))),s(o.add(l)),s(o.subtract(l))},getHandleBounds:function(t,e,i,n,r){var s,a,o=i.getStyle();if(r.stroke&&o.hasStroke()){var h=i._getStrokeMatrix(n,r),l=o.getStrokeWidth()/2,u=l;"miter"===o.getStrokeJoin()&&(u=l*o.getMiterLimit()),"square"===o.getStrokeCap()&&(u=Math.max(u,l*Math.SQRT2)),s=R._getStrokePadding(l,h),a=R._getStrokePadding(u,h)}for(var c=new Array(6),f=1/0,_=-f,d=f,g=_,m=0,v=t.length;m<v;m++){t[m]._transformCoordinates(n,c);for(var y=0;y<6;y+=2){var x=y?s:a,w=x?x[0]:0,b=x?x[1]:0,S=c[y],T=c[y+1],C=S-w,P=S+w,k=T-b,O=T+b;C<f&&(f=C),P>_&&(_=P),k<d&&(d=k),O>g&&(g=O)}}return new p(f,d,_-f,g-d)}}});R.inject({statics:new function(){function t(t,e,i){var n=r.getNamed(i),s=new R(n&&0==n.insert&&x.NO_INSERT);return s._add(t),s._closed=e,s.set(n,{insert:!0})}function e(e,i,r){for(var s=new Array(4),a=0;a<4;a++){var o=n[a];s[a]=new O(o._point.multiply(i).add(e),o._handleIn.multiply(i),o._handleOut.multiply(i))}return t(s,!0,r)}var i=.5522847498307936,n=[new O([-1,0],[0,i],[0,-i]),new O([0,-1],[-i,0],[i,0]),new O([1,0],[0,-i],[0,i]),new O([0,1],[i,0],[-i,0])];return{Line:function(){return t([new O(c.readNamed(arguments,"from")),new O(c.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=c.readNamed(arguments,"center"),i=r.readNamed(arguments,"radius");return e(t,new _(i),arguments)},Rectangle:function(){var e,n=p.readNamed(arguments,"rectangle"),r=_.readNamed(arguments,"radius",0,{readNull:!0}),s=n.getBottomLeft(!0),a=n.getTopLeft(!0),o=n.getTopRight(!0),h=n.getBottomRight(!0);if(!r||r.isZero())e=[new O(s),new O(a),new O(o),new O(h)];else{var l=(r=_.min(r,n.getSize(!0).divide(2))).width,u=r.height,c=l*i,f=u*i;e=[new O(s.add(l,0),null,[-c,0]),new O(s.subtract(0,u),[0,f]),new O(a.add(0,u),null,[0,-f]),new O(a.add(l,0),[-c,0],null),new O(o.subtract(l,0),null,[c,0]),new O(o.add(0,u),[0,-f],null),new O(h.subtract(0,u),null,[0,f]),new O(h.subtract(l,0),[c,0])];
}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=S._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=c.readNamed(arguments,"from"),e=c.readNamed(arguments,"through"),i=c.readNamed(arguments,"to"),n=r.getNamed(arguments),s=new R(n&&0==n.insert&&x.NO_INSERT);return s.moveTo(t),s.arcTo(e,i),s.set(n)},RegularPolygon:function(){for(var e=c.readNamed(arguments,"center"),i=r.readNamed(arguments,"sides"),n=r.readNamed(arguments,"radius"),s=360/i,a=i%3==0,o=new c(0,a?-n:n),h=a?-1:.5,l=new Array(i),u=0;u<i;u++)l[u]=new O(e.add(o.rotate((u+h)*s)));return t(l,!0,arguments)},Star:function(){for(var e=c.readNamed(arguments,"center"),i=2*r.readNamed(arguments,"points"),n=r.readNamed(arguments,"radius1"),s=r.readNamed(arguments,"radius2"),a=360/i,o=new c(0,(-1)),h=new Array(i),l=0;l<i;l++)h[l]=new O(e.add(o.rotate(a*l).multiply(l%2?s:n)));return t(h,!0,arguments)}}}});var L=z.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function yt(t,e){var i=e,n=i[0];n&&"number"==typeof n[0]&&(i=[i]);for(var s=e.length-1;s>=0;s--){var a=i[s];i!==e||a instanceof R||(i=r.slice(i)),Array.isArray(a)?i[s]=new R({segments:a,insert:!1}):a instanceof L&&(i.splice.apply(i,[s,1].concat(a.removeChildren())),a.remove())}return yt.base.call(this,t,i)},reduce:function xt(t){for(var e=this._children,i=e.length-1;i>=0;i--)(n=e[i].reduce(t)).isEmpty()&&n.remove();if(!e.length){var n=new R(x.NO_INSERT);return n.copyAttributes(this),n.insertAbove(this),this.remove(),n}return xt.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)e.push.apply(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],r=0,s=i.length;r<s;r++){var a=i[r],o=a._matrix;n.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return n.join("")},_hitTestChildren:function wt(t,e,i){return wt.base.call(this,t,e["class"]===R||"path"===e.type?e:r.set({},e,{fill:!1}),i)},_draw:function(t,e,i,n){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,r=0,s=n.length;r<s;r++){var a=n[r],o=a._matrix;i[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(t,e){var i=t._children;if(e&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return r.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new R(x.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=c.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},r.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i,n=this._children,r=0,s=n.length;r<s;r++)i=n[r][t](e)||i;return i}},{}));z.inject(new function(){function t(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?i.resolveCrossings().reorient("nonzero"===i.getFillRule(),!0):i}function i(t,e,i,n,r){var s=new L(x.NO_INSERT);return s.addChildren(t,!0),s=s.reduce({simplify:e}),r&&0==r.insert||s.insertAbove(n&&i.isSibling(n)&&i.getIndex()<n.getIndex()?n:i),s.copyAttributes(i,!0),s}function n(e,n,r,a){function o(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];x.push.apply(x,n._segments),w.push.apply(w,n.getCurves()),n._overlapsOnly=!0}}if(a&&(0==a.trace||a.stroke)&&/^(subtract|intersect)$/.test(r))return s(e,n,r);var l=t(e,!0),c=n&&e!==n&&t(n,!0),d=m[r];d[r]=!0,c&&(d.subtract||d.exclude)^c.isClockwise()^l.isClockwise()&&c.reverse();var p,g=u(I.expand(l.getCrossings(c))),v=l._children||[l],y=c&&(c._children||[c]),x=[],w=[];if(g.length){o(v),y&&o(y);for(var b=0,S=g.length;b<S;b++)f(g[b]._segment,l,c,w,d);for(var b=0,S=x.length;b<S;b++){var T=x[b],C=T._intersection;T._winding||f(T,l,c,w,d),C&&C._overlap||(T._path._overlapsOnly=!1)}p=_(x,d)}else p=h(y?v.concat(y):v.slice(),function(t){return!!d[t]});return i(p,!0,e,n,a)}function s(e,n,r){function s(t){if(!c[t._id]&&(u||o.contains(t.getPointAt(t.getLength()/2))^l))return f.unshift(t),c[t._id]=!0}for(var a=t(e),o=t(n),h=a.getCrossings(o),l="subtract"===r,u="divide"===r,c={},f=[],_=h.length-1;_>=0;_--){var d=h[_].split();d&&(s(d)&&d.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return s(a),i(f,!1,e,n)}function a(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function o(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function h(t,e,i){var n=t&&t.length;if(n){var s=r.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),a=t.slice().sort(function(t,e){return g(e.getArea())-g(t.getArea())}),o=a[0];null==i&&(i=o.isClockwise());for(var h=0;h<n;h++){for(var l=a[h],u=s[l._id],c=l.getInteriorPoint(),f=0,_=h-1;_>=0;_--){var d=a[_];if(d.contains(c)){var p=s[d._id];f=p.winding,u.winding+=f,u.container=p.exclude?p.container:d;break}}if(e(u.winding)===e(f))u.exclude=!0,t[u.index]=null;else{var m=u.container;l.setClockwise(m?!m.isClockwise():i)}}}return t}function u(t,e,i){function n(t){return t._path._id+"."+t._segment1._index}for(var r,s,h,l=e&&[],u=!1,c=i||[],f=i&&{},_=(i&&i.length)-1;_>=0;_--)(y=i[_])._path&&(f[n(y)]=!0);for(_=t.length-1;_>=0;_--){var d,p=t[_],g=p._time,m=g,v=e&&!e(p),y=p._curve;if(y&&(y!==s?(u=!y.hasHandles()||f&&f[n(y)],r=[],h=null,s=y):h>=1e-8&&(g/=h)),v)r&&r.push(p);else{if(e&&l.unshift(p),h=m,g<1e-8)d=y._segment1;else if(g>1-1e-8)d=y._segment2;else{var x=y.divideAtTime(g,!0);u&&c.push(y,x),d=x._segment1;for(var w=r.length-1;w>=0;w--){var b=r[w];b._time=(b._time-g)/(1-g)}}p._setSegment(d);var S=d._intersection,T=p._intersection;if(S){a(S,T);for(var C=S;C;)a(C._intersection,S),C=C._next}else d._intersection=T}}return i||o(c),l||t}function c(t,e,i,n,r){function s(s){var a=s[u+0],h=s[u+6];if(!(m<d(a,h)||m>p(a,h))){var f=s[l+0],g=s[l+2],w=s[l+4],b=s[l+6];if(a!==h){var P=m===a?0:m===h?1:y>p(f,g,w,b)||x<d(f,g,w,b)?1:M.solveCubic(s,u,m,O,0,1)>0?O[0]:1,A=0===P?f:1===P?b:M.getPoint(s,P)[i?"y":"x"],I=a>h?1:-1,z=o[u]>o[u+6]?1:-1,R=o[l+6];return m!==a?(A<y?S+=I:A>x?T+=I:C=!0,A>_-v&&A<_+v&&(k/=2)):(I!==z?f<y?S+=I:f>x&&(T+=I):f!=R&&(R<x&&A>x?(T+=I,C=!0):R>y&&A<y&&(S+=I,C=!0)),k=0),o=s,!r&&A>y&&A<x&&0===M.getTangent(s,P)[i?"x":"y"]&&c(t,e,!i,n,!0)}(f<x&&b>y||b<x&&f>y)&&(C=!0)}}function a(t){var e=t[u+0],n=t[u+2],r=t[u+4],a=t[u+6];if(m<=p(e,n,r,a)&&m>=d(e,n,r,a))for(var o,h=t[l+0],c=t[l+2],f=t[l+4],_=t[l+6],g=y>p(h,c,f,_)||x<d(h,c,f,_)?[t]:M.getMonoCurves(t,i),v=0,w=g.length;v<w;v++)if(o=s(g[v]))return o}for(var o,h,l=i?1:0,u=1^l,f=[t.x,t.y],_=f[l],m=f[u],v=1e-6,y=_-1e-9,x=_+1e-9,w=0,b=0,S=0,T=0,C=!1,P=!1,k=1,O=[],A=0,I=e.length;A<I;A++){var z,R=e[A],L=R._path,N=R.getValues();if(!(A&&e[A-1]._path===L||(o=null,L._closed||(h=M.getValues(L.getLastCurve().getSegment2(),R.getSegment1(),null,!n))[u]!==h[u+6]&&(o=h),o))){o=N;for(var D=L.getLastCurve();D&&D!==R;){var E=D.getValues();if(E[u]!==E[u+6]){o=E;break}D=D.getPrevious()}}if(z=a(N))return z;if(A+1===I||e[A+1]._path!==L){if(h&&(z=a(h)))return z;!C||S||T||(S=T=L.isClockwise(n)^i?1:-1),w+=S,b+=T,S=T=0,C&&(P=!0,C=!1),h=null}}return w=g(w),b=g(b),{winding:p(w,b),windingL:w,windingR:b,quality:k,onPath:P}}function f(t,e,i,n,r){var s=[],a=t,o=0;do _=(y=t.getCurve()).getLength(),s.push({segment:t,curve:y,length:_}),o+=_,t=t.getNext();while(t&&!t._intersection&&t!==a);for(var h=[.5,.25,.75],u={winding:0,quality:-1},f=0;f<h.length&&u.quality<.5;f++)for(var _=o*h[f],d=0,p=s.length;d<p;d++){var m=s[d],v=m.length;if(_<=v){var y=m.curve,x=y._path,w=x._parent,b=w instanceof L?w:x,S=l.clamp(y.getTimeAt(_),1e-8,1-1e-8),T=y.getPointAtTime(S),C=g(y.getTangentAtTime(S).y)<Math.SQRT1_2,P=r.subtract&&i&&(b===e&&i._getWinding(T,C,!0).winding||b===i&&!e._getWinding(T,C,!0).winding)?{winding:0,quality:1}:c(T,n,C,!0);P.quality>u.quality&&(u=P);break}_-=v}for(d=s.length-1;d>=0;d--)s[d].segment._winding=u}function _(t,e){function i(t){var i;return!(!t||t._visited||e&&(!e[(i=t._winding||{}).winding]||e.unite&&2===i.winding&&i.windingL&&i.windingR))}function n(t){if(t)for(var e=0,i=s.length;e<i;e++)if(t===s[e])return!0;return!1}function r(t){for(var e=t._segments,i=0,n=e.length;i<n;i++)e[i]._visited=!0}var s,a=[];t.sort(function(t,e){var i=t._intersection,n=e._intersection,r=!(!i||!i._overlap),s=!(!n||!n._overlap),a=t._path,o=e._path;return r^s?r?1:-1:!i^!n?i?1:-1:a!==o?a._id-o._id:t._index-e._index});for(var o=0,h=t.length;o<h;o++){var l,u,c,f=t[o],_=i(f),d=null,p=!1,g=!0,m=[];if(_&&f._path._overlapsOnly){var v=f._path,y=f._intersection._segment._path;v.compare(y)&&(v.getArea()&&a.push(v.clone(!1)),r(v),r(y),_=!1)}for(;_;){var w=!d,b=function(t,e){function r(r,a){for(;r&&r!==a;){var o=r._segment,l=o&&o._path;if(l){var u=o.getNext()||l.getFirstSegment(),c=u._intersection;o!==t&&(n(o)||n(u)||u&&i(o)&&(i(u)||c&&i(c._segment)))&&h.push(o),e&&s.push(o)}r=r._next}}var a=t._intersection,o=a,h=[];if(e&&(s=[t]),a){for(r(a);a&&a._prev;)a=a._prev;r(a,o)}return h}(f,w),S=b.shift(),T=!(p=!w&&(n(f)||n(S)))&&S;if(w&&(d=new R(x.NO_INSERT),l=null),p){(f.isFirst()||f.isLast())&&(g=f._path._closed),f._visited=!0;break}if(T&&l&&(m.push(l),l=null),l||(T&&b.push(f),l={start:d._segments.length,crossings:b,visited:u=[],handleIn:c}),T&&(f=S),!i(f)){d.removeSegments(l.start);for(var C=0,P=u.length;C<P;C++)u[C]._visited=!1;u.length=0;do(f=l&&l.crossings.shift())&&f._path||(f=null,(l=m.pop())&&(u=l.visited,c=l.handleIn));while(l&&!i(f));if(!f)break}var k=f.getNext();d.add(new O(f._point,c,k&&f._handleOut)),f._visited=!0,u.push(f),f=k||f._path.getFirstSegment(),c=k&&k._handleIn}p&&(g&&(d.getFirstSegment().setHandleIn(c),d.setClosed(g)),0!==d.getArea()&&a.push(d))}return a}var d=Math.min,p=Math.max,g=Math.abs,m={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,i){return c(t,this.getCurves(),e,i)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t,e){return n(this,t,"subtract",e)},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?s(this,t,"divide"):i([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){function t(t,e){var i=t&&t._intersection;return i&&i._overlap&&i._path===e}var e=this._children,i=e||[this],n=!1,s=!1,a=this.getIntersections(null,function(t){return t.hasOverlap()&&(n=!0)||t.isCrossing()&&(s=!0)}),h=n&&s&&[];if(a=I.expand(a),n)for(var l=u(a,function(t){return t.hasOverlap()},h),c=l.length-1;c>=0;c--){var f=l[c],d=f._path,p=f._segment,g=p.getPrevious(),m=p.getNext();t(g,d)&&t(m,d)&&(p.remove(),g._handleOut._set(0,0),m._handleIn._set(0,0),g===p||g.getCurve().hasLength()||(m._handleIn.set(g._handleIn),g.remove()))}s&&(u(a,n&&function(t){var e=t.getCurve(),i=t.getSegment(),n=t._intersection,r=n._curve,s=n._segment;return!!(e&&r&&e._path&&r._path)||(i&&(i._intersection=null),void(s&&(s._intersection=null)))},h),h&&o(h),i=_(r.each(i,function(t){this.push.apply(this,t._segments)},[])));var v,y=i.length;return y>1&&e?(i!==e&&this.setChildren(i),v=this):1!==y||e||(i[0]!==this&&this.setSegments(i[0].removeSegments()),v=this),v||((v=new L(x.NO_INSERT)).addChildren(i),(v=v.reduce()).copyAttributes(this),this.replaceWith(v)),v},reorient:function(t,i){var n=this._children;return n&&n.length?this.setChildren(h(this.removeChildren(),function(e){return!!(t?e:1&e)},i)):i!==e&&this.setClockwise(i),this},getInteriorPoint:function(){var t=this.getBounds().getCenter(!0);if(!this.contains(t)){for(var e=this.getCurves(),i=t.y,n=[],r=[],s=0,a=e.length;s<a;s++){var o=e[s].getValues(),h=o[1],l=o[3],u=o[5],c=o[7];if(i>=d(h,l,u,c)&&i<=p(h,l,u,c))for(var f=M.getMonoCurves(o),_=0,g=f.length;_<g;_++){var m=f[_],v=m[1],y=m[7];if(v!==y&&(i>=v&&i<=y||i>=y&&i<=v)){var x=i===v?m[0]:i===y?m[6]:1===M.solveCubic(m,1,i,r,0,1)?M.getPoint(m,r[0]).x:(m[0]+m[6])/2;n.push(x)}}}n.length>1&&(n.sort(function(t,e){return t-e}),t.x=(n[0]+n[1])/2)}return t}}});var N=r.extend({_class:"PathFlattener",initialize:function(t,e,i,n,r){function s(t,e){var i=M.getValues(t,e,r);h.push(i),a(i,t._index,0,1)}function a(t,i,r,s){if(!(s-r>c)||n&&M.isStraight(t)||M.isFlatEnough(t,e||.25)){var o=t[6]-t[0],h=t[7]-t[1],f=Math.sqrt(o*o+h*h);f>0&&(u+=f,l.push({offset:u,curve:t,index:i,time:s}))}else{var _=M.subdivide(t,.5),d=(r+s)/2;a(_[0],i,r,d),a(_[1],i,d,s)}}for(var o,h=[],l=[],u=0,c=1/(i||32),f=t._segments,_=f[0],d=1,p=f.length;d<p;d++)s(_,o=f[d]),_=o;t._closed&&s(o,f[0]),this.curves=h,this.parts=l,this.length=u,this.index=0},_get:function(t){for(var e,i=this.parts,n=i.length,r=this.index;e=r,r&&!(i[--r].offset<t););for(;e<n;e++){var s=i[e];if(s.offset>=t){this.index=e;var a=i[e-1],o=a&&a.index===s.index?a.time:0,h=a?a.offset:0;return{index:s.index,time:o+(s.time-o)*(t-h)/(s.offset-h)}}}return{index:i[n-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),r=this._get(i),s=n.index,a=r.index;s<=a;s++){var o=M.getPart(this.curves[s],s===n.index?n.time:0,s===r.index?r.time:1);s===n.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},r.each(M._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return M[t](this.curves[i.index],i.time)}},{})),D=r.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,r=t._closed,s=0,a=n.length;s<a;s++){var o=n[s].point;e&&e.equals(o)||i.push(e=o.clone())}r&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=r},fit:function(t){var e=this.points,i=e.length,n=null;return i>0&&(n=[new O(e[0])],i>1&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,r,s){var a=this.points;if(n-i!=1){for(var o,h=this.chordLengthParameterize(i,n),l=Math.max(e,e*e),u=!0,c=0;c<=4;c++){var f=this.generateBezier(i,n,h,r,s),_=this.findMaxError(i,n,f,h);if(_.error<e&&u)return void this.addCurve(t,f);if(o=_.index,_.error>=l)break;u=this.reparameterize(i,n,h,f),l=_.error}var d=a[o-1].subtract(a[o+1]);this.fitCubic(t,e,i,o,r,d),this.fitCubic(t,e,o,n,d.negate(),s)}else{var p=a[i],g=a[n],m=p.getDistance(g)/3;this.addCurve(t,[p,p.add(r.normalize(m)),g.add(s.normalize(m)),g])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new O(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,r){for(var s=Math.abs,a=this.points,o=a[t],h=a[e],l=[[0,0],[0,0]],u=[0,0],c=0,f=e-t+1;c<f;c++){var _=i[c],d=1-_,p=3*_*d,g=d*d*d,m=p*d,v=p*_,y=_*_*_,x=n.normalize(m),w=r.normalize(v),b=a[t+c].subtract(o.multiply(g+m)).subtract(h.multiply(v+y));l[0][0]+=x.dot(x),l[0][1]+=x.dot(w),l[1][0]=l[0][1],l[1][1]+=w.dot(w),u[0]+=x.dot(b),u[1]+=w.dot(b)}var S,T,C=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(s(C)>1e-12){var P=l[0][0]*u[1]-l[1][0]*u[0];S=(u[0]*l[1][1]-u[1]*l[0][1])/C,T=P/C}else{var k=l[0][0]+l[0][1],O=l[1][0]+l[1][1];S=T=s(k)>1e-12?u[0]/k:s(O)>1e-12?u[1]/O:0}var A,M,I=h.getDistance(o),z=1e-12*I;if(S<z||T<z)S=T=I/3;else{var R=h.subtract(o);A=n.normalize(S),M=r.normalize(T),A.dot(R)-M.dot(R)>I*I&&(S=T=I/3,A=M=null)}return[o,o.add(A||n.normalize(S)),h.add(M||r.normalize(T)),h]},reparameterize:function(t,e,i,n){for(r=t;r<=e;r++)i[r-t]=this.findRoot(n,this.points[r],i[r-t]);for(var r=1,s=i.length;r<s;r++)if(i[r]<=i[r-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],r=[],s=0;s<=2;s++)n[s]=t[s+1].subtract(t[s]).multiply(3);for(s=0;s<=1;s++)r[s]=n[s+1].subtract(n[s]).multiply(2);var a=this.evaluate(3,t,i),o=this.evaluate(2,n,i),h=this.evaluate(1,r,i),u=a.subtract(e),c=o.dot(o)+u.dot(h);return l.isZero(c)?i:i-u.dot(o)/c},evaluate:function(t,e,i){for(var n=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)n[s]=n[s].multiply(1-i).add(n[s+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,r=e-t;n<=r;n++)i[n]/=i[r];return i},findMaxError:function(t,e,i,n){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;a<e;a++){var o=this.evaluate(3,i,n[a-t]).subtract(this.points[a]),h=o.x*o.x+o.y*o.y;h>=s&&(s=h,r=a)}return{error:s,index:r}}}),E=x.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var i=t&&r.isPlainObject(t)&&t.x===e&&t.y===e;this._initialize(i&&t,!i&&c.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),F=E.extend({_class:"PointText",initialize:function(){E.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new f(t.x,t.y,this,"setPoint")},setPoint:function(){var t=c.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,r=this._style,s=r.hasFill(),a=r.hasStroke(),o=r.getLeading(),h=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var l=0,u=n.length;l<u;l++){t.shadowColor=h;var c=n[l];s&&(t.fillText(c,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(c,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,r=n.length,s=i.getJustification(),a=i.getLeading(),o=this.getView().getTextWidth(i.getFontStyle(),n),h=0;"left"!==s&&(h-=o/("center"===s?2:1));var l=new p(h,r?-.75*a:0,o,r*a);return t?t._transformBounds(l,l):l}}),B=r.extend(new function(){function t(t){var n,r=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(r)for(n=[0,0,0],s=0;s<3;s++)h=r[s+1],n[s]=parseInt(1==h.length?h+h:h,16)/255;else if(r=t.match(/^rgba?\((.*)\)$/))for(var s=0,o=(n=r[1].split(",")).length;s<o;s++){var h=+n[s];n[s]=s<3?h/255:h}else if(i){var l=a[t];if(!l){e||((e=tt.getContext(1,1)).globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var u=e.getImageData(0,0,1,1).data;l=a[t]=[u[0]/255,u[1]/255,u[2]/255]}n=l.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},s={},a={},o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),r=n-Math.min(t,e,i);return[0===r?0:60*(n==t?(e-i)/r+(e<i?6:0):n==e?(i-t)/r+2:(t-e)/r+4),0===n?0:r/n,n]},"hsb-rgb":function(t,e,i){t=(t/60%6+6)%6;var n=Math.floor(t),r=t-n,s=[i,i*(1-e),i*(1-e*r),i*(1-e*(1-r))];return[s[(n=o[n])[0]],s[n[1]],s[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),s=n-r,a=0===s,o=(n+r)/2;return[a?0:60*(n==t?(e-i)/s+(e<i?6:0):n==e?(i-t)/s+2:(t-e)/s+4),a?0:o<.5?s/(n+r):s/(2-n-r),o]},"hsl-rgb":function(t,e,i){if(t=(t/360%1+1)%1,0===e)return[i,i,i];for(var n=[t+1/3,t,t-1/3],r=i<.5?i*(1+e):i+e-i*e,s=2*i-r,a=[],o=0;o<3;o++){var h=n[o];h<0&&(h+=1),h>1&&(h-=1),a[o]=6*h<1?s+6*(r-s)*h:2*h<1?r:3*h<2?s+(r-s)*(2/3-h)*6:s}return a},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return r.each(n,function(t,e){s[e]=[],r.each(t,function(t,i){var a=r.capitalize(t),o=/^(hue|saturation)$/.test(t),h=s[e][i]="gradient"===t?function(t){var e=this._components[0];return t=j.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return c.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+a]=function(){return this._type===e||o&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(e)[i]},this["set"+a]=function(t){this._type===e||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[i]=h.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function u(e){var i,a,o,h,l=arguments,c=this.__read,f=0;Array.isArray(e)&&(e=(l=e)[0]);var _=null!=e&&typeof e;if("string"===_&&e in n&&(i=e,e=l[1],Array.isArray(e)?(a=e,o=l[2]):(c&&(f=1),l=r.slice(l,1),_=typeof e)),!a){if(h="number"===_?l:"object"===_&&null!=e.length?e:null){i||(i=h.length>=3?"rgb":"gray");var d=n[i].length;o=h[d],c&&(f+=h===arguments?d+(null!=o?1:0):1),h.length>d&&(h=r.slice(h,0,d))}else if("string"===_)i="rgb",4===(a=t(e)).length&&(o=a[3],a.length--);else if("object"===_)if(e.constructor===u){if(i=e._type,a=e._components.slice(),o=e._alpha,"gradient"===i)for(var p=1,g=a.length;p<g;p++){var m=a[p];m&&(a[p]=m.clone())}}else if(e.constructor===j)i="gradient",h=l;else{var v=n[i="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb"],y=s[i];this._components=a=[];for(var p=0,g=v.length;p<g;p++)null==(x=e[v[p]])&&!p&&"gradient"===i&&"stops"in e&&(x={stops:e.stops,radial:e.radial}),null!=(x=y[p].call(this,x))&&(a[p]=x);o=e.alpha}c&&i&&(f=1)}if(this._type=i||"rgb",!a){this._components=a=[];for(var p=0,g=(y=s[this._type]).length;p<g;p++){var x=y[p].call(this,h&&h[p]);null!=x&&(a[p]=x)}}return this._components=a,this._properties=n[this._type],this._alpha=o,c&&(this.__read=f),this},set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return r.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=l[this._type+"-"+t])?e.apply(this,this._components):l["rgb-"+t].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new B(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=r.isPlainValue(t,!0)?B.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&r.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=h.instance,r=0,s=t.length;r<s;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(i?a:n.number(a)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var i=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;return i=[e(i[0]),e(i[1]),e(i[2])],n<1&&i.push(n<0?0:n),t?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).slice(1):(4==i.length?"rgba(":"rgb(")+i.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var i,n=this._components,r=n[0],s=r._stops,a=n[1],o=n[2],h=n[3],l=e&&e.inverted();if(l&&(a=l._transformPoint(a),o=l._transformPoint(o),h&&(h=l._transformPoint(h))),r._radial){var u=o.getDistance(a);if(h){var c=h.subtract(a);c.getLength()>u&&(h=a.add(c.normalize(u-.1)))}var f=h||a;i=t.createRadialGradient(f.x,f.y,0,a.x,a.y,u)}else i=t.createLinearGradient(a.x,a.y,o.x,o.y);for(var _=0,d=s.length;_<d;_++){var p=s[_],g=p._offset;i.addColorStop(null==g?_/(d-1):g,p._color.toCanvasStyle())}return this._canvasStyle=i},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var r=e[i];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new B(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return r.each(t,function(t,e){this[e]=function(e){e=B.read(arguments);for(var i=this._type,n=this._components,r=e._convert(i),s=0,a=n.length;s<a;s++)r[s]=t(n[s],r[s]);return new B(i,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),j=r.extend({_class:"Gradient",initialize:function(t,e){this._id=u.get(),t&&r.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return r.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var i=this._owners?this._owners.indexOf(t):-1;-1!=i&&(this._owners.splice(i,1),this._owners.length||(this._owners=e))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new j(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var n=0,r=i.length;n<r;n++)i[n]._owner=e;for(var n=0,r=(i=this._stops=q.readList(t,0,{clone:!0})).length;n<r;n++)i[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var r=0;r<n;r++)if(!e[r].equals(i[r]))return!1;return!0}}return!1}}),q=r.extend({_class:"GradientStop",initialize:function(t,i){var n=t,r=i;"object"==typeof t&&i===e&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],r=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,r=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new q(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return r.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=B.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),V=r.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new c,selectedColor:null},i=r.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=r.set({},i,{fillColor:new B}),s={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},o={_class:"Style",beans:!0,initialize:function(e,r,s){this._values={},this._owner=r,this._project=r&&r._project||s||paper.project,this._defaults=!r||r instanceof w?i:r instanceof E?n:t,e&&this.set(e)}};return r.each(i,function(t,i){var n=/Color$/.test(i),h="shadowOffset"===i,l=r.capitalize(i),u=s[i],f="set"+l,_="get"+l;o[f]=function(t){var r=this._owner,s=r&&r._children;if(s&&s.length>0&&!(r instanceof L))for(var a=0,o=s.length;a<o;a++)s[a]._style[f](t);else if(i in this._defaults){var h=this._values[i];h!==t&&(n&&(h&&h._owner!==e&&(h._owner=e),t&&t.constructor===B&&(t._owner&&(t=t.clone()),t._owner=r)),this._values[i]=t,r&&r._changed(u||65))}},o[_]=function(t){var s,a=this._owner,o=a&&a._children;if(i in this._defaults&&(!o||!o.length||t||a instanceof L))if((s=this._values[i])===e)(s=this._defaults[i])&&s.clone&&(s=s.clone());else{var l=n?B:h?c:null;!l||s&&s.constructor===l||(this._values[i]=s=l.read([s],0,{readNull:!0,clone:!0}),s&&n&&(s._owner=a))}else if(o)for(var u=0,f=o.length;u<f;u++){var d=o[u]._style[_]();if(u){if(!r.equals(s,d))return e}else s=d}return s},a[_]=function(t){return this._style[_](t)},a[f]=function(t){this._style[f](t)}}),r.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,n="set"+e;o[i]=a[i]="#get"+t,o[n]=a[n]="#set"+t}),x.inject(a),o},{set:function(t){var e=t instanceof V,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var r=i[n];this[n]=r&&e&&r.clone?r.clone():r}},equals:function(t){function i(t,i,n){var s=t._values,a=i._values,o=i._defaults;for(var h in s){var l=s[h],u=a[h];if(!(n&&h in a||r.equals(l,u===e?o[h]:u)))return!1}return!0}return t===this||t&&this._class===t._class&&i(this,t)&&i(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function bt(){var t=bt.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),U=new function(){function t(t,e,i,n){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=r[a],h=o?o+s:e;if(h in t){if(!i)return t[h];t[h]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,r=n.body,s=n.documentElement;try{i=t.getBoundingClientRect()}catch(t){i={left:0,top:0,width:0,height:0}}var a=i.left-(s.clientLeft||r.clientLeft||0),o=i.top-(s.clientTop||r.clientTop||0);if(!e){var h=n.defaultView;a+=h.pageXOffset||s.scrollLeft||r.scrollLeft,o+=h.pageYOffset||s.scrollTop||r.scrollTop}return new p(a,o,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;
return new p(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return U.getBounds(t,e).getPoint()},getSize:function(t){return U.getBounds(t,!0).getSize()},isInvisible:function(t){return U.getSize(t).equals(new _(0,0))},isInView:function(t){return!U.isInvisible(t)&&U.getViewportBounds(t).intersects(U.getBounds(t,!0))},isInserted:function(t){return n.body.contains(t)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,n){if("object"==typeof i)for(var r in i)t(e,r,!0,i[r]);else t(e,i,!0,n)}}},X={add:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.addEventListener(r[s],n,!1)},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.removeEventListener(r[s],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new c(e.pageX||e.clientX+n.documentElement.scrollLeft,e.pageY||e.clientY+n.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return X.getPoint(t).subtract(U.getOffset(e||X.getTarget(t)))}};X.requestAnimationFrame=new function(){function t(){var e=s;s=[];for(var i=0,a=e.length;i<a;i++)e[i]();(r=n&&s.length)&&n(t)}var e,n=U.getPrefixed(i,"requestAnimationFrame"),r=!1,s=[];return function(i){s.push(i),n?r||(n(t),r=!0):e||(e=setInterval(t,1e3/60))}};var H=r.extend(s,{_class:"View",initialize:function St(t,e){function r(t){return e[t]||parseInt(e.getAttribute(t),10)}function s(){var t=U.getSize(e);return t.isNaN()||t.isZero()?new _(r("width"),r("height")):t}var o;if(i&&e){if(this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+St._id++),X.add(e,this._viewEvents),U.setPrefixed(e.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),a.hasAttribute(e,"resize")){var h=this;X.add(i,this._windowEvents={resize:function(){h.setViewSize(s())}})}if(o=s(),a.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var l=this._stats.domElement,u=l.style,c=U.getOffset(e);u.position="absolute",u.left=c.x+"px",u.top=c.y+"px",n.body.appendChild(l)}}else o=new _(e),e=null;this._project=t,this._scope=t._scope,this._element=e,this._pixelRatio||(this._pixelRatio=i&&i.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,St._views.push(this),St._viewsById[this._id]=this,(this._matrix=new m)._owner=this,St._focused||(St._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={"native":{},virtual:{}},this._autoUpdate=!paper.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;H._focused===this&&(H._focused=null),H._views.splice(H._views.indexOf(this),1),delete H._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),X.remove(this._element,this._viewEvents),X.remove(i,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:r.each(x._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;X.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;U.getPrefixed(n,"hidden")&&"true"!==a.getAttribute(e,"keepalive")||!U.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){paper=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new r({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new r(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=e},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new d(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=_.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new p(new c,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return U.isInView(this._element)},isInserted:function(){return U.isInserted(this._element)},getPixelSize:function(t){var e,i=this._element;if(i){var r=i.parentNode,s=n.createElement("div");s.style.fontSize=t,r.appendChild(s),e=parseFloat(U.getStyles(s).fontSize),r.removeChild(s)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},r.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?r:c).read(arguments),n=c.read(arguments,0,{readNull:!0});return this.transform((new m)[t](i,n||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new m;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=c.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new m).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),i=t&&t.scaling;return i?new f(i.x,i.y,this,"setScaling"):e},setScaling:function(){var t=this.getScaling(),e=c.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(c.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(c.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(c.read(arguments))},getEventPoint:function(t){return this.viewToProject(X.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return n&&"string"==typeof e&&(e=n.getElementById(e)),new(i?Z:H)(t,e)}}},new function(){function t(t){var e=X.getTarget(t);return e.getAttribute&&H._viewsById[e.getAttribute("id")]}function e(){var t=H._focused;if(!t||!t.isVisible())for(var e=0,i=H._views.length;e<i;e++)if((t=H._views[e]).isVisible()){H._focused=h=t;break}}function r(t,e,i){t._handleMouseEvent("mousemove",e,i)}function s(t,e,i,n,r,s,a){function o(t,i){if(t.responds(i)){if(h||(h=new $(i,n,r,e||t,s?r.subtract(s):null)),t.emit(i,h)&&(P=!0,h.prevented&&(k=!0),h.stopped))return l=!0}else{var a=O[i];if(a)return o(t,a)}}for(var h,l=!1;t&&t!==a&&!o(t,i);)t=t._parent;return l}function a(t,e,i,n,r,a){return t._project.removeOn(i),k=P=!1,b&&s(b,null,i,n,r,a)||e&&e!==b&&!e.isDescendant(b)&&s(e,null,i,n,r,a,b)||s(t,b||e||t,i,n,r,a)}if(i){var o,h,l,u,c,f=!1,_=!1,d=i.navigator;d.pointerEnabled||d.msPointerEnabled?(l="pointerdown MSPointerDown",u="pointermove MSPointerMove",c="pointerup pointercancel MSPointerUp MSPointerCancel"):(l="touchstart",u="touchmove",c="touchend touchcancel","ontouchstart"in i&&d.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(l+=" mousedown",u+=" mousemove",c+=" mouseup"));var p={},g={mouseout:function(t){var e=H._focused,i=X.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var n=X.getOffset(t,e._element),s=n.x,a=Math.abs,o=a(s),h=o-(1<<25);n.x=a(h)<o?h*(s<0?-1:1):s,r(e,t,e.viewToProject(n))}},scroll:e};p[l]=function(e){var i=H._focused=t(e);f||(f=!0,i._handleMouseEvent("mousedown",e))},g[u]=function(i){var n=H._focused;if(!_){var s=t(i);s?n!==s&&(n&&r(n,i),o||(o=n),n=H._focused=h=s):h&&h===n&&(o&&!o.isInserted()&&(o=null),n=H._focused=o,o=null,e())}n&&r(n,i)},g[l]=function(){_=!0},g[c]=function(t){var e=H._focused;e&&f&&e._handleMouseEvent("mouseup",t),_=f=!1},X.add(n,g),X.add(i,{load:e});var m,v,y,x,w,b,S,T,C,P=!1,k=!1,O={doubleclick:"click",mousedrag:"mousemove"},A=!1,M={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:p,_handleMouseEvent:function(t,e,i){function n(t){return r.virtual[t]||u.responds(t)||l&&l.responds(t)}var r=this._itemEvents,o=r["native"][t],h="mousemove"===t,l=this._scope.tool,u=this;h&&f&&n("mousedrag")&&(t="mousedrag"),i||(i=this.getEventPoint(e));var c=this.getBounds().contains(i),_=o&&c&&u._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),d=_&&_.item||null,p=!1,g={};if(g[t.substr(5)]=!0,o&&d!==w&&(w&&s(w,null,"mouseleave",e,i),d&&s(d,null,"mouseenter",e,i),w=d),A^c&&(s(this,null,c?"mouseenter":"mouseleave",e,i),m=c?this:null,p=!0),!c&&!g.drag||i.equals(y)||(a(this,d,h?t:"mousemove",e,i,y),p=!0),A=c,g.down&&c||g.up&&v){if(a(this,d,t,e,i,v),g.down){if(C=d===S&&Date.now()-T<300,x=S=d,!k&&d){for(var O=d;O&&!O.responds("mousedrag");)O=O._parent;O&&(b=d)}v=i}else g.up&&(k||d!==x||(T=Date.now(),a(this,d,C?"doubleclick":"click",e,i,v),C=!1),x=b=null);A=!1,p=!0}y=i,p&&l&&(P=l._handleMouseEvent(t,e,i,g)||P),(P&&!g.move||g.down&&n("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,i,n){function r(r){r.responds(t)&&(paper=a,r.emit(t,s=s||new Y(t,e,i,n)))}var s,a=this._scope,o=a.tool;this.isVisible()&&(r(this),o&&o.responds(t)&&r(o))},_countItemEvent:function(t,e){var i=this._itemEvents,n=i["native"],r=i.virtual;for(var s in M)n[s]=(n[s]||0)+(M[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:e}}}}),Z=H.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof i.HTMLCanvasElement)){var n=_.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+r.slice(arguments,1));e=tt.getCanvas(n)}var s=this._context=e.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(a.getAttribute(e,"hidpi"))){var o=i.devicePixelRatio||1,h=U.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=o/h}H.call(this,t,e),this._needsUpdate=!0},remove:function Tt(){return this._context.restore(),Tt.base.call(this)},_setElementSize:function Ct(t,e){var i=this._pixelRatio;if(Ct.base.call(this,t*i,e*i),1!==i){var n=this._element,r=this._context;if(!a.hasAttribute(n,"resize")){var s=n.style;s.width=t+"px",s.height=e+"px"}r.restore(),r.save(),r.scale(i,i)}},getPixelSize:function Pt(t){var e,i=paper.agent;if(i&&i.firefox)e=Pt.base.call(this,t);else{var n=this._context,r=n.font;n.font=t+" serif",e=parseFloat(n.font),n.font=r}return e},getTextWidth:function(t,e){var i=this._context,n=i.font,r=0;i.font=t;for(var s=0,a=e.length;s<a;s++)r=Math.max(r,i.measureText(e[s]).width);return i.font=n,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),W=r.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return G.modifiers}}),Y=W.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),G=new function(){function t(t){var i=t.key||t.keyIdentifier;return i=/^U\+/.test(i)?String.fromCharCode(parseInt(i.substr(2),16)):/^Arrow[A-Z]/.test(i)?i.substr(5):"Unidentified"===i||i===e?String.fromCharCode(t.keyCode):i,h[i]||(i.length>1?r.hyphenate(i):i.toLowerCase())}function s(t,e,i,n){var o,h=H._focused;if(u[e]=t,t?c[e]=i:delete c[e],e.length>1&&(o=r.camelize(e))in f){f[o]=t;var l=paper&&paper.agent;if("meta"===o&&l&&l.mac)if(t)a={};else{for(var _ in a)_ in c&&s(!1,_,a[_],n);a=null}}else t&&a&&(a[e]=i);h&&h._handleKeyEvent(t?"keydown":"keyup",n,e,i)}var a,o,h={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},l={tab:"\t",space:" ",enter:"\r"},u={},c={},f=new r({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=paper&&paper.agent;return t&&t.mac?this.meta:this.control}}});return X.add(n,{keydown:function(e){var i=t(e),n=paper&&paper.agent;i.length>1||n&&n.chrome&&(e.altKey||n.mac&&e.metaKey||!n.mac&&e.ctrlKey)?s(!0,i,l[i]||(i.length>1?"":i),e):o=i},keypress:function(e){if(o){var i=t(e),n=e.charCode,r=n>=32?String.fromCharCode(n):i.length>1?"":i;i!==o&&(i=r.toLowerCase()),s(!0,i,r,e),o=null}},keyup:function(e){var i=t(e);i in c&&s(!1,i,c[i],e)}}),X.add(i,{blur:function(t){for(var e in c)s(!1,e,c[e],t)}}),{modifiers:f,isDown:function(t){return!!u[t]}}},$=W.extend({_class:"MouseEvent",initialize:function(t,e,i,n,r){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),J=W.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Q=o.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){o.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,n){function r(t,e){var r=i,s=a?c._point:c._downPoint||r;if(a){if(c._moveCount&&r.equals(s))return!1;if(s&&(null!=t||null!=e)){var o=r.subtract(s),h=o.getLength();if(h<(t||0))return!1;e&&(r=s.add(o.normalize(Math.min(h,e))))}c._moveCount++}return c._point=r,c._lastPoint=s||r,n.down&&(c._moveCount=-1,c._downPoint=r,c._downCount++),!0}function s(){o&&(u=c.emit(t,new J(c,t,e))||u)}paper=this._scope,n.drag&&!this.responds(t)&&(t="mousemove");var a=n.move||n.drag,o=this.responds(t),h=this.minDistance,l=this.maxDistance,u=!1,c=this;if(n.down)r(),s();else if(n.up)r(null,l),s();else if(o)for(;r(h,l);)s();return u}}),K={request:function(e){var i=new t.XMLHttpRequest;return i.open((e.method||"get").toUpperCase(),e.url,r.pick(e.async,!0)),e.mimeType&&i.overrideMimeType(e.mimeType),i.onload=function(){var t=i.status;0===t||200===t?e.onLoad&&e.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var t=i.status,n='Could not load "'+e.url+'" (Status: '+t+")";if(!e.onError)throw new Error(n);e.onError(n,t)},i.send(null)}},tt={canvases:[],getCanvas:function(t,e){if(!i)return null;var r,s=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?r=this.canvases.pop():(r=n.createElement("canvas"),s=!1);var a=r.getContext("2d");if(!a)throw new Error("Canvas "+r+" is unable to provide a 2D context.");return r.width===t&&r.height===e?s&&a.clearRect(0,0,t+1,e+1):(r.width=t,r.height=e),a.save(),r},getContext:function(t,e){var i=this.getCanvas(t,e);return i?i.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},et=new function(){function t(t,e,i){return.2989*t+.587*e+.114*i}function e(e,i,n,r){var s=r-t(e,i,n),r=t(_=e+s,d=i+s,p=n+s),a=g(_,d,p),o=m(_,d,p);if(a<0){var h=r-a;_=r+(_-r)*r/h,d=r+(d-r)*r/h,p=r+(p-r)*r/h}if(o>255){var l=255-r,u=o-r;_=r+(_-r)*l/u,d=r+(d-r)*l/u,p=r+(p-r)*l/u}}function i(t,e,i){return m(t,e,i)-g(t,e,i)}function n(t,e,i,n){var r,s=[t,e,i],a=m(t,e,i),o=g(t,e,i);r=0===g(o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2)?1===m(o,a)?2:1:0,s[a]>s[o]?(s[r]=(s[r]-s[o])*n/(s[a]-s[o]),s[a]=n):s[r]=s[a]=0,s[o]=0,_=s[0],d=s[1],p=s[2]}var s,a,o,h,l,u,c,f,_,d,p,g=Math.min,m=Math.max,v=Math.abs,y={multiply:function(){_=l*s/255,d=u*a/255,p=c*o/255},screen:function(){_=l+s-l*s/255,d=u+a-u*a/255,p=c+o-c*o/255},overlay:function(){_=l<128?2*l*s/255:255-2*(255-l)*(255-s)/255,d=u<128?2*u*a/255:255-2*(255-u)*(255-a)/255,p=c<128?2*c*o/255:255-2*(255-c)*(255-o)/255},"soft-light":function(){var t=s*l/255;_=t+l*(255-(255-l)*(255-s)/255-t)/255,d=(t=a*u/255)+u*(255-(255-u)*(255-a)/255-t)/255,p=(t=o*c/255)+c*(255-(255-c)*(255-o)/255-t)/255},"hard-light":function(){_=s<128?2*s*l/255:255-2*(255-s)*(255-l)/255,d=a<128?2*a*u/255:255-2*(255-a)*(255-u)/255,p=o<128?2*o*c/255:255-2*(255-o)*(255-c)/255},"color-dodge":function(){_=0===l?0:255===s?255:g(255,255*l/(255-s)),d=0===u?0:255===a?255:g(255,255*u/(255-a)),p=0===c?0:255===o?255:g(255,255*c/(255-o))},"color-burn":function(){_=255===l?255:0===s?0:m(0,255-255*(255-l)/s),d=255===u?255:0===a?0:m(0,255-255*(255-u)/a),p=255===c?255:0===o?0:m(0,255-255*(255-c)/o)},darken:function(){_=l<s?l:s,d=u<a?u:a,p=c<o?c:o},lighten:function(){_=l>s?l:s,d=u>a?u:a,p=c>o?c:o},difference:function(){(_=l-s)<0&&(_=-_),(d=u-a)<0&&(d=-d),(p=c-o)<0&&(p=-p)},exclusion:function(){_=l+s*(255-l-l)/255,d=u+a*(255-u-u)/255,p=c+o*(255-c-c)/255},hue:function(){n(s,a,o,i(l,u,c)),e(_,d,p,t(l,u,c))},saturation:function(){n(l,u,c,i(s,a,o)),e(_,d,p,t(l,u,c))},luminosity:function(){e(l,u,c,t(s,a,o))},color:function(){e(s,a,o,t(l,u,c))},add:function(){_=g(l+s,255),d=g(u+a,255),p=g(c+o,255)},subtract:function(){_=m(l-s,0),d=m(u-a,0),p=m(c-o,0)},average:function(){_=(l+s)/2,d=(u+a)/2,p=(c+o)/2},negation:function(){_=255-v(255-s-l),d=255-v(255-a-u),p=255-v(255-o-c)}},x=this.nativeModes=r.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),w=tt.getContext(1,1);w&&(r.each(y,function(t,e){var i="darken"===e,n=!1;w.save();try{w.fillStyle=i?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=e,w.globalCompositeOperation===e&&(w.fillStyle=i?"#a00":"#300",w.fillRect(0,0,1,1),n=w.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(t){}w.restore(),x[e]=n}),tt.release(w)),this.process=function(t,e,i,n,r){var g=e.canvas,m="normal"===t;if(m||x[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,m||(i.globalCompositeOperation=t),i.drawImage(g,r.x,r.y),i.restore();else{var v=y[t];if(!v)return;for(var w=i.getImageData(r.x,r.y,g.width,g.height),b=w.data,S=e.getImageData(0,0,g.width,g.height).data,T=0,C=b.length;T<C;T+=4){s=S[T],l=b[T],a=S[T+1],u=b[T+1],o=S[T+2],c=b[T+2],h=S[T+3],f=b[T+3],v();var P=h*n/255,k=1-P;b[T]=P*_+k*l,b[T+1]=P*d+k*u,b[T+2]=P*p+k*c,b[T+3]=h*n+k*f}i.putImageData(w,r.x,r.y)}}},it=new function(){function t(t,e,i){for(var n in e){var r=e[n],a=s[n];"number"==typeof r&&i&&(r=i.number(r)),a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}return t}var e="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",s={href:r,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};return{svg:e,xmlns:i,xlink:r,create:function(i,r,s){return t(n.createElementNS(e,i),r,s)},get:function(t,e){var i=s[e],n=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===n?null:n},set:t}},nt=r.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof z||t instanceof S||t instanceof E)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=r.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&r.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});return new function(){function e(t,e,i){var n=new r,s=t.getTranslation();if(e){var a=(t=t._shiftless())._inverseTransform(s);n[i?"cx":"x"]=a.x,n[i?"cy":"y"]=a.y,s=null}if(!t.isIdentity()){var o=t.decompose();if(o){var h=[],u=o.rotation,c=o.scaling,f=o.skewing;s&&!s.isZero()&&h.push("translate("+g.point(s)+")"),u&&h.push("rotate("+g.number(u)+")"),l.isZero(c.x-1)&&l.isZero(c.y-1)||h.push("scale("+g.point(c)+")"),f.x&&h.push("skewX("+g.number(f.x)+")"),f.y&&h.push("skewY("+g.number(f.y)+")"),n.transform=h.join(" ")}else n.transform="matrix("+t.getValues().join(",")+")"}return n}function i(t,i){for(var n=e(t._matrix),r=t._children,s=it.create("g",n,g),a=0,o=r.length;a<o;a++){var h=r[a],l=_(h,i);if(l)if(h.isClipMask()){var u=it.create("clipPath");u.appendChild(l),c(h,u,"clip"),it.set(s,{"clip-path":"url(#"+u.id+")"})}else s.appendChild(l)}return s}function n(t){var i=t._type,n=t._radius,r=e(t._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var s=t._size,a=s.width,o=s.height;r.x-=a/2,r.y-=o/2,r.width=a,r.height=o,n.isZero()&&(n=null)}return n&&("circle"===i?r.r=n:(r.rx=n.width,r.ry=n.height)),it.create(i,r,g)}function s(t){var e=o(t,"color");if(!e){var i,n=t.getGradient(),r=n._radial,s=t.getOrigin(),a=t.getDestination();if(r){i={cx:s.x,cy:s.y,r:s.getDistance(a)};var h=t.getHighlight();h&&(i.fx=h.x,i.fy=h.y)}else i={x1:s.x,y1:s.y,x2:a.x,y2:a.y};i.gradientUnits="userSpaceOnUse",e=it.create((r?"radial":"linear")+"Gradient",i,g);for(var l=n._stops,u=0,f=l.length;u<f;u++){var _=l[u],d=_._color,p=d.getAlpha(),m=_._offset;i={offset:null==m?u/(f-1):m},d&&(i["stop-color"]=d.toCSS(!0)),p<1&&(i["stop-opacity"]=p),e.appendChild(it.create("stop",i,g))}c(t,e,"color")}return"url(#"+e.id+")"}function a(t,e,i){var n={},a=!i&&t.getParent(),o=[];return null!=t._name&&(n.id=t._name),r.each(nt,function(e){var i=e.get,h=e.type,l=t[i]();if(e.exportFilter?e.exportFilter(t,l):!a||!r.equals(a[i](),l)){if("color"===h&&null!=l){var u=l.getAlpha();u<1&&(n[e.attribute+"-opacity"]=u)}"style"===h?o.push(e.attribute+": "+l):n[e.attribute]=null==l?"none":"color"===h?l.gradient?s(l,t):l.toCSS(!0):"array"===h?l.join(","):"lookup"===h?e.toSVG[l]:l}}),o.length&&(n.style=o.join(";")),1===n.opacity&&delete n.opacity,t._visible||(n.visibility="hidden"),it.set(e,n,g)}function o(t,e){return v||(v={ids:{},svgs:{}}),t&&v.svgs[e+"-"+(t._id||t.__id||(t.__id=u.get("svg")))]}function c(t,e,i){v||o();var n=v.ids[i]=(v.ids[i]||0)+1;e.id=i+"-"+n,v.svgs[i+"-"+(t._id||t.__id)]=e}function f(e,i){var n=e,r=null;if(v){n="svg"===e.nodeName.toLowerCase()&&e;for(var s in v.svgs)r||(n||(n=it.create("svg")).appendChild(e),r=n.insertBefore(it.create("defs"),n.firstChild)),r.appendChild(v.svgs[s]);v=null}return i.asString?(new t.XMLSerializer).serializeToString(n):n}function _(t,e,i){var n=w[t._class],r=n&&n(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var o=JSON.stringify(t._data);o&&"{}"!==o&&"null"!==o&&r.setAttribute("data-paper-data",o)}return r&&a(t,r,i)}function d(t){return t||(t={}),g=new h(t.precision),t}var g,v,w={Group:i,Layer:i,Raster:function(t,i){var n=e(t._matrix,!0),r=t.getSize(),s=t.getImage();return n.x-=r.width/2,n.y-=r.height/2,n.width=r.width,n.height=r.height,n.href=0==i.embedImages&&s&&s.src||t.toDataURL(),it.create("image",n,g)},Path:function(t,i){var r=i.matchShapes;if(r){var s=t.toShape(!1);if(s)return n(s)}var a,o=t._segments,h=o.length,l=e(t._matrix);if(r&&h>=2&&!t.hasHandles())if(h>2){a=t._closed?"polygon":"polyline";for(var u=[],c=0;c<h;c++)u.push(g.point(o[c]._point));l.points=u.join(" ")}else{a="line";var f=o[0]._point,_=o[1]._point;l.set({x1:f.x,y1:f.y,x2:_.x,y2:_.y})}else a="path",l.d=t.getPathData(null,i.precision);return it.create(a,l,g)},Shape:n,CompoundPath:function(t,i){var n=e(t._matrix),r=t.getPathData(null,i.precision);return r&&(n.d=r),it.create("path",n,g)},SymbolItem:function(t,i){var n=e(t._matrix,!0),r=t._definition,s=o(r,"symbol"),a=r._item,h=a.getBounds();return s||((s=it.create("symbol",{viewBox:g.rectangle(h)})).appendChild(_(a,i)),c(r,s,"symbol")),n.href="#"+s.id,n.x+=h.x,n.y+=h.y,n.width=h.width,n.height=h.height,n.overflow="visible",it.create("use",n,g)},PointText:function(t){var i=it.create("text",e(t._matrix,!0),g);return i.textContent=t._content,i}};x.inject({exportSVG:function(t){return t=d(t),f(_(this,t,!0),t)}}),y.inject({exportSVG:function(t){t=d(t);var i=this._children,n=this.getView(),s=r.pick(t.bounds,"view"),a=t.matrix||"view"===s&&n._matrix,o=a&&m.read([a]),h="view"===s?new p([0,0],n.getViewSize()):"content"===s?x._getBounds(i,o,{stroke:!0}).rect:p.read([s],0,{readNull:!0}),l={version:"1.1",xmlns:it.svg,"xmlns:xlink":it.xlink};h&&(l.width=h.width,l.height=h.height,(h.x||h.y)&&(l.viewBox=g.rectangle(h)));var u=it.create("svg",l,g),c=u;o&&!o.isIdentity()&&(c=u.appendChild(it.create("g",e(o),g)));for(var v=0,y=i.length;v<y;v++)c.appendChild(_(i[v],t,!0));return f(u,t)}})},new function(){function t(t,e,i,n,r){var s=it.get(t,e),a=null==s?n?null:i?"":0:i?s:parseFloat(s);return/%\s*$/.test(s)?a/100*(r?1:O[/x|^width/.test(e)?"width":"height"]):a}function s(e,i,n,r,s){return i=t(e,i||"x",!1,r,s),n=t(e,n||"y",!1,r,s),!r||null!=i&&null!=n?new c(i,n):null}function a(e,i,n,r,s){return i=t(e,i||"width",!1,r,s),n=t(e,n||"height",!1,r,s),!r||null!=i&&null!=n?new _(i,n):null}function o(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?b(t)||t:"lookup"===e?i[t]:t}function h(t,e,i,n){var r=t.childNodes,s="clippath"===e,a="defs"===e,o=new w,h=o._project,l=h._currentStyle,u=[];if(s||a||(o=v(o,t,n),h._currentStyle=o._style.clone()),n)for(var c=t.querySelectorAll("defs"),f=0,_=c.length;f<_;f++)C(c[f],i,!1);for(var f=0,_=r.length;f<_;f++){var d,p=r[f];1!==p.nodeType||/^defs$/i.test(p.nodeName)||!(d=C(p,i,!1))||d instanceof P||u.push(d)}return o.addChildren(u),s&&(o=v(o.reduce(),t,n)),h._currentStyle=l,(s||a)&&(o.remove(),o=null),o}function l(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],r=0,s=i.length;r<s;r+=2)n.push(new c(parseFloat(i[r]),parseFloat(i[r+1])));var a=new R(n);return"polygon"===e&&a.closePath(),a}function u(e,i){var n,r=(t(e,"href",!0)||"").substring(1),a="radialgradient"===i;if(r)(n=A[r].getGradient())._radial^a&&((n=n.clone())._radial=a);else{for(var o=e.childNodes,h=[],l=0,u=o.length;l<u;l++){var c=o[l];1===c.nodeType&&h.push(v(new q,c))}n=new j(h,a)}var f,_,d,p="userSpaceOnUse"!==t(e,"gradientUnits",!0);return a?(_=(f=s(e,"cx","cy",!1,p)).add(t(e,"r",!1,!1,p),0),d=s(e,"fx","fy",!0,p)):(f=s(e,"x1","y1",!1,p),_=s(e,"x2","y2",!1,p)),v(new B(n,f,_,d),e)._scaleToBounds=p,null}function f(t,e,i,n){if(t.transform){for(var r=(n.getAttribute(i)||"").split(/\)\s*/g),s=new m,a=0,o=r.length;a<o;a++){var h=r[a];if(!h)break;for(var l=h.split(/\(\s*/),u=l[0],c=l[1].split(/[\s,]+/g),f=0,_=c.length;f<_;f++)c[f]=parseFloat(c[f]);switch(u){case"matrix":s.append(new m(c[0],c[1],c[2],c[3],c[4],c[5]));break;case"rotate":s.rotate(c[0],c[1],c[2]);break;case"translate":s.translate(c[0],c[1]);break;case"scale":s.scale(c);break;case"skewX":s.skew(c[0],0);break;case"skewY":s.skew(0,c[0])}}t.transform(s)}}function d(t,e,i){var n="fill-opacity"===i?"getFillColor":"getStrokeColor",r=t[n]&&t[n]();r&&r.setAlpha(parseFloat(e))}function g(t,i,n){var s=t.attributes[i],a=s&&s.value;if(!a){var o=r.camelize(i);(a=t.style[o])||n.node[o]===n.parent[o]||(a=n.node[o])}return a?"none"===a?null:a:e}function v(t,i,n){if(i.style){var s=i.parentNode,a={node:U.getStyles(i)||{},parent:!n&&!/^defs$/i.test(s.tagName)&&U.getStyles(s)||{}};r.each(I,function(n,r){var s=g(i,r,a);t=s!==e&&n(t,s,r,i,a)||t})}return t}function b(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],r=n&&A[i?n.replace(i.location.href.split("#")[0]+"#",""):n];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function C(t,e,i){var s,o,h,l=t.nodeName.toLowerCase(),u="#document"!==l,c=n.body;i&&u&&(O=paper.getView().getSize(),O=a(t,null,null,!0)||O,s=it.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=t.parentNode,h=t.nextSibling,s.appendChild(t),c.appendChild(s));var f=paper.settings,_=f.applyMatrix,d=f.insertItems;f.applyMatrix=!1,f.insertItems=!1;var p=M[l],g=p&&p(t,l,e,i)||null;if(f.insertItems=d,f.applyMatrix=_,g){!u||g instanceof w||(g=v(g,t,i));var m=e.onImport,y=u&&t.getAttribute("data-paper-data");m&&(g=m(t,g,e)||g),e.expandShapes&&g instanceof S&&(g.remove(),g=g.toPath()),y&&(g._data=JSON.parse(y))}return s&&(c.removeChild(s),o&&(h?o.insertBefore(t,h):o.appendChild(t))),i&&(A={},g&&r.pick(e.applyMatrix,_)&&g.matrix.apply(!0,!0)),g}function k(t,i,r){function s(n){try{var s="object"==typeof n?n:(new u.DOMParser).parseFromString(n,"image/svg+xml");if(!s.nodeName)throw s=null,new Error("Unsupported SVG source: "+t);
paper=o,h=C(s,i,!0),i&&!1===i.insert||r._insertItem(e,h);var l=i.onLoad;l&&l(h,n)}catch(u){a(u)}}function a(t,e){var n=i.onError;if(!n)throw new Error(t);n(t,e)}if(!t)return null;i="function"==typeof i?{onLoad:i}:i||{};var o=paper,h=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var l=new FileReader;return l.onload=function(){s(l.result)},l.onerror=function(){a(l.error)},l.readAsText(t)}s(t)}else{var u=n.getElementById(t);u?s(u):K.request({url:t,async:!0,onLoad:s,onError:a})}return h}var O,A={},M={"#document":function(t,e,i,n){for(var r=t.childNodes,s=0,a=r.length;s<a;s++){var o=r[s];if(1===o.nodeType)return C(o,i,n)}},g:h,svg:h,clippath:h,polygon:l,polyline:l,path:function(t){return z.create(t.getAttribute("d"))},lineargradient:u,radialgradient:u,image:function(e){var i=new T(t(e,"href",!0));return i.on("load",function(){var t=a(e);this.setSize(t);var i=this._matrix._transformPoint(s(e).add(t.divide(2)));this.translate(i)}),i},symbol:function(t,e,i,n){return new P(h(t,e,i,n),(!0))},defs:h,use:function(e){var i=(t(e,"href",!0)||"").substring(1),n=A[i],r=s(e);return n?n instanceof P?n.place(r):n.clone().translate(r):null},circle:function(e){return new S.Circle(s(e,"cx","cy"),t(e,"r"))},ellipse:function(t){return new S.Ellipse({center:s(t,"cx","cy"),radius:a(t,"rx","ry")})},rect:function(t){return new S.Rectangle(new p(s(t),a(t)),a(t,"rx","ry"))},line:function(t){return new R.Line(s(t,"x1","y1"),s(t,"x2","y2"))},text:function(t){var e=new F(s(t).add(s(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e}},I=r.set(r.each(nt,function(t){this[t.attribute]=function(e,i){if(e[t.set]&&(e[t.set](o(i,t.type,t.fromSVG)),"color"===t.type)){var n=e[t.get]();if(n&&n._scaleToBounds){var r=e.getBounds();n.transform((new m).translate(r.getPoint()).scale(r.getSize()))}}}},{}),{id:function(t,e){A[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var i=b(e);if(i){if((i=i.clone()).setClipMask(!0),!(t instanceof w))return new w(i,t);t.insertChild(0,i)}},gradientTransform:f,transform:f,"fill-opacity":d,"stroke-opacity":d,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var i=e.match(/(.*)%$/);t.setOffset(i?i[1]/100:parseFloat(e))}},viewBox:function(t,e,i,n,r){var s,h=new p(o(e,"array")),l=a(n,null,null,!0);if(t instanceof w){var u=l?l.divide(h.getSize()):1,c=(new m).scale(u).translate(h.getPoint().negate());s=t}else t instanceof P&&(l&&h.setSize(l),s=t._item);if(s){if("visible"!==g(n,"overflow",r)){var f=new S.Rectangle(h);f.setClipMask(!0),s.addChild(f)}c&&s.transform(c)}}});x.inject({importSVG:function(t,e){return k(t,e,this)}}),y.inject({importSVG:function(t,e){return this.activate(),k(t,e,this)}})},r.exports.PaperScript=function(){function t(t,e){return(f.acorn||d).parse(t,e)}function e(t,e,i){var n=v[e];if(t&&t[n]){var r=t[n](i);return"!="===e?!r:r}switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function s(t,e){var i=y[t];if(e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function o(e,r){function s(t){for(var e=0,i=c.length;e<i;e++){var n=c[e];if(n[0]>=t)break;t+=n[1]}return t}function a(t){return e.substring(s(t.range[0]),s(t.range[1]))}function o(t,i){return e.substring(s(t.range[1]),s(i.range[0]))}function h(t,i){for(var n=s(t.range[0]),r=s(t.range[1]),a=0,o=c.length-1;o>=0;o--)if(n>c[o][0]){a=o+1;break}c.splice(a,0,[n,i.length-r+n]),e=e.substring(0,n)+i+e.substring(r)}function l(t,e){if(t){for(var i in t)if("range"!==i&&"loc"!==i){var n=t[i];if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)l(n[r],t);else n&&"object"==typeof n&&l(n,t)}switch(t.type){case"UnaryExpression":if(t.operator in y&&"Literal"!==t.argument.type){var u=a(t.argument);h(t,'$__("'+t.operator+'", '+u+")")}break;case"BinaryExpression":if(t.operator in v&&"Literal"!==t.left.type){var c=a(t.left),f=a(t.right),_=o(t.left,t.right),d=t.operator;h(t,"__$__("+c+","+_.replace(new RegExp("\\"+d),'"'+d+'"')+", "+f+")")}break;case"UpdateExpression":case"AssignmentExpression":var p=e&&e.type;if(!("ForStatement"===p||"BinaryExpression"===p&&/^[=!<>]/.test(e.operator)||"MemberExpression"===p&&e.computed))if("UpdateExpression"===t.type){var g=(u=a(t.argument))+" = "+(m="__$__("+u+', "'+t.operator[0]+'", 1)');t.prefix||"AssignmentExpression"!==p&&"VariableDeclarator"!==p||(a(e.left||e.id)===u&&(g=m),g=u+"; "+g),h(t,g)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var c=a(t.left),f=a(t.right),m=c+" = __$__("+c+', "'+t.operator[0]+'", '+f+")";h(t,/^\(.*\)$/.test(a(t))?"("+m+")":m)}}}}if(!e)return"";var u,c=[],f=(r=r||{}).url||"",_=paper.agent,d=_.versionNumber,g=!1,m=r.sourceMaps,x=r.source||e,w=/\r\n|\n|\r/gm,b=r.offset||0;if(m&&(_.chrome&&d>=30||_.webkit&&d>=537.76||_.firefox&&d>=23||_.node)){if(_.node)b-=2;else if(i&&f&&!i.location.href.indexOf(f)){var S=n.getElementsByTagName("html")[0].innerHTML;b=S.substr(0,S.indexOf(e)+1).match(w).length+1}var T=["AA"+function(t){var e="";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var i=31&t;(t>>=5)&&(i|=32),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i]}return e}((g=b>0&&!(_.chrome&&d>=36||_.safari&&d>=600||_.firefox&&d>=40||_.node))?0:b)+"A"];T.length=(e.match(w)||[]).length+1+(g?b:0),u={version:3,file:f,names:[],mappings:T.join(";AACA"),sourceRoot:"",sources:[f],sourcesContent:[x]}}return l(t(e,{ranges:!0,preserveParens:!0})),u&&(g&&(e=new Array(b+1).join("\n")+e),/^(inline|both)$/.test(m)&&(e+="\n//# sourceMappingURL=data:application/json;base64,"+p.btoa(unescape(encodeURIComponent(JSON.stringify(u))))),e+="\n//# sourceURL="+(f||"paperscript")),{url:f,source:x,code:e,map:u}}function h(t,i,a){function h(e,i){for(var n in e)!i&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(t)||(p.push(n),g.push(e[n]))}paper=i;var l,u=i.getView(),f=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(t)&&!/\bnew\s+Tool\b/.test(t)?new Q:null,_=f?f._events:[],d=["onFrame","onResize"].concat(_),p=[],g=[],m="object"==typeof t?t:o(t,a);t=m.code,h({__$__:e,$__:s,paper:i,view:u,tool:f},!0),h(i),(d=r.each(d,function(e){new RegExp("\\s+"+e+"\\b").test(t)&&(p.push(e),this.push(e+": "+e))},[]).join(", "))&&(t+="\nreturn { "+d+" };");var v=paper.agent;if(n&&(v.chrome||v.firefox&&v.versionNumber<40)){var y=n.createElement("script"),x=n.head||n.getElementsByTagName("head")[0];v.firefox&&(t="\n"+t),y.appendChild(n.createTextNode("paper._execute = function("+p+") {"+t+"\n}")),x.appendChild(y),l=paper._execute,delete paper._execute,x.removeChild(y)}else l=Function(p,t);var w=l.apply(i,g)||{};return r.each(_,function(t){var e=w[t];e&&(f[t]=e)}),u&&(w.onResize&&u.setOnResize(w.onResize),u.emit("resize",{size:u.size,delta:new c}),w.onFrame&&u.setOnFrame(w.onFrame),u.requestUpdate()),m}function l(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==a.getAttribute(t,"ignore")){var e=a.getAttribute(t,"canvas"),i=n.getElementById(e),r=t.src||t.getAttribute("data-src"),s=a.hasAttribute(t,"async");if(!i)throw new Error('Unable to find canvas with id "'+e+'"');var o=a.get(i.getAttribute("data-paper-scope"))||(new a).setup(i);return i.setAttribute("data-paper-scope",o._id),r?K.request({url:r,async:s,mimeType:"text/plain",onLoad:function(t){h(t,o,r)}}):h(t.innerHTML,o,t.baseURI),t.setAttribute("data-paper-ignore","true"),o}}function u(){r.each(n&&n.getElementsByTagName("script"),l)}var f=this,d=f.acorn;if(!d&&"undefined"!=typeof require)try{d=require("acorn")}catch(p){}if(!d){var g,m;d=g=m={},function(t,e){"object"==typeof g&&"object"==typeof m?e(g):"function"==typeof define&&define.amd?define(["exports"],e):e(t.acorn||(t.acorn={}))}(this,function(t){"use strict";function e(t){ct=t||{};for(var e in pt)Object.prototype.hasOwnProperty.call(ct,e)||(ct[e]=pt[e]);dt=ct.sourceFile||null}function i(t,e){var i=gt(ft,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=mt,n}function n(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",n=[];t:for(s=0;s<t.length;++s){for(var r=0;r<n.length;++r)if(n[r][0].length==t[s].length){n[r].push(t[s]);continue t}n.push([t[s]])}if(n.length>3){n.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var s=0;s<n.length;++s){var a=n[s];i+="case "+a[0].length+":",e(a)}i+="}"}else e(t);return new Function("str",i)}function r(){this.line=Ct,this.column=mt-Pt}function s(){Ct=1,mt=Pt=0,Tt=!0,l()}function a(t,e){yt=mt,ct.locations&&(wt=new r),bt=t,l(),St=e,Tt=t.beforeExpr}function o(){var t=ct.onComment&&ct.locations&&new r,e=mt,n=ft.indexOf("*/",mt+=2);if(-1===n&&i(mt-2,"Unterminated comment"),mt=n+2,ct.locations){Ge.lastIndex=e;for(var s;(s=Ge.exec(ft))&&s.index<mt;)++Ct,Pt=s.index+s[0].length}ct.onComment&&ct.onComment(!0,ft.slice(e+2,n),e,mt,t,ct.locations&&new r)}function h(){for(var t=mt,e=ct.onComment&&ct.locations&&new r,i=ft.charCodeAt(mt+=2);mt<_t&&10!==i&&13!==i&&8232!==i&&8233!==i;)++mt,i=ft.charCodeAt(mt);ct.onComment&&ct.onComment(!1,ft.slice(t+2,mt),t,mt,e,ct.locations&&new r)}function l(){for(;mt<_t;){var t=ft.charCodeAt(mt);if(32===t)++mt;else if(13===t)++mt,10===(e=ft.charCodeAt(mt))&&++mt,ct.locations&&(++Ct,Pt=mt);else if(10===t||8232===t||8233===t)++mt,ct.locations&&(++Ct,Pt=mt);else if(t>8&&t<14)++mt;else if(47===t){var e=ft.charCodeAt(mt+1);if(42===e)o();else{if(47!==e)break;h()}}else if(160===t)++mt;else{if(!(t>=5760&&Xe.test(String.fromCharCode(t))))break;++mt}}}function u(){var t=ft.charCodeAt(mt+1);return t>=48&&t<=57?T(!0):(++mt,a(xe))}function c(){var t=ft.charCodeAt(mt+1);return Tt?(++mt,w()):61===t?x(Te,2):x(be,1)}function f(){return 61===ft.charCodeAt(mt+1)?x(Te,2):x(De,1)}function _(t){var e=ft.charCodeAt(mt+1);return e===t?x(124===t?ke:Oe,2):61===e?x(Te,2):x(124===t?Ae:Ie,1)}function d(){return 61===ft.charCodeAt(mt+1)?x(Te,2):x(Me,1)}function p(t){var e=ft.charCodeAt(mt+1);return e===t?45==e&&62==ft.charCodeAt(mt+2)&&Ye.test(ft.slice(Ot,mt))?(mt+=3,h(),l(),y()):x(Ce,2):61===e?x(Te,2):x(Ne,1)}function g(t){var e=ft.charCodeAt(mt+1),i=1;return e===t?(i=62===t&&62===ft.charCodeAt(mt+2)?3:2,61===ft.charCodeAt(mt+i)?x(Te,i+1):x(Le,i)):33==e&&60==t&&45==ft.charCodeAt(mt+2)&&45==ft.charCodeAt(mt+3)?(mt+=4,h(),l(),y()):(61===e&&(i=61===ft.charCodeAt(mt+2)?3:2),x(Re,i))}function m(t){return 61===ft.charCodeAt(mt+1)?x(ze,61===ft.charCodeAt(mt+2)?3:2):x(61===t?Se:Pe,1)}function v(t){switch(t){case 46:return u();case 40:return++mt,a(pe);case 41:return++mt,a(ge);case 59:return++mt,a(ve);case 44:return++mt,a(me);case 91:return++mt,a(ce);case 93:return++mt,a(fe);case 123:return++mt,a(_e);case 125:return++mt,a(de);case 58:return++mt,a(ye);case 63:return++mt,a(we);case 48:var e=ft.charCodeAt(mt+1);if(120===e||88===e)return S();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return T(!1);case 34:case 39:return C(t);case 47:return c(t);case 37:case 42:return f();case 124:case 38:return _(t);case 94:return d();case 43:case 45:return p(t);case 60:case 62:return g(t);case 61:case 33:return m(t);case 126:return x(Pe,1)}return!1}function y(t){if(t?mt=vt+1:vt=mt,ct.locations&&(xt=new r),t)return w();if(mt>=_t)return a(Ft);var e=ft.charCodeAt(mt);if($e(e)||92===e)return O();var n=v(e);if(!1===n){var s=String.fromCharCode(e);if("\\"===s||Ze.test(s))return O();i(mt,"Unexpected character '"+s+"'")}return n}function x(t,e){var i=ft.slice(mt,mt+e);mt+=e,a(t,i)}function w(){for(var t,e,n="",r=mt;;){mt>=_t&&i(r,"Unterminated regular expression");var s=ft.charAt(mt);if(Ye.test(s)&&i(r,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++mt}n=ft.slice(r,mt),++mt;var o=k();o&&!/^[gmsiy]*$/.test(o)&&i(r,"Invalid regexp flag");try{var h=new RegExp(n,o)}catch(t){t instanceof SyntaxError&&i(r,t.message),i(t)}return a(Nt,h)}function b(t,e){for(var i=mt,n=0,r=0,s=null==e?1/0:e;r<s;++r){var a,o=ft.charCodeAt(mt);if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=t)break;++mt,n=n*t+a}return mt===i||null!=e&&mt-i!==e?null:n}function S(){mt+=2;var t=b(16);return null==t&&i(vt+2,"Expected hexadecimal number"),$e(ft.charCodeAt(mt))&&i(mt,"Identifier directly after number"),a(Lt,t)}function T(t){var e=mt,n=!1,r=48===ft.charCodeAt(mt);t||null!==b(10)||i(e,"Invalid number"),46===ft.charCodeAt(mt)&&(++mt,b(10),n=!0);var s=ft.charCodeAt(mt);69!==s&&101!==s||(43!==(s=ft.charCodeAt(++mt))&&45!==s||++mt,null===b(10)&&i(e,"Invalid number"),n=!0),$e(ft.charCodeAt(mt))&&i(mt,"Identifier directly after number");var o,h=ft.slice(e,mt);return n?o=parseFloat(h):r&&1!==h.length?/[89]/.test(h)||zt?i(e,"Invalid number"):o=parseInt(h,8):o=parseInt(h,10),a(Lt,o)}function C(t){mt++;for(var e="";;){mt>=_t&&i(vt,"Unterminated string constant");var n=ft.charCodeAt(mt);if(n===t)return++mt,a(Dt,e);if(92===n){n=ft.charCodeAt(++mt);var r=/^[0-7]+/.exec(ft.slice(mt,mt+3));for(r&&(r=r[0]);r&&parseInt(r,8)>255;)r=r.slice(0,-1);if("0"===r&&(r=null),++mt,r)zt&&i(mt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(r,8)),mt+=r.length-1;else switch(n){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(P(2));break;case 117:e+=String.fromCharCode(P(4));break;case 85:e+=String.fromCharCode(P(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\x0B";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===ft.charCodeAt(mt)&&++mt;case 10:ct.locations&&(Pt=mt,++Ct);break;default:e+=String.fromCharCode(n)}}else 13!==n&&10!==n&&8232!==n&&8233!==n||i(vt,"Unterminated string constant"),e+=String.fromCharCode(n),++mt}}function P(t){var e=b(16,t);return null===e&&i(vt,"Bad character escape sequence"),e}function k(){Fe=!1;for(var t,e=!0,n=mt;;){var r=ft.charCodeAt(mt);if(Je(r))Fe&&(t+=ft.charAt(mt)),++mt;else{if(92!==r)break;Fe||(t=ft.slice(n,mt)),Fe=!0,117!=ft.charCodeAt(++mt)&&i(mt,"Expecting Unicode escape sequence \\uXXXX"),++mt;var s=P(4),a=String.fromCharCode(s);a||i(mt-1,"Invalid Unicode escape"),(e?$e(s):Je(s))||i(mt-4,"Invalid Unicode escape"),t+=a}e=!1}return Fe?t:ft.slice(n,mt)}function O(){var t=k(),e=Et;return!Fe&&Ue(t)&&(e=ue[t]),a(e,t)}function A(){kt=vt,Ot=yt,At=wt,y()}function M(t){if(zt=t,mt=vt,ct.locations)for(;mt<Pt;)Pt=ft.lastIndexOf("\n",Pt-2)+1,--Ct;l(),y()}function I(){this.type=null,this.start=vt,this.end=null}function z(){this.start=xt,this.end=null,null!==dt&&(this.source=dt)}function R(){var t=new I;return ct.locations&&(t.loc=new z),ct.directSourceFile&&(t.sourceFile=ct.directSourceFile),ct.ranges&&(t.range=[vt,0]),t}function L(t){var e=new I;return e.start=t.start,ct.locations&&(e.loc=new z,e.loc.start=t.loc.start),ct.ranges&&(e.range=[t.range[0],0]),e}function N(t,e){return t.type=e,t.end=Ot,ct.locations&&(t.loc.end=At),ct.ranges&&(t.range[1]=Ot),t}function D(t){return ct.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function E(t){if(bt===t)return A(),!0}function F(){return!ct.strictSemicolons&&(bt===Ft||bt===de||Ye.test(ft.slice(Ot,vt)))}function B(){E(ve)||F()||q()}function j(t){bt===t?A():q()}function q(){i(vt,"Unexpected token")}function V(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&i(t.start,"Assigning to rvalue"),zt&&"Identifier"===t.type&&Ve(t.name)&&i(t.start,"Assigning to "+t.name+" in strict mode")}function U(t){kt=Ot=mt,ct.locations&&(At=new r),Mt=zt=null,It=[],y();var e=t||R(),i=!0;for(t||(e.body=[]);bt!==Ft;){var n=X();e.body.push(n),i&&D(n)&&M(!0),i=!1}return N(e,"Program")}function X(){(bt===be||bt===Te&&"/="==St)&&y(!0);var t=bt,e=R();switch(t){case Bt:case Vt:A();var n=t===Bt;for(E(ve)||F()?e.label=null:bt!==Et?q():(e.label=ut(),B()),f=0;f<It.length;++f){var r=It[f];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(e.label&&n)break}}return f===It.length&&i(e.start,"Unsyntactic "+t.keyword),N(e,n?"BreakStatement":"ContinueStatement");case Ut:return A(),B(),N(e,"DebuggerStatement");case Ht:return A(),It.push(Qe),e.body=X(),It.pop(),j(ie),e.test=H(),B(),N(e,"DoWhileStatement");case Yt:if(A(),It.push(Qe),j(pe),bt===ve)return W(e,null);if(bt===ee)return s=R(),A(),G(s,!0),N(s,"VariableDeclaration"),1===s.declarations.length&&E(le)?Y(e,s):W(e,s);var s=$(!1,!0);return E(le)?(V(s),Y(e,s)):W(e,s);case Gt:return A(),ht(e,!0);case $t:return A(),e.test=H(),e.consequent=X(),e.alternate=E(Zt)?X():null,N(e,"IfStatement");case Jt:return Mt||ct.allowReturnOutsideFunction||i(vt,"'return' outside of function"),A(),E(ve)||F()?e.argument=null:(e.argument=$(),B()),N(e,"ReturnStatement");case Qt:A(),e.discriminant=H(),e.cases=[],j(_e),It.push(Ke);for(var a,o;bt!=de;)if(bt===jt||bt===Xt){var h=bt===jt;a&&N(a,"SwitchCase"),e.cases.push(a=R()),a.consequent=[],A(),h?a.test=$():(o&&i(kt,"Multiple default clauses"),o=!0,a.test=null),j(ye)}else a||q(),a.consequent.push(X());return a&&N(a,"SwitchCase"),A(),It.pop(),N(e,"SwitchStatement");case Kt:return A(),Ye.test(ft.slice(Ot,vt))&&i(Ot,"Illegal newline after throw"),e.argument=$(),B(),N(e,"ThrowStatement");case te:if(A(),e.block=Z(),e.handler=null,bt===qt){var l=R();A(),j(pe),l.param=ut(),zt&&Ve(l.param.name)&&i(l.param.start,"Binding "+l.param.name+" in strict mode"),j(ge),l.guard=null,l.body=Z(),e.handler=N(l,"CatchClause")}return e.guardedHandlers=Rt,e.finalizer=E(Wt)?Z():null,e.handler||e.finalizer||i(e.start,"Missing catch or finally clause"),N(e,"TryStatement");case ee:return A(),G(e),B(),N(e,"VariableDeclaration");case ie:return A(),e.test=H(),It.push(Qe),e.body=X(),It.pop(),N(e,"WhileStatement");case ne:return zt&&i(vt,"'with' in strict mode"),A(),e.object=H(),e.body=X(),N(e,"WithStatement");case _e:return Z();case ve:return A(),N(e,"EmptyStatement");default:var u=St,c=$();if(t===Et&&"Identifier"===c.type&&E(ye)){for(var f=0;f<It.length;++f)It[f].name===u&&i(c.start,"Label '"+u+"' is already declared");var _=bt.isLoop?"loop":bt===Qt?"switch":null;return It.push({name:u,kind:_}),e.body=X(),It.pop(),e.label=c,N(e,"LabeledStatement")}return e.expression=c,B(),N(e,"ExpressionStatement")}}function H(){j(pe);var t=$();return j(ge),t}function Z(t){var e,i=R(),n=!0,r=!1;for(i.body=[],j(_e);!E(de);){var s=X();i.body.push(s),n&&t&&D(s)&&(e=r,M(r=!0)),n=!1}return r&&!e&&M(!1),N(i,"BlockStatement")}function W(t,e){return t.init=e,j(ve),t.test=bt===ve?null:$(),j(ve),t.update=bt===ge?null:$(),j(ge),t.body=X(),It.pop(),N(t,"ForStatement")}function Y(t,e){return t.left=e,t.right=$(),j(ge),t.body=X(),It.pop(),N(t,"ForInStatement")}function G(t,e){for(t.declarations=[],t.kind="var";;){var n=R();if(n.id=ut(),zt&&Ve(n.id.name)&&i(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=E(Se)?$(!0,e):null,t.declarations.push(N(n,"VariableDeclarator")),!E(me))break}return t}function $(t,e){var i=J(e);if(!t&&bt===me){var n=L(i);for(n.expressions=[i];E(me);)n.expressions.push(J(e));return N(n,"SequenceExpression")}return i}function J(t){var e=Q(t);if(bt.isAssign){var i=L(e);return i.operator=St,i.left=e,A(),i.right=J(t),V(e),N(i,"AssignmentExpression")}return e}function Q(t){var e=K(t);if(E(we)){var i=L(e);return i.test=e,i.consequent=$(!0),j(ye),i.alternate=$(!0,t),N(i,"ConditionalExpression")}return e}function K(t){return tt(et(),-1,t)}function tt(t,e,i){var n=bt.binop;if(null!=n&&(!i||bt!==le)&&n>e){var r=L(t);r.left=t,r.operator=St;var s=bt;return A(),r.right=tt(et(),n,i),tt(N(r,s===ke||s===Oe?"LogicalExpression":"BinaryExpression"),e,i)}return t}function et(){if(bt.prefix){var t=R(),e=bt.isUpdate;return t.operator=St,t.prefix=!0,Tt=!0,A(),t.argument=et(),e?V(t.argument):zt&&"delete"===t.operator&&"Identifier"===t.argument.type&&i(t.start,"Deleting local variable in strict mode"),N(t,e?"UpdateExpression":"UnaryExpression")}for(var n=it();bt.postfix&&!F();)(t=L(n)).operator=St,t.prefix=!1,t.argument=n,V(n),A(),n=N(t,"UpdateExpression");return n}function it(){return nt(rt())}function nt(t,e){if(E(xe))return(i=L(t)).object=t,i.property=ut(!0),i.computed=!1,nt(N(i,"MemberExpression"),e);if(E(ce))return(i=L(t)).object=t,i.property=$(),i.computed=!0,j(fe),nt(N(i,"MemberExpression"),e);if(!e&&E(pe)){var i=L(t);return i.callee=t,i.arguments=lt(ge,!1),nt(N(i,"CallExpression"),e)}return t}function rt(){switch(bt){case se:return n=R(),A(),N(n,"ThisExpression");case Et:return ut();case Lt:case Dt:case Nt:return(n=R()).value=St,n.raw=ft.slice(vt,yt),A(),N(n,"Literal");case ae:case oe:case he:return(n=R()).value=bt.atomValue,n.raw=bt.keyword,A(),N(n,"Literal");case pe:var t=xt,e=vt;A();var i=$();return i.start=e,i.end=yt,ct.locations&&(i.loc.start=t,i.loc.end=wt),ct.ranges&&(i.range=[e,yt]),j(ge),i;case ce:return n=R(),A(),n.elements=lt(fe,!0,!0),N(n,"ArrayExpression");case _e:return at();case Gt:var n=R();return A(),ht(n,!1);case re:return st();default:q()}}function st(){var t=R();return A(),t.callee=nt(rt(),!0),E(pe)?t.arguments=lt(ge,!1):t.arguments=Rt,N(t,"NewExpression")}function at(){var t=R(),e=!0,n=!1;for(t.properties=[],A();!E(de);){if(e)e=!1;else if(j(me),ct.allowTrailingCommas&&E(de))break;var r,s={key:ot()},a=!1;if(E(ye)?(s.value=$(!0),r=s.kind="init"):ct.ecmaVersion>=5&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(a=n=!0,r=s.kind=s.key.name,s.key=ot(),bt!==pe&&q(),s.value=ht(R(),!1)):q(),"Identifier"===s.key.type&&(zt||n))for(var o=0;o<t.properties.length;++o){var h=t.properties[o];if(h.key.name===s.key.name){var l=r==h.kind||a&&"init"===h.kind||"init"===r&&("get"===h.kind||"set"===h.kind);l&&!zt&&"init"===r&&"init"===h.kind&&(l=!1),l&&i(s.key.start,"Redefinition of property")}}t.properties.push(s)}return N(t,"ObjectExpression")}function ot(){return bt===Lt||bt===Dt?rt():ut(!0)}function ht(t,e){bt===Et?t.id=ut():e?q():t.id=null,t.params=[];var n=!0;for(j(pe);!E(ge);)n?n=!1:j(me),t.params.push(ut());var r=Mt,s=It;if(Mt=!0,It=[],t.body=Z(!0),Mt=r,It=s,zt||t.body.body.length&&D(t.body.body[0]))for(var a=t.id?-1:0;a<t.params.length;++a){var o=a<0?t.id:t.params[a];if((qe(o.name)||Ve(o.name))&&i(o.start,"Defining '"+o.name+"' in strict mode"),a>=0)for(var h=0;h<a;++h)o.name===t.params[h].name&&i(o.start,"Argument name clash in strict mode")}return N(t,e?"FunctionDeclaration":"FunctionExpression")}function lt(t,e,i){for(var n=[],r=!0;!E(t);){if(r)r=!1;else if(j(me),e&&ct.allowTrailingCommas&&E(t))break;i&&bt===me?n.push(null):n.push($(!0))}return n}function ut(t){var e=R();return t&&"everywhere"==ct.forbidReserved&&(t=!1),bt===Et?(!t&&(ct.forbidReserved&&(3===ct.ecmaVersion?Be:je)(St)||zt&&qe(St))&&-1==ft.slice(vt,yt).indexOf("\\")&&i(vt,"The keyword '"+St+"' is reserved"),e.name=St):t&&bt.keyword?e.name=bt.keyword:q(),Tt=!1,A(),N(e,"Identifier")}t.version="0.5.0";var ct,ft,_t,dt;t.parse=function(t,i){return ft=String(t),_t=ft.length,e(i),s(),U(ct.program)};var pt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},gt=t.getLineInfo=function(t,e){for(var i=1,n=0;;){Ge.lastIndex=n;var r=Ge.exec(t);if(!(r&&r.index<e))break;++i,n=r.index+r[0].length}return{line:i,column:e-n}};t.tokenize=function(t,i){function n(t){return Ot=yt,y(t),r.start=vt,r.end=yt,r.startLoc=xt,r.endLoc=wt,r.type=bt,r.value=St,r}ft=String(t),_t=ft.length,e(i),s();var r={};return n.jumpTo=function(t,e){if(mt=t,ct.locations){Ct=1,Pt=Ge.lastIndex=0;for(var i;(i=Ge.exec(ft))&&i.index<t;)++Ct,Pt=i.index+i[0].length}Tt=e,l()},n};var mt,vt,yt,xt,wt,bt,St,Tt,Ct,Pt,kt,Ot,At,Mt,It,zt,Rt=[],Lt={type:"num"},Nt={type:"regexp"},Dt={type:"string"},Et={type:"name"},Ft={type:"eof"},Bt={keyword:"break"},jt={keyword:"case",beforeExpr:!0},qt={keyword:"catch"},Vt={keyword:"continue"},Ut={keyword:"debugger"},Xt={keyword:"default"},Ht={keyword:"do",isLoop:!0},Zt={keyword:"else",beforeExpr:!0},Wt={keyword:"finally"},Yt={keyword:"for",isLoop:!0},Gt={keyword:"function"},$t={keyword:"if"},Jt={keyword:"return",beforeExpr:!0},Qt={keyword:"switch"},Kt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ie={keyword:"while",isLoop:!0},ne={keyword:"with"},re={keyword:"new",beforeExpr:!0},se={keyword:"this"},ae={keyword:"null",atomValue:null},oe={keyword:"true",atomValue:!0},he={keyword:"false",atomValue:!1},le={keyword:"in",binop:7,beforeExpr:!0},ue={"break":Bt,"case":jt,"catch":qt,"continue":Vt,"debugger":Ut,"default":Xt,"do":Ht,"else":Zt,"finally":Wt,"for":Yt,"function":Gt,"if":$t,"return":Jt,"switch":Qt,"throw":Kt,"try":te,"var":ee,"while":ie,"with":ne,"null":ae,"true":oe,"false":he,"new":re,"in":le,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":se,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},ce={type:"[",beforeExpr:!0},fe={type:"]"},_e={type:"{",beforeExpr:!0},de={type:"}"},pe={type:"(",beforeExpr:!0},ge={type:")"},me={type:",",beforeExpr:!0},ve={type:";",beforeExpr:!0},ye={type:":",beforeExpr:!0},xe={type:"."},we={type:"?",beforeExpr:!0},be={binop:10,beforeExpr:!0},Se={isAssign:!0,beforeExpr:!0},Te={isAssign:!0,beforeExpr:!0},Ce={postfix:!0,prefix:!0,isUpdate:!0},Pe={prefix:!0,beforeExpr:!0},ke={binop:1,beforeExpr:!0},Oe={binop:2,beforeExpr:!0},Ae={binop:3,beforeExpr:!0},Me={binop:4,beforeExpr:!0},Ie={binop:5,beforeExpr:!0},ze={binop:6,beforeExpr:!0},Re={binop:7,beforeExpr:!0},Le={binop:8,beforeExpr:!0},Ne={binop:9,prefix:!0,beforeExpr:!0},De={binop:10,beforeExpr:!0};t.tokTypes={bracketL:ce,bracketR:fe,braceL:_e,braceR:de,parenL:pe,parenR:ge,comma:me,semi:ve,colon:ye,dot:xe,question:we,slash:be,eq:Se,name:Et,eof:Ft,num:Lt,regexp:Nt,string:Dt};for(var Ee in ue)t.tokTypes["_"+Ee]=ue[Ee];var Fe,Be=n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),je=n("class enum extends super const export import"),qe=n("implements interface let package private protected public static yield"),Ve=n("eval arguments"),Ue=n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Xe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,He="------------------------------------------------------------------------------------------------------------------------------------------------------------K------------------------------------------------------------------------------------------------",Ze=new RegExp("["+He+"]"),We=new RegExp("["+He+"------------------------------------------------------------------------------------------------------------------------------------------]"),Ye=/[\n\r\u2028\u2029]/,Ge=/\r\n|[\n\r\u2028\u2029]/g,$e=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&Ze.test(String.fromCharCode(t)))},Je=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&We.test(String.fromCharCode(t))))},Qe={kind:"loop"},Ke={kind:"switch"}}),d.version||(d=null)}var v={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},y={"-":"__negate","+":"__self"},x=r.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{__self:function(){return this}});return c.inject(x),_.inject(x),B.inject(x),i&&("complete"===n.readyState?setTimeout(u):X.add(i,{load:u})),{compile:o,execute:h,load:function(t){return t?l(t):u()},parse:t}}.call(this),(paper=new(a.inject(r.exports,{Base:r,Numerical:l,Key:G,DomEvent:X,DomElement:U,document:n,window:i,Symbol:P,PlacedSymbol:C}))).agent.node&&require("./node/extend.js")(paper),"function"==typeof define&&define.amd?define("paper",paper):"object"==typeof module&&module&&(module.exports=paper),paper}.call(this,"object"==typeof self?self:null);
